{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///../node_modules/probe.gl/dist/esm/env/is-electron.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/react-table/es/utils.js","webpack:///./node_modules/react-table/es/lifecycle.js","webpack:///./node_modules/react-table/es/methods.js","webpack:///./node_modules/react-table/es/pagination.js","webpack:///./node_modules/react-table/es/defaultProps.js","webpack:///./node_modules/react-table/es/index.js","webpack:///./node_modules/react-table/es/propTypes.js","webpack:///./node_modules/@probe.gl/react-bench/dist/esm/components/bench-results.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///../node_modules/probe.gl/dist/esm/utils/autobind.js","webpack:///../node_modules/probe.gl/dist/esm/utils/globals.js","webpack:///../node_modules/probe.gl/dist/esm/utils/hi-res-timestamp.js","webpack:///../node_modules/probe.gl/dist/esm/utils/assert.js","webpack:///../node_modules/probe.gl/dist/esm/utils/local-storage.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/format-utils.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/stat-utils.js","webpack:///../node_modules/probe.gl/dist/esm/utils/formatters.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/bench-loggers.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/bench.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///../modules/core/test/lib/javascript.bench.js","webpack:///../modules/core/src/lib/assert.js","webpack:///../modules/core/src/lib/common.js","webpack:///../modules/core/src/classes/base/math-array.js","webpack:///../modules/core/src/lib/validators.js","webpack:///../modules/core/src/classes/base/vector.js","webpack:///../node_modules/gl-matrix/esm/common.js","webpack:///../node_modules/gl-matrix/esm/vec3.js","webpack:///../modules/core/src/lib/gl-matrix-extras.js","webpack:///../modules/core/src/classes/vector3.js","webpack:///../modules/core/test/lib/common.bench.js","webpack:///../node_modules/gl-matrix/esm/vec2.js","webpack:///../modules/core/src/classes/vector2.js","webpack:///../modules/core/test/classes/vector2.bench.js","webpack:///../modules/core/test/classes/vector3.bench.js","webpack:///../modules/core/src/classes/vector4.js","webpack:///../modules/core/test/classes/vector4.bench.js","webpack:///../modules/core/src/classes/base/matrix.js","webpack:///../node_modules/gl-matrix/esm/mat4.js","webpack:///../node_modules/gl-matrix/esm/vec4.js","webpack:///../modules/core/src/classes/matrix4.js","webpack:///../modules/core/test/classes/matrix4.bench.js","webpack:///../modules/core/test/bench.js","webpack:///../modules/geospatial/src/constants.js","webpack:///../modules/geospatial/src/type-utils.js","webpack:///../modules/core/src/lib/math-utils.js","webpack:///../modules/geospatial/src/ellipsoid/helpers/scale-to-geodetic-surface.js","webpack:///../modules/geospatial/src/ellipsoid/helpers/ellipsoid-transform.js","webpack:///../modules/geospatial/src/ellipsoid/ellipsoid.js","webpack:///../modules/geospatial/test/ellipsoid/ellipsoid.bench.js","webpack:///../modules/geospatial/test/bench.js","webpack:///../modules/culling/src/constants.js","webpack:///../modules/culling/src/lib/bounding-sphere.js","webpack:///../modules/culling/src/lib/axis-aligned-bounding-box.js","webpack:///../node_modules/gl-matrix/esm/mat3.js","webpack:///../modules/core/src/classes/matrix3.js","webpack:///../node_modules/gl-matrix/esm/quat.js","webpack:///../modules/culling/src/lib/plane.js","webpack:///../modules/culling/src/lib/oriented-bounding-box.js","webpack:///../modules/culling/src/lib/culling-volume.js","webpack:///../modules/culling/src/lib/perspective-off-center-frustum.js","webpack:///../modules/culling/src/algorithms/bounding-sphere-from-points.js","webpack:///../modules/culling/src/algorithms/compute-eigen-decomposition.js","webpack:///../modules/culling/src/algorithms/bounding-box-from-points.js","webpack:///../modules/culling/test/bench.js","webpack:///../test/modules.bench.js","webpack:///../examples/benchmarks/app.js","webpack:///./node_modules/core-js/modules/es.math.hypot.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///../node_modules/probe.gl/dist/esm/env/globals.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///../node_modules/probe.gl/dist/esm/env/is-browser.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js"],"names":["_classCallCheck","instance","Constructor","TypeError","isElectron","mockUserAgent","window","process","type","versions","Boolean","electron","realUserAgent","navigator","userAgent","indexOf","_possibleConstructorReturn","self","call","assertThisInitialized","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","_objectWithoutProperties","obj","keys","get","path","def","pathObj","makePathArray","val","reduce","current","pathPart","e","set","undefined","value","keyPart","cursor","shift","takeRight","arr","n","start","slice","last","orderBy","funcs","dirs","indexKey","sort","rowA","rowB","comp","desc","sortInt","range","push","remove","a","b","filter","splice","clone","JSON","parse","stringify","toString","getFirstDefined","sum","makeTemplateComponent","compClass","displayName","Error","cmp","_ref","children","className","rest","createElement","groupBy","xs","rv","x","resKey","isArray","splitProps","_ref2","style","compactObject","newObj","map","isSortingDesc","d","asc","normalizeComponent","Comp","props","fallback","asPx","Number","isNaN","Array","flattenDeep","newArr","join","replace","split","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_slicedToArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","_defineProperty","_toConsumableArray","arr2","from","ReferenceError","_Component","ReactTablePagination","this","_this","getSafePage","bind","changePage","applyPage","state","page","subClass","superClass","create","constructor","prevProps","prevState","setState","Math","min","max","pages","onPageChange","preventDefault","_this2","onKeyPress","which","keyCode","onBlur","onChange","inputType","pageJumpText","_this3","_props","showPageSizeOptions","pageSizeOptions","pageSize","showPageJump","canPrevious","canNext","onPageSizeChange","PreviousComponent","NextComponent","renderPageJump","renderCurrentPage","renderTotalPagesCount","renderPageSizeOptions","onClick","disabled","previousText","pageText","getPageJumpProperties","ofText","rowsSelectorText","rowsText","nextText","defaultProps","option","emptyObj","data","resolveData","loading","showPagination","showPaginationTop","showPaginationBottom","defaultPage","defaultPageSize","collapseOnSortingChange","collapseOnPageChange","collapseOnDataChange","freezeWhenExpanded","sortable","multiSort","resizable","filterable","defaultSortDesc","defaultSorted","defaultFiltered","defaultResized","defaultExpanded","defaultFilterMethod","row","column","id","pivotId","String","startsWith","defaultSortMethod","toLowerCase","onSortedChange","onFilteredChange","onResizedChange","onExpandedChange","pivotBy","pivotValKey","pivotIDKey","subRowsKey","aggregatedKey","nestingLevelKey","originalKey","groupedByPivotKey","onFetchData","getProps","getTableProps","getTheadGroupProps","getTheadGroupTrProps","getTheadGroupThProps","getTheadProps","getTheadTrProps","getTheadThProps","getTheadFilterProps","getTheadFilterTrProps","getTheadFilterThProps","getTbodyProps","getTrGroupProps","getTrProps","getTdProps","getTfootProps","getTfootTrProps","getTfootTdProps","getPaginationProps","getLoadingProps","getNoDataProps","getResizerProps","Cell","Header","Footer","Aggregated","Pivot","PivotValue","Expander","Filter","Placeholder","show","minWidth","minResizeWidth","aggregate","headerClassName","headerStyle","getHeaderProps","footerClassName","footerStyle","getFooterProps","filterMethod","filterAll","sortMethod","expanderDefaults","width","pivotDefaults","loadingText","noDataText","TableComponent","role","TheadComponent","TbodyComponent","TrGroupComponent","TrComponent","_ref3","ThComponent","_ref4","toggleSort","tabIndex","TdComponent","_ref5","TfootComponent","FilterComponent","_ref6","_onChange","placeholder","event","ExpanderComponent","_ref7","isExpanded","PivotValueComponent","_ref8","subRows","AggregatedComponent","_ref9","previewValues","PivotComponent","PaginationComponent","LoadingComponent","_ref10","NoDataComponent","ResizerComponent","PadRowComponent","any","bool","array","number","object","func","string","arrayOf","shape","oneOfType","element","elementType","node","_Methods","ReactTable","getResolvedState","getDataModel","getSortedData","fireFetchData","getPropOrState","getStateOrProp","filterData","sortData","getMinRows","sortColumn","filterColumn","resizeColumnStart","resizeColumnEnd","resizeColumnMoving","resolvedState","manual","sorted","filtered","resized","expanded","SubComponent","resolvedData","allVisibleColumns","headerGroups","hasHeaderGroups","sortedData","currentlyResizing","startRow","endRow","pageRows","minRows","padRows","hasColumnFooter","some","hasFilters","_recurseRowsViewIndex3","recurseRowsViewIndex","rows","index","rowWithViewIndex","_viewIndex","newPath","concat","_recurseRowsViewIndex","_recurseRowsViewIndex2","_recurseRowsViewIndex4","rowMinWidth","resizedColumn","find","rowIndex","finalState","rootProps","tableProps","tBodyProps","loadingProps","noDataProps","makeHeaderGroup","resizedValue","col","flex","columns","maxWidth","theadGroupThProps","columnHeaderProps","classes","styles","flexStyles","makeHeader","resizedCol","theadThProps","isResizable","resizer","onMouseDown","onTouchStart","isSortable","includes","shiftKey","makeFilter","theadFilterThProps","ResolvedFilterComponent","isFilterable","makePadColumn","tdProps","columnProps","makePadRow","trGroupProps","trProps","makeColumnFooter","tFootTdProps","columnFooterProps","makePagination","isTop","paginationProps","makeTable","theadGroupProps","theadGroupTrProps","theadProps","theadTrProps","theadFilterProps","theadFilterTrProps","makePageRow","rowInfo","original","viewIndex","level","nestingPath","aggregated","groupedByPivot","i2","cellInfo","pivoted","expander","useOnExpanderClick","isBranch","isPreview","resolvedCell","ResolvedAggregatedComponent","ResolvedExpanderComponent","ResolvedPivotValueComponent","DefaultResolvedPivotComponent","ResolvedPivotComponent","expandable","resolvedOnExpanderClick","newExpanded","setStateWithData","interactionProps","tFootProps","tFootTrProps","_Base","_class","apply","newState","dataChanged","_newState$pivotBy","forEach","columnsWithExpander","expanderColumn","col2","allDecoratedColumns","decorateAndAddToAll","parentColumn","decoratedColumn","dcol","accessor","accessorString","console","warn","makeDecoratedColumn","visibleColumns","pivotIndex","visibleSubColumns","findIndex","pivot","pivotColumns","pivotID","found","PivotParentColumn","prev","PivotGroupHeader","pivotColumnGroup","unshift","currentSpan","addHeader","accessRow","_row","aggregatingColumns","aggregationValues","values","groupRecursively","groupedRows","entries","rowGroup","_extends2","sortMethodsByColumnID","currentState","filteredData","filteredSoFar","nextFilter","_this4","orderByMethod","newPageSize","_getResolvedState","currentRow","newPage","floor","additive","_getResolvedState2","skipNextSort","firstSortDirection","secondSortDirection","newSorted","_existingIndex","existingIndex","existing","newFiltering","isTouch","_this5","stopPropagation","parentWidth","parentElement","getBoundingClientRect","pageX","changedTouches","trapEvents","startX","document","addEventListener","_props2","_getResolvedState4","currentColumn","c","newResized","newWidth","removeEventListener","Base","defaultState","dataModel","calculateNewResolvedState","oldState","defaultName","charAt","toUpperCase","optionName","newResolvedState","frozen","showFilters","ceil","cb","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","getPercent","score","logScore","log10","Star","fontSize","color","BarCell","percent","_ref$stars","stars","_ref$children","height","backgroundColor","borderRadius","transition","fill","_","PerformanceBarCell","_inherits","BenchResults","Derived","_super","result","Super","NewTarget","log","display","formattedValue","_renderTable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","_asyncToGenerator","fn","args","_createForOfIteratorHelper","minLen","_arrayLikeToArray","name","test","_unsupportedIterableToArray","F","s","f","it","normalCompletion","didErr","step","_e2","len","autobind","_step","predefined","proto","propNames","getOwnPropertyNames","_iterator","_loop","isBrowser","__VERSION__","getHiResTimestamp","timestamp","performance","now","hrtime","timeParts","assert","condition","message","getStorage","storage","setItem","removeItem","LocalStorage","defaultSettings","config","_loadConfiguration","configuration","updateConfiguration","serialized","serializedConfiguration","getItem","formatSI","precision","_splitIntoBaseAndExpo","splitIntoBaseAndExponent","base","exponent","multipleOf3","remaining","digits","pow","toPrecision","getSISuffix","SI_SUFFIXES","0","1","2","3","4","5","6","mean","numbers","cv","_mean","sqrt","std","rightPad","padLength","repeat","LOG_ENTRY","logResultsAsMarkdownTable","entry","itersPerSecond","time","toFixed","logResultsAsTree","unit","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","noop","Bench","_ref$time","_ref$delay","delay","_ref$minIterations","minIterations","markdown","probe","opts","tests","results","table","seal","_run","func1","func2","mark","_callee","timeStart","onBenchmarkComplete","elapsed","wrap","_context","runTests","logEntry","onSuiteComplete","stop","group","priority","_add","async","iterations","round","localStorage","saved","getConfiguration","updateTable","delta","options","initFunc","initialize","testFunc","multiplier","addDelay","timeout","setTimeout","runCalibrationTests","runBenchTestIterations","_x","_runTests","_callee2","_ref4$onBenchmarkComp","_context2","t0","t1","runTest","_x2","_runTest","_callee3","_ref5$silent","silent","iterationsPerSecond","_context3","runBenchTestAsync","sent","_x3","_runBenchTestAsync","_callee4","totalTime","totalIterations","_throughput","_yield$runBenchTestPa","_yield$runBenchTestFo","_context4","runBenchTestParallelIterationsAsync","runBenchTestForMinimumTimeAsync","abrupt","_x4","_x5","_runBenchTestForMinimumTimeAsync","_callee5","minTime","elapsedMillis","_context5","runBenchTestIterationsAsync","_x6","_x7","_runBenchTestParallelIterationsAsync","_callee6","testArgs","promises","context","_context6","all","_x8","_x9","_runBenchTestIterationsAsync","_callee7","_context7","Parent","Class","Function","_cache","Map","has","Wrapper","IDENTITY","ClassNoConstructor","ClassWithConstructor","ClassWithConstructorXYZ","y","z","w","ClassWithConstructor04","ArrayExtenderNoConstructor","ArrayExtenderEmptyConstructor","ArrayExtender","XYZVector","XYZVectorLogicalOr","XYZVectorBitwiseOr","RADIANS_TO_DEGREES","PI","DEGREES_TO_RADIANS","configure","formatValue","EPSILON","parseFloat","ArrayBuffer","isView","DataView","toRadians","degrees","radians","toDegrees","equals","epsilon","oldEpsilon","isFinite","abs","debug","printTypes","printDegrees","printRowMajor","MathArray","copy","arrayOrObject","fromObject","fromArray","offset","ELEMENTS","check","to","toArray","toObject","toTarget","toFloat32Array","Float32Array","formatString","exactEquals","negate","lerp","t","ai","vector","clamp","minVector","maxVector","add","vectors","subtract","scale","multiply","sub","setScalar","addScalar","subScalar","multiplyScalar","scalar","divideScalar","clampScalar","multiplyByScalar","validate","valid","checkNumber","checkVector","v","callerName","validateVector","deprecated","method","version","Vector","lengthSquared","magnitude","magnitudeSquared","distance","mathArray","distanceSquared","dist","dot","product","normalize","divide","lengthSq","distanceTo","distanceToSquared","getComponent","setComponent","addVectors","subVectors","multiplyVectors","addScaledVector","ARRAY_TYPE","random","out","hypot","fromValues","ax","ay","az","bx","by","bz","transformMat4","m","transformMat3","transformQuat","q","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","vec","vec2_transformMat4AsVector","vec3_transformMat4AsVector","vec4_transformMat3","ORIGIN","constants","Vector3","ZERO","freeze","angle","tempA","tempB","cosine","acos","vec3","cross","rotateX","r","origin","cos","sin","rotateY","rotateZ","transform","matrix4","transformAsPoint","transformAsVector","transformByMatrix3","matrix3","transformByMatrix2","matrix2","transformByQuaternion","quaternion","classicArray","float32Array","float64Array","Float64Array","vector3","Vector2","horizontalAngle","atan2","verticalAngle","vec2","transformByMatrix2x3","matrix2x3","vector2","objectVector","arrayVector","Vector4","vec4","applyMatrix4","vector4","Matrix","RANK","getElementIndex","getElement","setElement","getColumn","columnIndex","firstIndex","setColumn","columnVector","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","getScaling","mat","m11","m12","m13","m21","m22","m23","m31","m32","m33","eye","center","up","x0","x1","x2","y0","y1","y2","z0","z1","z2","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","INDICES","COL0ROW0","COL0ROW1","COL0ROW2","COL0ROW3","COL1ROW0","COL1ROW1","COL1ROW2","COL1ROW3","COL2ROW0","COL2ROW1","COL2ROW2","COL2ROW3","COL3ROW0","COL3ROW1","COL3ROW2","COL3ROW3","Matrix4","identity","m00","m10","m20","m30","m01","m02","m03","setRowMajor","toRowMajor","fromQuaternion","xx","yx","yy","zx","zy","zz","wx","wy","wz","mat4","frustum","left","right","bottom","top","near","far","Infinity","_computeInfinitePerspectiveOffCenter","rl","tb","nf","column0Row0","column1Row1","column2Row0","column2Row1","column3Row2","lookAt","ortho","lr","bt","orthographic","fovy","aspect","focalDistance","halfY","tan","perspective","fov","determinant","getScale","getTranslation","getRotation","scaleResult","inverseScale0","inverseScale1","inverseScale2","getRotationMatrix3","transpose","invert","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","multiplyLeft","multiplyRight","rad","rotateXYZ","rx","ry","rz","rotateAxis","axis","b12","b20","b21","b22","factor","translate","makeRotationX","makeTranslation","transformPoint","transformVector","transformDirection","mathglVector4","dirVector4","pointVector4","coreBench","suite","addReferenceBenchmarks","commonBench","javascriptBench","matrix4Bench","vector2Bench","vector3Bench","vector4Bench","scratchVector","fromCartographic","cartographic","longitude","latitude","fromCartographicToRadians","_cartographicRadians","toCartographic","toCartographicFromRadians","scaleToGeodeticSurfaceIntersection","scaleToGeodeticSurfaceGradient","scratchOrigin","VECTOR_PRODUCT_LOCAL_FRAME","south","north","west","east","down","degeneratePositionLocalFrame","scratchAxisVectors","scratchVector1","scratchVector2","scratchVector3","localFrameToFixedFrame","ellipsoid","firstAxis","secondAxis","thirdAxis","cartesianOrigin","firstAxisVector","secondAxisVector","thirdAxisVector","thirdAxisInferred","equalsEpsilon","sign","geodeticSurfaceNormal","wgs84","scratchNormal","scratchK","scratchPosition","scratchHeight","scratchCartesian","Ellipsoid","radii","radiiSquared","radiiToTheFourth","oneOverRadii","oneOverRadiiSquared","minimumRadius","maximumRadius","centerToleranceSquared","_MathUtils","squaredXOverSquaredZ","cartographicToCartesian","normal","k","geodeticSurfaceNormalCartographic","gamma","cartesianToCartographic","cartesian","point","scaleToGeodeticSurface","h","asin","eastNorthUpToFixedFrame","geocentricSurfaceNormal","cartographicVectorRadians","cosLatitude","positionX","positionY","positionZ","oneOverRadiiX","oneOverRadiiY","oneOverRadiiZ","squaredNorm","ratio","intersection","oneOverRadiiSquaredX","oneOverRadiiSquaredY","oneOverRadiiSquaredZ","gradient","xMultiplier","yMultiplier","zMultiplier","lambda","correction","xMultiplier2","yMultiplier2","zMultiplier2","scaleToGeocentricSurface","beta","transformPositionToScaledSpace","position","transformPositionFromScaledSpace","getSurfaceNormalIntersectionWithZAxis","buffer","WGS84","spaceCartesian","spaceCartographic","resultVector","resultMatrix","geospatialBench","ellipsoidBench","INTERSECTION","OUTSIDE","INTERSECTING","INSIDE","BoundingSphere","radius","fromCenterRadius","fromCornerPoints","corner","oppositeCorner","union","boundingSphere","leftCenter","leftRadius","rightCenter","rightRadius","toRightCenter","centerSeparation","halfDistanceBetweenTangentPoints","expand","intersectPlane","plane","distanceToPlane","distanceSquaredTo","Matrix3","mat3","rotate","transformVector2","transformVector3","setAxisAngle","omega","cosom","sinom","scale0","scale1","aw","bw","fromMat3","fRoot","fTrace","j","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","Plane","fromNormalDistance","fromPointNormal","fromCoefficients","getPointDistance","projectPointOntoPlane","pointDistance","scaledNormal","addBenchmarks","cullingBench","App","_logResult","componentDidMount","calibrate","run","parseSIPrefix","formattedError","forceUpdate","render","PureComponent","renderToDOM","container","$","$hypot","stat","forced","NaN","value1","value2","div","aLen","larg","hasOwn","classNames","argType","inner","module","exports","default","_typeof","globals","global","window_","global_","process_","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","iter","reverse","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","browser","_defineProperties"],"mappings":"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","file":"component---examples-benchmarks-app-js-68844d313312ff4b2a9f.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && _typeof(window.process) === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && _typeof(process.versions) === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  var realUserAgent = (typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  var userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport * as ReactIs from 'react-is'; //\n\nexport default {\n  get: get,\n  set: set,\n  takeRight: takeRight,\n  last: last,\n  orderBy: orderBy,\n  range: range,\n  remove: remove,\n  clone: clone,\n  getFirstDefined: getFirstDefined,\n  sum: sum,\n  makeTemplateComponent: makeTemplateComponent,\n  groupBy: groupBy,\n  isArray: isArray,\n  splitProps: splitProps,\n  compactObject: compactObject,\n  isSortingDesc: isSortingDesc,\n  normalizeComponent: normalizeComponent,\n  asPx: asPx\n};\n\nfunction get(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n\n  var pathObj = makePathArray(path);\n  var val = void 0;\n\n  try {\n    val = pathObj.reduce(function (current, pathPart) {\n      return current[pathPart];\n    }, obj);\n  } catch (e) {// continue regardless of error\n  }\n\n  return typeof val !== 'undefined' ? val : def;\n}\n\nfunction set() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var path = arguments[1];\n  var value = arguments[2];\n  var keys = makePathArray(path);\n  var keyPart = void 0;\n  var cursor = obj;\n\n  while ((keyPart = keys.shift()) && keys.length) {\n    if (!cursor[keyPart]) {\n      cursor[keyPart] = {};\n    }\n\n    cursor = cursor[keyPart];\n  }\n\n  cursor[keyPart] = value;\n  return obj;\n}\n\nfunction takeRight(arr, n) {\n  var start = n > arr.length ? 0 : arr.length - n;\n  return arr.slice(start);\n}\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nfunction range(n) {\n  var arr = [];\n\n  for (var i = 0; i < n; i += 1) {\n    arr.push(n);\n  }\n\n  return arr;\n}\n\nfunction orderBy(arr, funcs, dirs, indexKey) {\n  return arr.sort(function (rowA, rowB) {\n    for (var i = 0; i < funcs.length; i += 1) {\n      var comp = funcs[i];\n      var desc = dirs[i] === false || dirs[i] === 'desc';\n      var sortInt = comp(rowA, rowB);\n\n      if (sortInt) {\n        return desc ? -sortInt : sortInt;\n      }\n    } // Use the row index for tie breakers\n\n\n    return dirs[0] ? rowA[indexKey] - rowB[indexKey] : rowB[indexKey] - rowA[indexKey];\n  });\n}\n\nfunction remove(a, b) {\n  return a.filter(function (o, i) {\n    var r = b(o);\n\n    if (r) {\n      a.splice(i, 1);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction clone(a) {\n  try {\n    return JSON.parse(JSON.stringify(a, function (key, value) {\n      if (typeof value === 'function') {\n        return value.toString();\n      }\n\n      return value;\n    }));\n  } catch (e) {\n    return a;\n  }\n}\n\nfunction getFirstDefined() {\n  for (var i = 0; i < arguments.length; i += 1) {\n    if (typeof (arguments.length <= i ? undefined : arguments[i]) !== 'undefined') {\n      return arguments.length <= i ? undefined : arguments[i];\n    }\n  }\n}\n\nfunction sum(arr) {\n  return arr.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n}\n\nfunction makeTemplateComponent(compClass, displayName) {\n  if (!displayName) {\n    throw new Error('No displayName found for template component:', compClass);\n  }\n\n  var cmp = function cmp(_ref) {\n    var children = _ref.children,\n        className = _ref.className,\n        rest = _objectWithoutProperties(_ref, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames(compClass, className)\n    }, rest), children);\n  };\n\n  cmp.displayName = displayName;\n  return cmp;\n}\n\nfunction groupBy(xs, key) {\n  return xs.reduce(function (rv, x, i) {\n    var resKey = typeof key === 'function' ? key(x, i) : x[key];\n    rv[resKey] = isArray(rv[resKey]) ? rv[resKey] : [];\n    rv[resKey].push(x);\n    return rv;\n  }, {});\n}\n\nfunction asPx(value) {\n  value = Number(value);\n  return Number.isNaN(value) ? null : value + 'px';\n}\n\nfunction isArray(a) {\n  return Array.isArray(a);\n} // ########################################################################\n// Non-exported Helpers\n// ########################################################################\n\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join('.').replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n}\n\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction splitProps(_ref2) {\n  var className = _ref2.className,\n      style = _ref2.style,\n      rest = _objectWithoutProperties(_ref2, ['className', 'style']);\n\n  return {\n    className: className,\n    style: style,\n    rest: rest || {}\n  };\n}\n\nfunction compactObject(obj) {\n  var newObj = {};\n\n  if (obj) {\n    Object.keys(obj).map(function (key) {\n      if (Object.prototype.hasOwnProperty.call(obj, key) && obj[key] !== undefined && typeof obj[key] !== 'undefined') {\n        newObj[key] = obj[key];\n      }\n\n      return true;\n    });\n  }\n\n  return newObj;\n}\n\nfunction isSortingDesc(d) {\n  return !!(d.sort === 'desc' || d.desc === true || d.asc === false);\n}\n\nfunction normalizeComponent(Comp, props) {\n  var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Comp;\n\n  if (ReactIs.isElement(Comp) || typeof Comp === 'string') {\n    return Comp;\n  } else if (ReactIs.isValidElementType(Comp)) {\n    return React.createElement(Comp, props);\n  }\n\n  return fallback;\n}","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nexport default (function (Base) {\n  return function (_Base) {\n    _inherits(_class, _Base);\n\n    function _class(props) {\n      _classCallCheck(this, _class);\n\n      var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n      var defaultState = {\n        page: props.defaultPage,\n        pageSize: props.defaultPageSize,\n        sorted: props.defaultSorted,\n        expanded: props.defaultExpanded,\n        filtered: props.defaultFiltered,\n        resized: props.defaultResized,\n        currentlyResizing: false,\n        skipNextSort: false\n      };\n\n      var resolvedState = _this.getResolvedState(props, defaultState);\n\n      var dataModel = _this.getDataModel(resolvedState, true);\n\n      _this.state = _this.calculateNewResolvedState(dataModel);\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.fireFetchData();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps, prevState) {\n        var oldState = this.getResolvedState(prevProps, prevState);\n        var newState = this.getResolvedState(this.props, this.state); // Do a deep compare of new and old `defaultOption` and\n        // if they are different reset `option = defaultOption`\n\n        var defaultableOptions = ['sorted', 'filtered', 'resized', 'expanded'];\n        defaultableOptions.forEach(function (x) {\n          var defaultName = 'default' + (x.charAt(0).toUpperCase() + x.slice(1));\n\n          if (JSON.stringify(oldState[defaultName]) !== JSON.stringify(newState[defaultName])) {\n            newState[x] = newState[defaultName];\n          }\n        }); // If they change these table options, we need to reset defaults\n        // or else we could get into a state where the user has changed the UI\n        // and then disabled the ability to change it back.\n        // e.g. If `filterable` has changed, set `filtered = defaultFiltered`\n\n        var resettableOptions = ['sortable', 'filterable', 'resizable'];\n        resettableOptions.forEach(function (x) {\n          if (oldState[x] !== newState[x]) {\n            var baseName = x.replace('able', '');\n            var optionName = baseName + 'ed';\n            var defaultName = 'default' + (optionName.charAt(0).toUpperCase() + optionName.slice(1));\n            newState[optionName] = newState[defaultName];\n          }\n        }); // Props that trigger a data update\n\n        if (oldState.data !== newState.data || oldState.columns !== newState.columns || oldState.pivotBy !== newState.pivotBy || oldState.sorted !== newState.sorted || oldState.filtered !== newState.filtered) {\n          this.setStateWithData(this.getDataModel(newState, oldState.data !== newState.data));\n        }\n      }\n    }, {\n      key: 'calculateNewResolvedState',\n      value: function calculateNewResolvedState(dataModel) {\n        var oldState = this.getResolvedState();\n        var newResolvedState = this.getResolvedState({}, dataModel);\n        var freezeWhenExpanded = newResolvedState.freezeWhenExpanded; // Default to unfrozen state\n\n        newResolvedState.frozen = false; // If freezeWhenExpanded is set, check for frozen conditions\n\n        if (freezeWhenExpanded) {\n          // if any rows are expanded, freeze the existing data and sorting\n          var keys = Object.keys(newResolvedState.expanded);\n\n          for (var i = 0; i < keys.length; i += 1) {\n            if (newResolvedState.expanded[keys[i]]) {\n              newResolvedState.frozen = true;\n              break;\n            }\n          }\n        } // If the data isn't frozen and either the data or\n        // sorting model has changed, update the data\n\n\n        if (oldState.frozen && !newResolvedState.frozen || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData) {\n          // Handle collapseOnsortedChange & collapseOnDataChange\n          if (oldState.sorted !== newResolvedState.sorted && this.props.collapseOnSortingChange || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || oldState.sortedData && !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData && this.props.collapseOnDataChange) {\n            newResolvedState.expanded = {};\n          }\n\n          Object.assign(newResolvedState, this.getSortedData(newResolvedState));\n        } // Set page to 0 if filters change\n\n\n        if (oldState.filtered !== newResolvedState.filtered) {\n          newResolvedState.page = 0;\n        } // Calculate pageSize all the time\n\n\n        if (newResolvedState.sortedData) {\n          newResolvedState.pages = newResolvedState.manual ? newResolvedState.pages : Math.ceil(newResolvedState.sortedData.length / newResolvedState.pageSize);\n          newResolvedState.page = newResolvedState.manual ? newResolvedState.page : Math.max(newResolvedState.page >= newResolvedState.pages ? newResolvedState.pages - 1 : newResolvedState.page, 0);\n        }\n\n        return newResolvedState;\n      }\n    }, {\n      key: 'setStateWithData',\n      value: function setStateWithData(dataModel, cb) {\n        var _this2 = this;\n\n        var oldState = this.getResolvedState();\n        var newResolvedState = this.calculateNewResolvedState(dataModel);\n        return this.setState(newResolvedState, function () {\n          if (cb) {\n            cb();\n          }\n\n          if (oldState.page !== newResolvedState.page || oldState.pageSize !== newResolvedState.pageSize || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered) {\n            _this2.fireFetchData();\n          }\n        });\n      }\n    }]);\n\n    return _class;\n  }(Base);\n});","var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport _ from './utils';\nexport default (function (Base) {\n  return function (_Base) {\n    _inherits(_class, _Base);\n\n    function _class() {\n      _classCallCheck(this, _class);\n\n      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n    }\n\n    _createClass(_class, [{\n      key: 'getResolvedState',\n      value: function getResolvedState(props, state) {\n        var resolvedState = _extends({}, _.compactObject(this.state), _.compactObject(this.props), _.compactObject(state), _.compactObject(props));\n\n        return resolvedState;\n      }\n    }, {\n      key: 'getDataModel',\n      value: function getDataModel(newState, dataChanged) {\n        var _this2 = this;\n\n        var columns = newState.columns,\n            _newState$pivotBy = newState.pivotBy,\n            pivotBy = _newState$pivotBy === undefined ? [] : _newState$pivotBy,\n            data = newState.data,\n            resolveData = newState.resolveData,\n            pivotIDKey = newState.pivotIDKey,\n            pivotValKey = newState.pivotValKey,\n            subRowsKey = newState.subRowsKey,\n            aggregatedKey = newState.aggregatedKey,\n            nestingLevelKey = newState.nestingLevelKey,\n            originalKey = newState.originalKey,\n            indexKey = newState.indexKey,\n            groupedByPivotKey = newState.groupedByPivotKey,\n            SubComponent = newState.SubComponent; // Determine Header Groups\n\n        var hasHeaderGroups = false;\n        columns.forEach(function (column) {\n          if (column.columns) {\n            hasHeaderGroups = true;\n          }\n        });\n        var columnsWithExpander = [].concat(_toConsumableArray(columns));\n        var expanderColumn = columns.find(function (col) {\n          return col.expander || col.columns && col.columns.some(function (col2) {\n            return col2.expander;\n          });\n        }); // The actual expander might be in the columns field of a group column\n\n        if (expanderColumn && !expanderColumn.expander) {\n          expanderColumn = expanderColumn.columns.find(function (col) {\n            return col.expander;\n          });\n        } // If we have SubComponent's we need to make sure we have an expander column\n\n\n        if (SubComponent && !expanderColumn) {\n          expanderColumn = {\n            expander: true\n          };\n          columnsWithExpander = [expanderColumn].concat(_toConsumableArray(columnsWithExpander));\n        }\n\n        var makeDecoratedColumn = function makeDecoratedColumn(column, parentColumn) {\n          var dcol = void 0;\n\n          if (column.expander) {\n            dcol = _extends({}, _this2.props.column, _this2.props.expanderDefaults, column);\n          } else {\n            dcol = _extends({}, _this2.props.column, column);\n          } // Ensure minWidth is not greater than maxWidth if set\n\n\n          if (dcol.maxWidth < dcol.minWidth) {\n            dcol.minWidth = dcol.maxWidth;\n          }\n\n          if (parentColumn) {\n            dcol.parentColumn = parentColumn;\n          } // First check for string accessor\n\n\n          if (typeof dcol.accessor === 'string') {\n            dcol.id = dcol.id || dcol.accessor;\n            var accessorString = dcol.accessor;\n\n            dcol.accessor = function (row) {\n              return _.get(row, accessorString);\n            };\n\n            return dcol;\n          } // Fall back to functional accessor (but require an ID)\n\n\n          if (dcol.accessor && !dcol.id) {\n            console.warn(dcol);\n            throw new Error('A column id is required if using a non-string accessor for column above.');\n          } // Fall back to an undefined accessor\n\n\n          if (!dcol.accessor) {\n            dcol.accessor = function () {\n              return undefined;\n            };\n          }\n\n          return dcol;\n        };\n\n        var allDecoratedColumns = []; // Decorate the columns\n\n        var decorateAndAddToAll = function decorateAndAddToAll(column, parentColumn) {\n          var decoratedColumn = makeDecoratedColumn(column, parentColumn);\n          allDecoratedColumns.push(decoratedColumn);\n          return decoratedColumn;\n        };\n\n        var decoratedColumns = columnsWithExpander.map(function (column) {\n          if (column.columns) {\n            return _extends({}, column, {\n              columns: column.columns.map(function (d) {\n                return decorateAndAddToAll(d, column);\n              })\n            });\n          }\n\n          return decorateAndAddToAll(column);\n        }); // Build the visible columns, headers and flat column list\n\n        var visibleColumns = decoratedColumns.slice();\n        var allVisibleColumns = [];\n        visibleColumns = visibleColumns.map(function (column) {\n          if (column.columns) {\n            var visibleSubColumns = column.columns.filter(function (d) {\n              return pivotBy.indexOf(d.id) > -1 ? false : _.getFirstDefined(d.show, true);\n            });\n            return _extends({}, column, {\n              columns: visibleSubColumns\n            });\n          }\n\n          return column;\n        });\n        visibleColumns = visibleColumns.filter(function (column) {\n          return column.columns ? column.columns.length : pivotBy.indexOf(column.id) > -1 ? false : _.getFirstDefined(column.show, true);\n        }); // Find any custom pivot location\n\n        var pivotIndex = visibleColumns.findIndex(function (col) {\n          return col.pivot;\n        }); // Handle Pivot Columns\n\n        if (pivotBy.length) {\n          // Retrieve the pivot columns in the correct pivot order\n          var pivotColumns = [];\n          pivotBy.forEach(function (pivotID) {\n            var found = allDecoratedColumns.find(function (d) {\n              return d.id === pivotID;\n            });\n\n            if (found) {\n              pivotColumns.push(found);\n            }\n          });\n          var PivotParentColumn = pivotColumns.reduce(function (prev, current) {\n            return prev && prev === current.parentColumn && current.parentColumn;\n          }, pivotColumns[0].parentColumn);\n          var PivotGroupHeader = hasHeaderGroups && PivotParentColumn.Header;\n\n          PivotGroupHeader = PivotGroupHeader || function () {\n            return React.createElement('strong', null, 'Pivoted');\n          };\n\n          var pivotColumnGroup = {\n            Header: PivotGroupHeader,\n            columns: pivotColumns.map(function (col) {\n              return _extends({}, _this2.props.pivotDefaults, col, {\n                pivoted: true\n              });\n            }) // Place the pivotColumns back into the visibleColumns\n\n          };\n\n          if (pivotIndex >= 0) {\n            pivotColumnGroup = _extends({}, visibleColumns[pivotIndex], pivotColumnGroup);\n            visibleColumns.splice(pivotIndex, 1, pivotColumnGroup);\n          } else {\n            visibleColumns.unshift(pivotColumnGroup);\n          }\n        } // Build Header Groups\n\n\n        var headerGroups = [];\n        var currentSpan = []; // A convenience function to add a header and reset the currentSpan\n\n        var addHeader = function addHeader(columns, column) {\n          headerGroups.push(_extends({}, _this2.props.column, column, {\n            columns: columns\n          }));\n          currentSpan = [];\n        }; // Build flast list of allVisibleColumns and HeaderGroups\n\n\n        visibleColumns.forEach(function (column) {\n          if (column.columns) {\n            allVisibleColumns = allVisibleColumns.concat(column.columns);\n\n            if (currentSpan.length > 0) {\n              addHeader(currentSpan);\n            }\n\n            addHeader(column.columns, column);\n            return;\n          }\n\n          allVisibleColumns.push(column);\n          currentSpan.push(column);\n        });\n\n        if (hasHeaderGroups && currentSpan.length > 0) {\n          addHeader(currentSpan);\n        } // Access the data\n\n\n        var accessRow = function accessRow(d, i) {\n          var _row;\n\n          var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n          var row = (_row = {}, _defineProperty(_row, originalKey, d), _defineProperty(_row, indexKey, i), _defineProperty(_row, subRowsKey, d[subRowsKey]), _defineProperty(_row, nestingLevelKey, level), _row);\n          allDecoratedColumns.forEach(function (column) {\n            if (column.expander) return;\n            row[column.id] = column.accessor(d);\n          });\n\n          if (row[subRowsKey]) {\n            row[subRowsKey] = row[subRowsKey].map(function (d, i) {\n              return accessRow(d, i, level + 1);\n            });\n          }\n\n          return row;\n        }; // // If the data hasn't changed, just use the cached data\n\n\n        var resolvedData = this.resolvedData; // If the data has changed, run the data resolver and cache the result\n\n        if (!this.resolvedData || dataChanged) {\n          resolvedData = resolveData(data);\n          this.resolvedData = resolvedData;\n        } // Use the resolved data\n\n\n        resolvedData = resolvedData.map(function (d, i) {\n          return accessRow(d, i);\n        }); // TODO: Make it possible to fabricate nested rows without pivoting\n\n        var aggregatingColumns = allVisibleColumns.filter(function (d) {\n          return !d.expander && d.aggregate;\n        }); // If pivoting, recursively group the data\n\n        var aggregate = function aggregate(rows) {\n          var aggregationValues = {};\n          aggregatingColumns.forEach(function (column) {\n            var values = rows.map(function (d) {\n              return d[column.id];\n            });\n            aggregationValues[column.id] = column.aggregate(values, rows);\n          });\n          return aggregationValues;\n        };\n\n        if (pivotBy.length) {\n          var groupRecursively = function groupRecursively(rows, keys) {\n            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0; // This is the last level, just return the rows\n\n            if (i === keys.length) {\n              return rows;\n            } // Group the rows together for this level\n\n\n            var groupedRows = Object.entries(_.groupBy(rows, keys[i])).map(function (_ref) {\n              var _ref3;\n\n              var _ref2 = _slicedToArray(_ref, 2),\n                  key = _ref2[0],\n                  value = _ref2[1];\n\n              return _ref3 = {}, _defineProperty(_ref3, pivotIDKey, keys[i]), _defineProperty(_ref3, pivotValKey, key), _defineProperty(_ref3, keys[i], key), _defineProperty(_ref3, subRowsKey, value), _defineProperty(_ref3, nestingLevelKey, i), _defineProperty(_ref3, groupedByPivotKey, true), _ref3;\n            }); // Recurse into the subRows\n\n            groupedRows = groupedRows.map(function (rowGroup) {\n              var _extends2;\n\n              var subRows = groupRecursively(rowGroup[subRowsKey], keys, i + 1);\n              return _extends({}, rowGroup, (_extends2 = {}, _defineProperty(_extends2, subRowsKey, subRows), _defineProperty(_extends2, aggregatedKey, true), _extends2), aggregate(subRows));\n            });\n            return groupedRows;\n          };\n\n          resolvedData = groupRecursively(resolvedData, pivotBy);\n        }\n\n        return _extends({}, newState, {\n          resolvedData: resolvedData,\n          allVisibleColumns: allVisibleColumns,\n          headerGroups: headerGroups,\n          allDecoratedColumns: allDecoratedColumns,\n          hasHeaderGroups: hasHeaderGroups\n        });\n      }\n    }, {\n      key: 'getSortedData',\n      value: function getSortedData(resolvedState) {\n        var manual = resolvedState.manual,\n            sorted = resolvedState.sorted,\n            filtered = resolvedState.filtered,\n            defaultFilterMethod = resolvedState.defaultFilterMethod,\n            resolvedData = resolvedState.resolvedData,\n            allDecoratedColumns = resolvedState.allDecoratedColumns;\n        var sortMethodsByColumnID = {};\n        allDecoratedColumns.filter(function (col) {\n          return col.sortMethod;\n        }).forEach(function (col) {\n          sortMethodsByColumnID[col.id] = col.sortMethod;\n        }); // Resolve the data from either manual data or sorted data\n\n        return {\n          sortedData: manual ? resolvedData : this.sortData(this.filterData(resolvedData, filtered, defaultFilterMethod, allDecoratedColumns), sorted, sortMethodsByColumnID)\n        };\n      }\n    }, {\n      key: 'fireFetchData',\n      value: function fireFetchData() {\n        // determine the current state, preferring certain state values over props\n        var currentState = _extends({}, this.getResolvedState(), {\n          page: this.getStateOrProp('page'),\n          pageSize: this.getStateOrProp('pageSize'),\n          filtered: this.getStateOrProp('filtered')\n        });\n\n        this.props.onFetchData(currentState, this);\n      }\n    }, {\n      key: 'getPropOrState',\n      value: function getPropOrState(key) {\n        return _.getFirstDefined(this.props[key], this.state[key]);\n      }\n    }, {\n      key: 'getStateOrProp',\n      value: function getStateOrProp(key) {\n        return _.getFirstDefined(this.state[key], this.props[key]);\n      }\n    }, {\n      key: 'filterData',\n      value: function filterData(data, filtered, defaultFilterMethod, allVisibleColumns) {\n        var _this3 = this;\n\n        var filteredData = data;\n\n        if (filtered.length) {\n          filteredData = filtered.reduce(function (filteredSoFar, nextFilter) {\n            var column = allVisibleColumns.find(function (x) {\n              return x.id === nextFilter.id;\n            }); // Don't filter hidden columns or columns that have had their filters disabled\n\n            if (!column || column.filterable === false) {\n              return filteredSoFar;\n            }\n\n            var filterMethod = column.filterMethod || defaultFilterMethod; // If 'filterAll' is set to true, pass the entire dataset to the filter method\n\n            if (column.filterAll) {\n              return filterMethod(nextFilter, filteredSoFar, column);\n            }\n\n            return filteredSoFar.filter(function (row) {\n              return filterMethod(nextFilter, row, column);\n            });\n          }, filteredData); // Apply the filter to the subrows if we are pivoting, and then\n          // filter any rows without subcolumns because it would be strange to show\n\n          filteredData = filteredData.map(function (row) {\n            if (!row[_this3.props.subRowsKey]) {\n              return row;\n            }\n\n            return _extends({}, row, _defineProperty({}, _this3.props.subRowsKey, _this3.filterData(row[_this3.props.subRowsKey], filtered, defaultFilterMethod, allVisibleColumns)));\n          }).filter(function (row) {\n            if (!row[_this3.props.subRowsKey]) {\n              return true;\n            }\n\n            return row[_this3.props.subRowsKey].length > 0;\n          });\n        }\n\n        return filteredData;\n      }\n    }, {\n      key: 'sortData',\n      value: function sortData(data, sorted) {\n        var _this4 = this;\n\n        var sortMethodsByColumnID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!sorted.length) {\n          return data;\n        }\n\n        var sortedData = (this.props.orderByMethod || _.orderBy)(data, sorted.map(function (sort) {\n          // Support custom sorting methods for each column\n          if (sortMethodsByColumnID[sort.id]) {\n            return function (a, b) {\n              return sortMethodsByColumnID[sort.id](a[sort.id], b[sort.id], sort.desc);\n            };\n          }\n\n          return function (a, b) {\n            return _this4.props.defaultSortMethod(a[sort.id], b[sort.id], sort.desc);\n          };\n        }), sorted.map(function (d) {\n          return !d.desc;\n        }), this.props.indexKey);\n\n        sortedData.forEach(function (row) {\n          if (!row[_this4.props.subRowsKey]) {\n            return;\n          }\n\n          row[_this4.props.subRowsKey] = _this4.sortData(row[_this4.props.subRowsKey], sorted, sortMethodsByColumnID);\n        });\n        return sortedData;\n      }\n    }, {\n      key: 'getMinRows',\n      value: function getMinRows() {\n        return _.getFirstDefined(this.props.minRows, this.getStateOrProp('pageSize'));\n      } // User actions\n\n    }, {\n      key: 'onPageChange',\n      value: function onPageChange(page) {\n        var _props = this.props,\n            onPageChange = _props.onPageChange,\n            collapseOnPageChange = _props.collapseOnPageChange;\n        var newState = {\n          page: page\n        };\n\n        if (collapseOnPageChange) {\n          newState.expanded = {};\n        }\n\n        this.setStateWithData(newState, function () {\n          return onPageChange && onPageChange(page);\n        });\n      }\n    }, {\n      key: 'onPageSizeChange',\n      value: function onPageSizeChange(newPageSize) {\n        var onPageSizeChange = this.props.onPageSizeChange;\n\n        var _getResolvedState = this.getResolvedState(),\n            pageSize = _getResolvedState.pageSize,\n            page = _getResolvedState.page; // Normalize the page to display\n\n\n        var currentRow = pageSize * page;\n        var newPage = Math.floor(currentRow / newPageSize);\n        this.setStateWithData({\n          pageSize: newPageSize,\n          page: newPage\n        }, function () {\n          return onPageSizeChange && onPageSizeChange(newPageSize, newPage);\n        });\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(column, additive) {\n        var _getResolvedState2 = this.getResolvedState(),\n            sorted = _getResolvedState2.sorted,\n            skipNextSort = _getResolvedState2.skipNextSort,\n            defaultSortDesc = _getResolvedState2.defaultSortDesc;\n\n        var firstSortDirection = Object.prototype.hasOwnProperty.call(column, 'defaultSortDesc') ? column.defaultSortDesc : defaultSortDesc;\n        var secondSortDirection = !firstSortDirection; // we can't stop event propagation from the column resize move handlers\n        // attached to the document because of react's synthetic events\n        // so we have to prevent the sort function from actually sorting\n        // if we click on the column resize element within a header.\n\n        if (skipNextSort) {\n          this.setStateWithData({\n            skipNextSort: false\n          });\n          return;\n        }\n\n        var onSortedChange = this.props.onSortedChange;\n\n        var newSorted = _.clone(sorted || []).map(function (d) {\n          d.desc = _.isSortingDesc(d);\n          return d;\n        });\n\n        if (!_.isArray(column)) {\n          // Single-Sort\n          var existingIndex = newSorted.findIndex(function (d) {\n            return d.id === column.id;\n          });\n\n          if (existingIndex > -1) {\n            var existing = newSorted[existingIndex];\n\n            if (existing.desc === secondSortDirection) {\n              if (additive) {\n                newSorted.splice(existingIndex, 1);\n              } else {\n                existing.desc = firstSortDirection;\n                newSorted = [existing];\n              }\n            } else {\n              existing.desc = secondSortDirection;\n\n              if (!additive) {\n                newSorted = [existing];\n              }\n            }\n          } else if (additive) {\n            newSorted.push({\n              id: column.id,\n              desc: firstSortDirection\n            });\n          } else {\n            newSorted = [{\n              id: column.id,\n              desc: firstSortDirection\n            }];\n          }\n        } else {\n          // Multi-Sort\n          var _existingIndex = newSorted.findIndex(function (d) {\n            return d.id === column[0].id;\n          }); // Existing Sorted Column\n\n\n          if (_existingIndex > -1) {\n            var _existing = newSorted[_existingIndex];\n\n            if (_existing.desc === secondSortDirection) {\n              if (additive) {\n                newSorted.splice(_existingIndex, column.length);\n              } else {\n                column.forEach(function (d, i) {\n                  newSorted[_existingIndex + i].desc = firstSortDirection;\n                });\n              }\n            } else {\n              column.forEach(function (d, i) {\n                newSorted[_existingIndex + i].desc = secondSortDirection;\n              });\n            }\n\n            if (!additive) {\n              newSorted = newSorted.slice(_existingIndex, column.length);\n            } // New Sort Column\n\n          } else if (additive) {\n            newSorted = newSorted.concat(column.map(function (d) {\n              return {\n                id: d.id,\n                desc: firstSortDirection\n              };\n            }));\n          } else {\n            newSorted = column.map(function (d) {\n              return {\n                id: d.id,\n                desc: firstSortDirection\n              };\n            });\n          }\n        }\n\n        this.setStateWithData({\n          page: !sorted.length && newSorted.length || !additive ? 0 : this.state.page,\n          sorted: newSorted\n        }, function () {\n          return onSortedChange && onSortedChange(newSorted, column, additive);\n        });\n      }\n    }, {\n      key: 'filterColumn',\n      value: function filterColumn(column, value) {\n        var _getResolvedState3 = this.getResolvedState(),\n            filtered = _getResolvedState3.filtered;\n\n        var onFilteredChange = this.props.onFilteredChange; // Remove old filter first if it exists\n\n        var newFiltering = (filtered || []).filter(function (x) {\n          return x.id !== column.id;\n        });\n\n        if (value !== '') {\n          newFiltering.push({\n            id: column.id,\n            value: value\n          });\n        }\n\n        this.setStateWithData({\n          filtered: newFiltering\n        }, function () {\n          return onFilteredChange && onFilteredChange(newFiltering, column, value);\n        });\n      }\n    }, {\n      key: 'resizeColumnStart',\n      value: function resizeColumnStart(event, column, isTouch) {\n        var _this5 = this;\n\n        event.stopPropagation();\n        var parentWidth = event.target.parentElement.getBoundingClientRect().width;\n        var pageX = void 0;\n\n        if (isTouch) {\n          pageX = event.changedTouches[0].pageX;\n        } else {\n          pageX = event.pageX;\n        }\n\n        this.trapEvents = true;\n        this.setStateWithData({\n          currentlyResizing: {\n            id: column.id,\n            startX: pageX,\n            parentWidth: parentWidth\n          }\n        }, function () {\n          if (isTouch) {\n            document.addEventListener('touchmove', _this5.resizeColumnMoving);\n            document.addEventListener('touchcancel', _this5.resizeColumnEnd);\n            document.addEventListener('touchend', _this5.resizeColumnEnd);\n          } else {\n            document.addEventListener('mousemove', _this5.resizeColumnMoving);\n            document.addEventListener('mouseup', _this5.resizeColumnEnd);\n            document.addEventListener('mouseleave', _this5.resizeColumnEnd);\n          }\n        });\n      }\n    }, {\n      key: 'resizeColumnMoving',\n      value: function resizeColumnMoving(event) {\n        event.stopPropagation();\n        var _props2 = this.props,\n            onResizedChange = _props2.onResizedChange,\n            column = _props2.column;\n\n        var _getResolvedState4 = this.getResolvedState(),\n            resized = _getResolvedState4.resized,\n            currentlyResizing = _getResolvedState4.currentlyResizing,\n            columns = _getResolvedState4.columns;\n\n        var currentColumn = columns.find(function (c) {\n          return c.accessor === currentlyResizing.id || c.id === currentlyResizing.id;\n        });\n        var minResizeWidth = currentColumn && currentColumn.minResizeWidth != null ? currentColumn.minResizeWidth : column.minResizeWidth; // Delete old value\n\n        var newResized = resized.filter(function (x) {\n          return x.id !== currentlyResizing.id;\n        });\n        var pageX = void 0;\n\n        if (event.type === 'touchmove') {\n          pageX = event.changedTouches[0].pageX;\n        } else if (event.type === 'mousemove') {\n          pageX = event.pageX;\n        }\n\n        var newWidth = Math.max(currentlyResizing.parentWidth + pageX - currentlyResizing.startX, minResizeWidth);\n        newResized.push({\n          id: currentlyResizing.id,\n          value: newWidth\n        });\n        this.setStateWithData({\n          resized: newResized\n        }, function () {\n          return onResizedChange && onResizedChange(newResized, event);\n        });\n      }\n    }, {\n      key: 'resizeColumnEnd',\n      value: function resizeColumnEnd(event) {\n        event.stopPropagation();\n        var isTouch = event.type === 'touchend' || event.type === 'touchcancel';\n\n        if (isTouch) {\n          document.removeEventListener('touchmove', this.resizeColumnMoving);\n          document.removeEventListener('touchcancel', this.resizeColumnEnd);\n          document.removeEventListener('touchend', this.resizeColumnEnd);\n        } // If its a touch event clear the mouse one's as well because sometimes\n        // the mouseDown event gets called as well, but the mouseUp event doesn't\n\n\n        document.removeEventListener('mousemove', this.resizeColumnMoving);\n        document.removeEventListener('mouseup', this.resizeColumnEnd);\n        document.removeEventListener('mouseleave', this.resizeColumnEnd); // The touch events don't propagate up to the sorting's onMouseDown event so\n        // no need to prevent it from happening or else the first click after a touch\n        // event resize will not sort the column.\n\n        if (!isTouch) {\n          this.setStateWithData({\n            skipNextSort: true,\n            currentlyResizing: false\n          });\n        }\n      }\n    }]);\n\n    return _class;\n  }(Base);\n});","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\n\nvar defaultButton = function defaultButton(props) {\n  return React.createElement('button', _extends({\n    type: 'button'\n  }, props, {\n    className: '-btn'\n  }), props.children);\n};\n\nvar ReactTablePagination = function (_Component) {\n  _inherits(ReactTablePagination, _Component);\n\n  function ReactTablePagination(props) {\n    _classCallCheck(this, ReactTablePagination);\n\n    var _this = _possibleConstructorReturn(this, (ReactTablePagination.__proto__ || Object.getPrototypeOf(ReactTablePagination)).call(this, props));\n\n    _this.getSafePage = _this.getSafePage.bind(_this);\n    _this.changePage = _this.changePage.bind(_this);\n    _this.applyPage = _this.applyPage.bind(_this);\n    _this.state = {\n      page: props.page\n    };\n    return _this;\n  }\n\n  _createClass(ReactTablePagination, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.page !== this.props.page && prevState.page !== this.state.page) {\n        // this is probably safe because we only update when old/new state.page are different\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          page: this.props.page\n        });\n      }\n    }\n  }, {\n    key: 'getSafePage',\n    value: function getSafePage(page) {\n      if (Number.isNaN(page)) {\n        page = this.props.page;\n      }\n\n      return Math.min(Math.max(page, 0), this.props.pages - 1);\n    }\n  }, {\n    key: 'changePage',\n    value: function changePage(page) {\n      page = this.getSafePage(page);\n      this.setState({\n        page: page\n      });\n\n      if (this.props.page !== page) {\n        this.props.onPageChange(page);\n      }\n    }\n  }, {\n    key: 'applyPage',\n    value: function applyPage(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      var page = this.state.page;\n      this.changePage(page === '' ? this.props.page : page);\n    }\n  }, {\n    key: 'getPageJumpProperties',\n    value: function getPageJumpProperties() {\n      var _this2 = this;\n\n      return {\n        onKeyPress: function onKeyPress(e) {\n          if (e.which === 13 || e.keyCode === 13) {\n            _this2.applyPage();\n          }\n        },\n        onBlur: this.applyPage,\n        value: this.state.page === '' ? '' : this.state.page + 1,\n        onChange: function onChange(e) {\n          var val = e.target.value;\n          var page = val - 1;\n\n          if (val === '') {\n            return _this2.setState({\n              page: val\n            });\n          }\n\n          _this2.setState({\n            page: _this2.getSafePage(page)\n          });\n        },\n        inputType: this.state.page === '' ? 'text' : 'number',\n        pageJumpText: this.props.pageJumpText\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          pages = _props.pages,\n          page = _props.page,\n          showPageSizeOptions = _props.showPageSizeOptions,\n          pageSizeOptions = _props.pageSizeOptions,\n          pageSize = _props.pageSize,\n          showPageJump = _props.showPageJump,\n          canPrevious = _props.canPrevious,\n          canNext = _props.canNext,\n          onPageSizeChange = _props.onPageSizeChange,\n          className = _props.className,\n          PreviousComponent = _props.PreviousComponent,\n          NextComponent = _props.NextComponent,\n          renderPageJump = _props.renderPageJump,\n          renderCurrentPage = _props.renderCurrentPage,\n          renderTotalPagesCount = _props.renderTotalPagesCount,\n          renderPageSizeOptions = _props.renderPageSizeOptions;\n      return React.createElement('div', {\n        className: classnames(className, '-pagination'),\n        style: this.props.style\n      }, React.createElement('div', {\n        className: '-previous'\n      }, React.createElement(PreviousComponent, {\n        onClick: function onClick() {\n          if (!canPrevious) return;\n\n          _this3.changePage(page - 1);\n        },\n        disabled: !canPrevious\n      }, this.props.previousText)), React.createElement('div', {\n        className: '-center'\n      }, React.createElement('span', {\n        className: '-pageInfo'\n      }, this.props.pageText, ' ', showPageJump ? renderPageJump(this.getPageJumpProperties()) : renderCurrentPage(page), ' ', this.props.ofText, ' ', renderTotalPagesCount(pages)), showPageSizeOptions && renderPageSizeOptions({\n        pageSize: pageSize,\n        rowsSelectorText: this.props.rowsSelectorText,\n        pageSizeOptions: pageSizeOptions,\n        onPageSizeChange: onPageSizeChange,\n        rowsText: this.props.rowsText\n      })), React.createElement('div', {\n        className: '-next'\n      }, React.createElement(NextComponent, {\n        onClick: function onClick() {\n          if (!canNext) return;\n\n          _this3.changePage(page + 1);\n        },\n        disabled: !canNext\n      }, this.props.nextText)));\n    }\n  }]);\n\n  return ReactTablePagination;\n}(Component);\n\nReactTablePagination.defaultProps = {\n  PreviousComponent: defaultButton,\n  NextComponent: defaultButton,\n  renderPageJump: function renderPageJump(_ref) {\n    var onChange = _ref.onChange,\n        value = _ref.value,\n        onBlur = _ref.onBlur,\n        onKeyPress = _ref.onKeyPress,\n        inputType = _ref.inputType,\n        pageJumpText = _ref.pageJumpText;\n    return React.createElement('div', {\n      className: '-pageJump'\n    }, React.createElement('input', {\n      'aria-label': pageJumpText,\n      type: inputType,\n      onChange: onChange,\n      value: value,\n      onBlur: onBlur,\n      onKeyPress: onKeyPress\n    }));\n  },\n  renderCurrentPage: function renderCurrentPage(page) {\n    return React.createElement('span', {\n      className: '-currentPage'\n    }, page + 1);\n  },\n  renderTotalPagesCount: function renderTotalPagesCount(pages) {\n    return React.createElement('span', {\n      className: '-totalPages'\n    }, pages || 1);\n  },\n  renderPageSizeOptions: function renderPageSizeOptions(_ref2) {\n    var pageSize = _ref2.pageSize,\n        pageSizeOptions = _ref2.pageSizeOptions,\n        rowsSelectorText = _ref2.rowsSelectorText,\n        onPageSizeChange = _ref2.onPageSizeChange,\n        rowsText = _ref2.rowsText;\n    return React.createElement('span', {\n      className: 'select-wrap -pageSizeOptions'\n    }, React.createElement('select', {\n      'aria-label': rowsSelectorText,\n      onChange: function onChange(e) {\n        return onPageSizeChange(Number(e.target.value));\n      },\n      value: pageSize\n    }, pageSizeOptions.map(function (option, i) {\n      return (// eslint-disable-next-line react/no-array-index-key\n        React.createElement('option', {\n          key: i,\n          value: option\n        }, option + ' ' + rowsText)\n      );\n    })));\n  }\n};\nexport default ReactTablePagination;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport classnames from 'classnames'; //\n\nimport _ from './utils';\nimport Pagination from './pagination';\n\nvar emptyObj = function emptyObj() {\n  return {};\n};\n\nexport default {\n  // General\n  data: [],\n  resolveData: function resolveData(data) {\n    return data;\n  },\n  loading: false,\n  showPagination: true,\n  showPaginationTop: false,\n  showPaginationBottom: true,\n  showPageSizeOptions: true,\n  pageSizeOptions: [5, 10, 20, 25, 50, 100],\n  defaultPage: 0,\n  defaultPageSize: 20,\n  showPageJump: true,\n  collapseOnSortingChange: true,\n  collapseOnPageChange: true,\n  collapseOnDataChange: true,\n  freezeWhenExpanded: false,\n  sortable: true,\n  multiSort: true,\n  resizable: true,\n  filterable: false,\n  defaultSortDesc: false,\n  defaultSorted: [],\n  defaultFiltered: [],\n  defaultResized: [],\n  defaultExpanded: {},\n  // eslint-disable-next-line no-unused-vars\n  defaultFilterMethod: function defaultFilterMethod(filter, row, column) {\n    var id = filter.pivotId || filter.id;\n    return row[id] !== undefined ? String(row[id]).startsWith(filter.value) : true;\n  },\n  // eslint-disable-next-line no-unused-vars\n  defaultSortMethod: function defaultSortMethod(a, b, desc) {\n    // force null and undefined to the bottom\n    a = a === null || a === undefined ? '' : a;\n    b = b === null || b === undefined ? '' : b; // force any string values to lowercase\n\n    a = typeof a === 'string' ? a.toLowerCase() : a;\n    b = typeof b === 'string' ? b.toLowerCase() : b; // Return either 1 or -1 to indicate a sort priority\n\n    if (a > b) {\n      return 1;\n    }\n\n    if (a < b) {\n      return -1;\n    } // returning 0, undefined or any falsey value will use subsequent sorts or\n    // the index as a tiebreaker\n\n\n    return 0;\n  },\n  // Controlled State Props\n  // page: undefined,\n  // pageSize: undefined,\n  // sorted: [],\n  // filtered: [],\n  // resized: [],\n  // expanded: {},\n  // Controlled State Callbacks\n  onPageChange: undefined,\n  onPageSizeChange: undefined,\n  onSortedChange: undefined,\n  onFilteredChange: undefined,\n  onResizedChange: undefined,\n  onExpandedChange: undefined,\n  // Pivoting\n  pivotBy: undefined,\n  // Key Constants\n  pivotValKey: '_pivotVal',\n  pivotIDKey: '_pivotID',\n  subRowsKey: '_subRows',\n  aggregatedKey: '_aggregated',\n  nestingLevelKey: '_nestingLevel',\n  originalKey: '_original',\n  indexKey: '_index',\n  groupedByPivotKey: '_groupedByPivot',\n  // Server-side Callbacks\n  onFetchData: function onFetchData() {\n    return null;\n  },\n  // Classes\n  className: '',\n  style: {},\n  // Component decorators\n  getProps: emptyObj,\n  getTableProps: emptyObj,\n  getTheadGroupProps: emptyObj,\n  getTheadGroupTrProps: emptyObj,\n  getTheadGroupThProps: emptyObj,\n  getTheadProps: emptyObj,\n  getTheadTrProps: emptyObj,\n  getTheadThProps: emptyObj,\n  getTheadFilterProps: emptyObj,\n  getTheadFilterTrProps: emptyObj,\n  getTheadFilterThProps: emptyObj,\n  getTbodyProps: emptyObj,\n  getTrGroupProps: emptyObj,\n  getTrProps: emptyObj,\n  getTdProps: emptyObj,\n  getTfootProps: emptyObj,\n  getTfootTrProps: emptyObj,\n  getTfootTdProps: emptyObj,\n  getPaginationProps: emptyObj,\n  getLoadingProps: emptyObj,\n  getNoDataProps: emptyObj,\n  getResizerProps: emptyObj,\n  // Global Column Defaults\n  column: {\n    // Renderers\n    Cell: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Aggregated: undefined,\n    Pivot: undefined,\n    PivotValue: undefined,\n    Expander: undefined,\n    Filter: undefined,\n    Placeholder: undefined,\n    // All Columns\n    sortable: undefined,\n    // use table default\n    resizable: undefined,\n    // use table default\n    filterable: undefined,\n    // use table default\n    show: true,\n    minWidth: 100,\n    minResizeWidth: 11,\n    // Cells only\n    className: '',\n    style: {},\n    getProps: emptyObj,\n    // Pivot only\n    aggregate: undefined,\n    // Headers only\n    headerClassName: '',\n    headerStyle: {},\n    getHeaderProps: emptyObj,\n    // Footers only\n    footerClassName: '',\n    footerStyle: {},\n    getFooterProps: emptyObj,\n    filterMethod: undefined,\n    filterAll: false,\n    sortMethod: undefined\n  },\n  // Global Expander Column Defaults\n  expanderDefaults: {\n    sortable: false,\n    resizable: false,\n    filterable: false,\n    width: 35\n  },\n  pivotDefaults: {// extend the defaults for pivoted columns here\n  },\n  // Text\n  previousText: 'Previous',\n  nextText: 'Next',\n  loadingText: 'Loading...',\n  noDataText: 'No rows found',\n  pageText: 'Page',\n  ofText: 'of',\n  rowsText: 'rows',\n  pageJumpText: 'jump to page',\n  rowsSelectorText: 'rows per page',\n  // Components\n  TableComponent: function TableComponent(_ref) {\n    var children = _ref.children,\n        className = _ref.className,\n        rest = _objectWithoutProperties(_ref, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-table', className),\n      role: 'grid' // tabIndex='0'\n\n    }, rest), children);\n  },\n  TheadComponent: _.makeTemplateComponent('rt-thead', 'Thead'),\n  TbodyComponent: _.makeTemplateComponent('rt-tbody', 'Tbody'),\n  TrGroupComponent: function TrGroupComponent(_ref2) {\n    var children = _ref2.children,\n        className = _ref2.className,\n        rest = _objectWithoutProperties(_ref2, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-tr-group', className),\n      role: 'rowgroup'\n    }, rest), children);\n  },\n  TrComponent: function TrComponent(_ref3) {\n    var children = _ref3.children,\n        className = _ref3.className,\n        rest = _objectWithoutProperties(_ref3, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-tr', className),\n      role: 'row'\n    }, rest), children);\n  },\n  ThComponent: function ThComponent(_ref4) {\n    var toggleSort = _ref4.toggleSort,\n        className = _ref4.className,\n        children = _ref4.children,\n        rest = _objectWithoutProperties(_ref4, ['toggleSort', 'className', 'children']);\n\n    return (// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n      React.createElement('div', _extends({\n        className: classnames('rt-th', className),\n        onClick: function onClick(e) {\n          return toggleSort && toggleSort(e);\n        },\n        role: 'columnheader',\n        tabIndex: '-1' // Resolves eslint issues without implementing keyboard navigation incorrectly\n\n      }, rest), children)\n    );\n  },\n  TdComponent: function TdComponent(_ref5) {\n    var toggleSort = _ref5.toggleSort,\n        className = _ref5.className,\n        children = _ref5.children,\n        rest = _objectWithoutProperties(_ref5, ['toggleSort', 'className', 'children']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-td', className),\n      role: 'gridcell'\n    }, rest), children);\n  },\n  TfootComponent: _.makeTemplateComponent('rt-tfoot', 'Tfoot'),\n  FilterComponent: function FilterComponent(_ref6) {\n    var filter = _ref6.filter,\n        _onChange = _ref6.onChange,\n        column = _ref6.column;\n    return React.createElement('input', {\n      type: 'text',\n      style: {\n        width: '100%'\n      },\n      placeholder: column.Placeholder,\n      value: filter ? filter.value : '',\n      onChange: function onChange(event) {\n        return _onChange(event.target.value);\n      }\n    });\n  },\n  ExpanderComponent: function ExpanderComponent(_ref7) {\n    var isExpanded = _ref7.isExpanded;\n    return React.createElement('div', {\n      className: classnames('rt-expander', isExpanded && '-open')\n    }, \"\\u2022\");\n  },\n  PivotValueComponent: function PivotValueComponent(_ref8) {\n    var subRows = _ref8.subRows,\n        value = _ref8.value;\n    return React.createElement('span', null, value, ' ', subRows && '(' + subRows.length + ')');\n  },\n  AggregatedComponent: function AggregatedComponent(_ref9) {\n    var subRows = _ref9.subRows,\n        column = _ref9.column;\n    var previewValues = subRows.filter(function (d) {\n      return typeof d[column.id] !== 'undefined';\n    }).map(function (row, i) {\n      return (// eslint-disable-next-line react/no-array-index-key\n        React.createElement('span', {\n          key: i\n        }, row[column.id], i < subRows.length - 1 ? ', ' : '')\n      );\n    });\n    return React.createElement('span', null, previewValues);\n  },\n  PivotComponent: undefined,\n  // this is a computed default generated using\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: Pagination,\n  PreviousComponent: undefined,\n  NextComponent: undefined,\n  LoadingComponent: function LoadingComponent(_ref10) {\n    var className = _ref10.className,\n        loading = _ref10.loading,\n        loadingText = _ref10.loadingText,\n        rest = _objectWithoutProperties(_ref10, ['className', 'loading', 'loadingText']);\n\n    return React.createElement('div', _extends({\n      className: classnames('-loading', {\n        '-active': loading\n      }, className)\n    }, rest), React.createElement('div', {\n      className: '-loading-inner'\n    }, loadingText));\n  },\n  NoDataComponent: _.makeTemplateComponent('rt-noData', 'NoData'),\n  ResizerComponent: _.makeTemplateComponent('rt-resizer', 'Resizer'),\n  PadRowComponent: function PadRowComponent() {\n    return React.createElement('span', null, '\\xA0');\n  }\n};","var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport classnames from 'classnames'; //\n\nimport _ from './utils';\nimport Lifecycle from './lifecycle';\nimport Methods from './methods';\nimport defaultProps from './defaultProps';\nimport propTypes from './propTypes';\nexport var ReactTableDefaults = defaultProps;\n\nvar ReactTable = function (_Methods) {\n  _inherits(ReactTable, _Methods);\n\n  function ReactTable(props) {\n    _classCallCheck(this, ReactTable);\n\n    var _this = _possibleConstructorReturn(this, (ReactTable.__proto__ || Object.getPrototypeOf(ReactTable)).call(this, props));\n\n    _this.getResolvedState = _this.getResolvedState.bind(_this);\n    _this.getDataModel = _this.getDataModel.bind(_this);\n    _this.getSortedData = _this.getSortedData.bind(_this);\n    _this.fireFetchData = _this.fireFetchData.bind(_this);\n    _this.getPropOrState = _this.getPropOrState.bind(_this);\n    _this.getStateOrProp = _this.getStateOrProp.bind(_this);\n    _this.filterData = _this.filterData.bind(_this);\n    _this.sortData = _this.sortData.bind(_this);\n    _this.getMinRows = _this.getMinRows.bind(_this);\n    _this.onPageChange = _this.onPageChange.bind(_this);\n    _this.onPageSizeChange = _this.onPageSizeChange.bind(_this);\n    _this.sortColumn = _this.sortColumn.bind(_this);\n    _this.filterColumn = _this.filterColumn.bind(_this);\n    _this.resizeColumnStart = _this.resizeColumnStart.bind(_this);\n    _this.resizeColumnEnd = _this.resizeColumnEnd.bind(_this);\n    _this.resizeColumnMoving = _this.resizeColumnMoving.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTable, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var resolvedState = this.getResolvedState();\n      var children = resolvedState.children,\n          className = resolvedState.className,\n          style = resolvedState.style,\n          getProps = resolvedState.getProps,\n          getTableProps = resolvedState.getTableProps,\n          getTheadGroupProps = resolvedState.getTheadGroupProps,\n          getTheadGroupTrProps = resolvedState.getTheadGroupTrProps,\n          getTheadGroupThProps = resolvedState.getTheadGroupThProps,\n          getTheadProps = resolvedState.getTheadProps,\n          getTheadTrProps = resolvedState.getTheadTrProps,\n          getTheadThProps = resolvedState.getTheadThProps,\n          getTheadFilterProps = resolvedState.getTheadFilterProps,\n          getTheadFilterTrProps = resolvedState.getTheadFilterTrProps,\n          getTheadFilterThProps = resolvedState.getTheadFilterThProps,\n          getTbodyProps = resolvedState.getTbodyProps,\n          getTrGroupProps = resolvedState.getTrGroupProps,\n          getTrProps = resolvedState.getTrProps,\n          getTdProps = resolvedState.getTdProps,\n          getTfootProps = resolvedState.getTfootProps,\n          getTfootTrProps = resolvedState.getTfootTrProps,\n          getTfootTdProps = resolvedState.getTfootTdProps,\n          getPaginationProps = resolvedState.getPaginationProps,\n          getLoadingProps = resolvedState.getLoadingProps,\n          getNoDataProps = resolvedState.getNoDataProps,\n          getResizerProps = resolvedState.getResizerProps,\n          showPagination = resolvedState.showPagination,\n          showPaginationTop = resolvedState.showPaginationTop,\n          showPaginationBottom = resolvedState.showPaginationBottom,\n          manual = resolvedState.manual,\n          loadingText = resolvedState.loadingText,\n          noDataText = resolvedState.noDataText,\n          sortable = resolvedState.sortable,\n          multiSort = resolvedState.multiSort,\n          resizable = resolvedState.resizable,\n          filterable = resolvedState.filterable,\n          pivotIDKey = resolvedState.pivotIDKey,\n          pivotValKey = resolvedState.pivotValKey,\n          pivotBy = resolvedState.pivotBy,\n          subRowsKey = resolvedState.subRowsKey,\n          aggregatedKey = resolvedState.aggregatedKey,\n          originalKey = resolvedState.originalKey,\n          indexKey = resolvedState.indexKey,\n          groupedByPivotKey = resolvedState.groupedByPivotKey,\n          loading = resolvedState.loading,\n          pageSize = resolvedState.pageSize,\n          page = resolvedState.page,\n          sorted = resolvedState.sorted,\n          filtered = resolvedState.filtered,\n          resized = resolvedState.resized,\n          expanded = resolvedState.expanded,\n          pages = resolvedState.pages,\n          onExpandedChange = resolvedState.onExpandedChange,\n          TableComponent = resolvedState.TableComponent,\n          TheadComponent = resolvedState.TheadComponent,\n          TbodyComponent = resolvedState.TbodyComponent,\n          TrGroupComponent = resolvedState.TrGroupComponent,\n          TrComponent = resolvedState.TrComponent,\n          ThComponent = resolvedState.ThComponent,\n          TdComponent = resolvedState.TdComponent,\n          TfootComponent = resolvedState.TfootComponent,\n          PaginationComponent = resolvedState.PaginationComponent,\n          LoadingComponent = resolvedState.LoadingComponent,\n          SubComponent = resolvedState.SubComponent,\n          NoDataComponent = resolvedState.NoDataComponent,\n          ResizerComponent = resolvedState.ResizerComponent,\n          ExpanderComponent = resolvedState.ExpanderComponent,\n          PivotValueComponent = resolvedState.PivotValueComponent,\n          PivotComponent = resolvedState.PivotComponent,\n          AggregatedComponent = resolvedState.AggregatedComponent,\n          FilterComponent = resolvedState.FilterComponent,\n          PadRowComponent = resolvedState.PadRowComponent,\n          resolvedData = resolvedState.resolvedData,\n          allVisibleColumns = resolvedState.allVisibleColumns,\n          headerGroups = resolvedState.headerGroups,\n          hasHeaderGroups = resolvedState.hasHeaderGroups,\n          sortedData = resolvedState.sortedData,\n          currentlyResizing = resolvedState.currentlyResizing; // Pagination\n\n      var startRow = pageSize * page;\n      var endRow = startRow + pageSize;\n      var pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow);\n      var minRows = this.getMinRows();\n\n      var padRows = _.range(Math.max(minRows - pageRows.length, 0));\n\n      var hasColumnFooter = allVisibleColumns.some(function (d) {\n        return d.Footer;\n      });\n      var hasFilters = filterable || allVisibleColumns.some(function (d) {\n        return d.filterable;\n      });\n\n      var recurseRowsViewIndex = function recurseRowsViewIndex(rows) {\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n        return [rows.map(function (row, i) {\n          index += 1;\n\n          var rowWithViewIndex = _extends({}, row, {\n            _viewIndex: index\n          });\n\n          var newPath = path.concat([i]);\n\n          if (rowWithViewIndex[subRowsKey] && _.get(expanded, newPath)) {\n            var _recurseRowsViewIndex = recurseRowsViewIndex(rowWithViewIndex[subRowsKey], newPath, index);\n\n            var _recurseRowsViewIndex2 = _slicedToArray(_recurseRowsViewIndex, 2);\n\n            rowWithViewIndex[subRowsKey] = _recurseRowsViewIndex2[0];\n            index = _recurseRowsViewIndex2[1];\n          }\n\n          return rowWithViewIndex;\n        }), index];\n      };\n\n      var _recurseRowsViewIndex3 = recurseRowsViewIndex(pageRows);\n\n      var _recurseRowsViewIndex4 = _slicedToArray(_recurseRowsViewIndex3, 1);\n\n      pageRows = _recurseRowsViewIndex4[0];\n      var canPrevious = page > 0;\n      var canNext = page + 1 < pages;\n\n      var rowMinWidth = _.sum(allVisibleColumns.map(function (d) {\n        var resizedColumn = resized.find(function (x) {\n          return x.id === d.id;\n        }) || {};\n        return _.getFirstDefined(resizedColumn.value, d.width, d.minWidth);\n      }));\n\n      var rowIndex = -1;\n\n      var finalState = _extends({}, resolvedState, {\n        startRow: startRow,\n        endRow: endRow,\n        pageRows: pageRows,\n        minRows: minRows,\n        padRows: padRows,\n        hasColumnFooter: hasColumnFooter,\n        canPrevious: canPrevious,\n        canNext: canNext,\n        rowMinWidth: rowMinWidth\n      });\n\n      var rootProps = _.splitProps(getProps(finalState, undefined, undefined, this));\n\n      var tableProps = _.splitProps(getTableProps(finalState, undefined, undefined, this));\n\n      var tBodyProps = _.splitProps(getTbodyProps(finalState, undefined, undefined, this));\n\n      var loadingProps = getLoadingProps(finalState, undefined, undefined, this);\n      var noDataProps = getNoDataProps(finalState, undefined, undefined, this); // Visual Components\n\n      var makeHeaderGroup = function makeHeaderGroup(column, i) {\n        var resizedValue = function resizedValue(col) {\n          return (resized.find(function (x) {\n            return x.id === col.id;\n          }) || {}).value;\n        };\n\n        var flex = _.sum(column.columns.map(function (col) {\n          return col.width || resizedValue(col) ? 0 : col.minWidth;\n        }));\n\n        var width = _.sum(column.columns.map(function (col) {\n          return _.getFirstDefined(resizedValue(col), col.width, col.minWidth);\n        }));\n\n        var maxWidth = _.sum(column.columns.map(function (col) {\n          return _.getFirstDefined(resizedValue(col), col.width, col.maxWidth);\n        }));\n\n        var theadGroupThProps = _.splitProps(getTheadGroupThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadGroupThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadGroupThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadGroupThProps.rest, columnHeaderProps.rest);\n\n        var flexStyles = {\n          flex: flex + ' 0 auto',\n          width: _.asPx(width),\n          maxWidth: _.asPx(maxWidth)\n        };\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes),\n          style: _extends({}, styles, flexStyles)\n        }, rest), _.normalizeComponent(column.Header, {\n          data: sortedData,\n          column: column\n        }));\n      };\n\n      var makeHeaderGroups = function makeHeaderGroups() {\n        var theadGroupProps = _.splitProps(getTheadGroupProps(finalState, undefined, undefined, _this2));\n\n        var theadGroupTrProps = _.splitProps(getTheadGroupTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-headerGroups', theadGroupProps.className),\n          style: _extends({}, theadGroupProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadGroupProps.rest), React.createElement(TrComponent, _extends({\n          className: theadGroupTrProps.className,\n          style: theadGroupTrProps.style\n        }, theadGroupTrProps.rest), headerGroups.map(makeHeaderGroup)));\n      };\n\n      var makeHeader = function makeHeader(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var sort = sorted.find(function (d) {\n          return d.id === column.id;\n        });\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var theadThProps = _.splitProps(getTheadThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadThProps.rest, columnHeaderProps.rest);\n\n        var isResizable = _.getFirstDefined(column.resizable, resizable, false);\n\n        var resizer = isResizable ? React.createElement(ResizerComponent, _extends({\n          onMouseDown: function onMouseDown(e) {\n            return _this2.resizeColumnStart(e, column, false);\n          },\n          onTouchStart: function onTouchStart(e) {\n            return _this2.resizeColumnStart(e, column, true);\n          }\n        }, getResizerProps('finalState', undefined, column, _this2))) : null;\n\n        var isSortable = _.getFirstDefined(column.sortable, sortable, false);\n\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, isResizable && 'rt-resizable-header', sort ? sort.desc ? '-sort-desc' : '-sort-asc' : '', isSortable && '-cursor-pointer', !show && '-hidden', pivotBy && pivotBy.slice(0, -1).includes(column.id) && 'rt-header-pivot'),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          }),\n          toggleSort: function toggleSort(e) {\n            if (isSortable) _this2.sortColumn(column, multiSort ? e.shiftKey : false);\n          }\n        }, rest), React.createElement('div', {\n          className: classnames(isResizable && 'rt-resizable-header-content')\n        }, _.normalizeComponent(column.Header, {\n          data: sortedData,\n          column: column\n        })), resizer);\n      };\n\n      var makeHeaders = function makeHeaders() {\n        var theadProps = _.splitProps(getTheadProps(finalState, undefined, undefined, _this2));\n\n        var theadTrProps = _.splitProps(getTheadTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-header', theadProps.className),\n          style: _extends({}, theadProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadProps.rest), React.createElement(TrComponent, _extends({\n          className: theadTrProps.className,\n          style: theadTrProps.style\n        }, theadTrProps.rest), allVisibleColumns.map(makeHeader)));\n      };\n\n      var makeFilter = function makeFilter(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var theadFilterThProps = _.splitProps(getTheadFilterThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadFilterThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadFilterThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadFilterThProps.rest, columnHeaderProps.rest);\n\n        var filter = filtered.find(function (filter) {\n          return filter.id === column.id;\n        });\n        var ResolvedFilterComponent = column.Filter || FilterComponent;\n\n        var isFilterable = _.getFirstDefined(column.filterable, filterable, false);\n\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, rest), isFilterable ? _.normalizeComponent(ResolvedFilterComponent, {\n          column: column,\n          filter: filter,\n          onChange: function onChange(value) {\n            return _this2.filterColumn(column, value);\n          }\n        }, defaultProps.column.Filter) : null);\n      };\n\n      var makeFilters = function makeFilters() {\n        var theadFilterProps = _.splitProps(getTheadFilterProps(finalState, undefined, undefined, _this2));\n\n        var theadFilterTrProps = _.splitProps(getTheadFilterTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-filters', theadFilterProps.className),\n          style: _extends({}, theadFilterProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadFilterProps.rest), React.createElement(TrComponent, _extends({\n          className: theadFilterTrProps.className,\n          style: theadFilterTrProps.style\n        }, theadFilterTrProps.rest), allVisibleColumns.map(makeFilter)));\n      };\n\n      var makePageRow = function makePageRow(row, i) {\n        var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        var rowInfo = {\n          original: row[originalKey],\n          row: row,\n          index: row[indexKey],\n          viewIndex: rowIndex += 1,\n          pageSize: pageSize,\n          page: page,\n          level: path.length,\n          nestingPath: path.concat([i]),\n          aggregated: row[aggregatedKey],\n          groupedByPivot: row[groupedByPivotKey],\n          subRows: row[subRowsKey]\n        };\n\n        var isExpanded = _.get(expanded, rowInfo.nestingPath);\n\n        var trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, _this2);\n\n        var trProps = _.splitProps(getTrProps(finalState, rowInfo, undefined, _this2));\n\n        return React.createElement(TrGroupComponent, _extends({\n          key: rowInfo.nestingPath.join('_')\n        }, trGroupProps), React.createElement(TrComponent, _extends({\n          className: classnames(trProps.className, row._viewIndex % 2 ? '-even' : '-odd'),\n          style: trProps.style\n        }, trProps.rest), allVisibleColumns.map(function (column, i2) {\n          var resizedCol = resized.find(function (x) {\n            return x.id === column.id;\n          }) || {};\n          var show = typeof column.show === 'function' ? column.show() : column.show;\n\n          var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n          var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n          var tdProps = _.splitProps(getTdProps(finalState, rowInfo, column, _this2));\n\n          var columnProps = _.splitProps(column.getProps(finalState, rowInfo, column, _this2));\n\n          var classes = [tdProps.className, column.className, columnProps.className];\n\n          var styles = _extends({}, tdProps.style, column.style, columnProps.style);\n\n          var cellInfo = _extends({}, rowInfo, {\n            isExpanded: isExpanded,\n            column: _extends({}, column),\n            value: rowInfo.row[column.id],\n            pivoted: column.pivoted,\n            expander: column.expander,\n            resized: resized,\n            show: show,\n            width: width,\n            maxWidth: maxWidth,\n            tdProps: tdProps,\n            columnProps: columnProps,\n            classes: classes,\n            styles: styles\n          });\n\n          var value = cellInfo.value;\n          var useOnExpanderClick = void 0;\n          var isBranch = void 0;\n          var isPreview = void 0;\n\n          var onExpanderClick = function onExpanderClick(e) {\n            var newExpanded = _.clone(expanded);\n\n            if (isExpanded) {\n              newExpanded = _.set(newExpanded, cellInfo.nestingPath, false);\n            } else {\n              newExpanded = _.set(newExpanded, cellInfo.nestingPath, {});\n            }\n\n            return _this2.setStateWithData({\n              expanded: newExpanded\n            }, function () {\n              return onExpandedChange && onExpandedChange(newExpanded, cellInfo.nestingPath, e, cellInfo);\n            });\n          }; // Default to a standard cell\n\n\n          var resolvedCell = _.normalizeComponent(column.Cell, cellInfo, value); // Resolve Renderers\n\n\n          var ResolvedAggregatedComponent = column.Aggregated || (!column.aggregate ? AggregatedComponent : column.Cell);\n          var ResolvedExpanderComponent = column.Expander || ExpanderComponent;\n          var ResolvedPivotValueComponent = column.PivotValue || PivotValueComponent;\n\n          var DefaultResolvedPivotComponent = PivotComponent || function (props) {\n            return React.createElement('div', null, React.createElement(ResolvedExpanderComponent, props), React.createElement(ResolvedPivotValueComponent, props));\n          };\n\n          var ResolvedPivotComponent = column.Pivot || DefaultResolvedPivotComponent; // Is this cell expandable?\n\n          if (cellInfo.pivoted || cellInfo.expander) {\n            // Make it expandable by defualt\n            cellInfo.expandable = true;\n            useOnExpanderClick = true; // If pivoted, has no subRows, and does not have a subComponent,\n            // do not make expandable\n\n            if (cellInfo.pivoted && !cellInfo.subRows && !SubComponent) {\n              cellInfo.expandable = false;\n            }\n          }\n\n          if (cellInfo.pivoted) {\n            // Is this column a branch?\n            isBranch = rowInfo.row[pivotIDKey] === column.id && cellInfo.subRows; // Should this column be blank?\n\n            isPreview = pivotBy.indexOf(column.id) > pivotBy.indexOf(rowInfo.row[pivotIDKey]) && cellInfo.subRows; // Pivot Cell Render Override\n\n            if (isBranch) {\n              // isPivot\n              resolvedCell = _.normalizeComponent(ResolvedPivotComponent, _extends({}, cellInfo, {\n                value: row[pivotValKey]\n              }), row[pivotValKey]);\n            } else if (isPreview) {\n              // Show the pivot preview\n              resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n            } else {\n              resolvedCell = null;\n            }\n          } else if (cellInfo.aggregated) {\n            resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n          }\n\n          if (cellInfo.expander) {\n            resolvedCell = _.normalizeComponent(ResolvedExpanderComponent, cellInfo, row[pivotValKey]);\n\n            if (pivotBy) {\n              if (cellInfo.groupedByPivot) {\n                resolvedCell = null;\n              }\n\n              if (!cellInfo.subRows && !SubComponent) {\n                resolvedCell = null;\n              }\n            }\n          }\n\n          var resolvedOnExpanderClick = useOnExpanderClick ? onExpanderClick : function () {}; // If there are multiple onClick events, make sure they don't\n          // override eachother. This should maybe be expanded to handle all\n          // function attributes\n\n          var interactionProps = {\n            onClick: resolvedOnExpanderClick\n          };\n\n          if (tdProps.rest.onClick) {\n            interactionProps.onClick = function (e) {\n              tdProps.rest.onClick(e, function () {\n                return resolvedOnExpanderClick(e);\n              });\n            };\n          }\n\n          if (columnProps.rest.onClick) {\n            interactionProps.onClick = function (e) {\n              columnProps.rest.onClick(e, function () {\n                return resolvedOnExpanderClick(e);\n              });\n            };\n          } // Return the cell\n\n\n          return React.createElement(TdComponent // eslint-disable-next-line react/no-array-index-key\n          , _extends({\n            key: i2 + '-' + column.id,\n            className: classnames(classes, !cellInfo.expandable && !show && 'hidden', cellInfo.expandable && 'rt-expandable', (isBranch || isPreview) && 'rt-pivot'),\n            style: _extends({}, styles, {\n              flex: width + ' 0 auto',\n              width: _.asPx(width),\n              maxWidth: _.asPx(maxWidth)\n            })\n          }, tdProps.rest, columnProps.rest, interactionProps), resolvedCell);\n        })), rowInfo.subRows && isExpanded && rowInfo.subRows.map(function (d, i) {\n          return makePageRow(d, i, rowInfo.nestingPath);\n        }), SubComponent && !rowInfo.subRows && isExpanded && SubComponent(rowInfo, function () {\n          var newExpanded = _.clone(expanded);\n\n          _.set(newExpanded, rowInfo.nestingPath, false);\n        }));\n      };\n\n      var makePadColumn = function makePadColumn(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var flex = width;\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var tdProps = _.splitProps(getTdProps(finalState, undefined, column, _this2));\n\n        var columnProps = _.splitProps(column.getProps(finalState, undefined, column, _this2));\n\n        var classes = [tdProps.className, column.className, columnProps.className];\n\n        var styles = _extends({}, tdProps.style, column.style, columnProps.style);\n\n        return React.createElement(TdComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, !show && 'hidden'),\n          style: _extends({}, styles, {\n            flex: flex + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, tdProps.rest), _.normalizeComponent(PadRowComponent));\n      };\n\n      var makePadRow = function makePadRow(row, i) {\n        var trGroupProps = getTrGroupProps(finalState, undefined, undefined, _this2);\n\n        var trProps = _.splitProps(getTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TrGroupComponent, _extends({\n          key: 'pad-' + i\n        }, trGroupProps), React.createElement(TrComponent, {\n          className: classnames('-padRow', (pageRows.length + i) % 2 ? '-even' : '-odd', trProps.className),\n          style: trProps.style || {}\n        }, allVisibleColumns.map(makePadColumn)));\n      };\n\n      var makeColumnFooter = function makeColumnFooter(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var tFootTdProps = _.splitProps(getTfootTdProps(finalState, undefined, column, _this2));\n\n        var columnProps = _.splitProps(column.getProps(finalState, undefined, column, _this2));\n\n        var columnFooterProps = _.splitProps(column.getFooterProps(finalState, undefined, column, _this2));\n\n        var classes = [tFootTdProps.className, column.className, columnProps.className, columnFooterProps.className];\n\n        var styles = _extends({}, tFootTdProps.style, column.style, columnProps.style, columnFooterProps.style);\n\n        return React.createElement(TdComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, !show && 'hidden'),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, columnProps.rest, tFootTdProps.rest, columnFooterProps.rest), _.normalizeComponent(column.Footer, {\n          data: sortedData,\n          column: column\n        }));\n      };\n\n      var makeColumnFooters = function makeColumnFooters() {\n        var tFootProps = _.splitProps(getTfootProps(finalState, undefined, undefined, _this2));\n\n        var tFootTrProps = _.splitProps(getTfootTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TfootComponent, _extends({\n          className: tFootProps.className,\n          style: _extends({}, tFootProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, tFootProps.rest), React.createElement(TrComponent, _extends({\n          className: classnames(tFootTrProps.className),\n          style: tFootTrProps.style\n        }, tFootTrProps.rest), allVisibleColumns.map(makeColumnFooter)));\n      };\n\n      var makePagination = function makePagination(isTop) {\n        var paginationProps = _.splitProps(getPaginationProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(PaginationComponent, _extends({}, resolvedState, {\n          pages: pages,\n          canPrevious: canPrevious,\n          canNext: canNext,\n          onPageChange: _this2.onPageChange,\n          onPageSizeChange: _this2.onPageSizeChange,\n          className: paginationProps.className,\n          style: paginationProps.style,\n          isTop: isTop\n        }, paginationProps.rest));\n      };\n\n      var makeTable = function makeTable() {\n        return React.createElement('div', _extends({\n          className: classnames('ReactTable', className, rootProps.className),\n          style: _extends({}, style, rootProps.style)\n        }, rootProps.rest), showPagination && showPaginationTop ? React.createElement('div', {\n          className: 'pagination-top'\n        }, makePagination(true)) : null, React.createElement(TableComponent, _extends({\n          className: classnames(tableProps.className, currentlyResizing ? 'rt-resizing' : ''),\n          style: tableProps.style\n        }, tableProps.rest), hasHeaderGroups ? makeHeaderGroups() : null, makeHeaders(), hasFilters ? makeFilters() : null, React.createElement(TbodyComponent, _extends({\n          className: classnames(tBodyProps.className),\n          style: _extends({}, tBodyProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, tBodyProps.rest), pageRows.map(function (d, i) {\n          return makePageRow(d, i);\n        }), padRows.map(makePadRow)), hasColumnFooter ? makeColumnFooters() : null), showPagination && showPaginationBottom ? React.createElement('div', {\n          className: 'pagination-bottom'\n        }, makePagination(false)) : null, !pageRows.length && React.createElement(NoDataComponent, noDataProps, _.normalizeComponent(noDataText)), React.createElement(LoadingComponent, _extends({\n          loading: loading,\n          loadingText: loadingText\n        }, loadingProps)));\n      }; // childProps are optionally passed to a function-as-a-child\n\n\n      return children ? children(finalState, makeTable, this) : makeTable();\n    }\n  }]);\n\n  return ReactTable;\n}(Methods(Lifecycle(Component)));\n\nReactTable.defaultProps = defaultProps;\nexport default ReactTable;","import PropTypes from 'prop-types';\nexport default {\n  // General\n  data: PropTypes.any,\n  loading: PropTypes.bool,\n  showPagination: PropTypes.bool,\n  showPaginationTop: PropTypes.bool,\n  showPaginationBottom: PropTypes.bool,\n  showPageSizeOptions: PropTypes.bool,\n  pageSizeOptions: PropTypes.array,\n  defaultPageSize: PropTypes.number,\n  showPageJump: PropTypes.bool,\n  collapseOnSortingChange: PropTypes.bool,\n  collapseOnPageChange: PropTypes.bool,\n  collapseOnDataChange: PropTypes.bool,\n  freezeWhenExpanded: PropTypes.bool,\n  sortable: PropTypes.bool,\n  resizable: PropTypes.bool,\n  filterable: PropTypes.bool,\n  defaultSortDesc: PropTypes.bool,\n  defaultSorted: PropTypes.array,\n  defaultFiltered: PropTypes.array,\n  defaultResized: PropTypes.array,\n  defaultExpanded: PropTypes.object,\n  defaultFilterMethod: PropTypes.func,\n  defaultSortMethod: PropTypes.func,\n  // Controlled State Callbacks\n  onPageChange: PropTypes.func,\n  onPageSizeChange: PropTypes.func,\n  onSortedChange: PropTypes.func,\n  onFilteredChange: PropTypes.func,\n  onResizedChange: PropTypes.func,\n  onExpandedChange: PropTypes.func,\n  // Pivoting\n  pivotBy: PropTypes.array,\n  // Key Constants\n  pivotValKey: PropTypes.string,\n  pivotIDKey: PropTypes.string,\n  subRowsKey: PropTypes.string,\n  aggregatedKey: PropTypes.string,\n  nestingLevelKey: PropTypes.string,\n  originalKey: PropTypes.string,\n  indexKey: PropTypes.string,\n  groupedByPivotKey: PropTypes.string,\n  // Server-side Callbacks\n  onFetchData: PropTypes.func,\n  // Classes\n  className: PropTypes.string,\n  style: PropTypes.object,\n  // Component decorators\n  getProps: PropTypes.func,\n  getTableProps: PropTypes.func,\n  getTheadGroupProps: PropTypes.func,\n  getTheadGroupTrProps: PropTypes.func,\n  getTheadGroupThProps: PropTypes.func,\n  getTheadProps: PropTypes.func,\n  getTheadTrProps: PropTypes.func,\n  getTheadThProps: PropTypes.func,\n  getTheadFilterProps: PropTypes.func,\n  getTheadFilterTrProps: PropTypes.func,\n  getTheadFilterThProps: PropTypes.func,\n  getTbodyProps: PropTypes.func,\n  getTrGroupProps: PropTypes.func,\n  getTrProps: PropTypes.func,\n  getTdProps: PropTypes.func,\n  getTfootProps: PropTypes.func,\n  getTfootTrProps: PropTypes.func,\n  getTfootTdProps: PropTypes.func,\n  getPaginationProps: PropTypes.func,\n  getLoadingProps: PropTypes.func,\n  getNoDataProps: PropTypes.func,\n  getResizerProps: PropTypes.func,\n  // Global Column Defaults\n  columns: PropTypes.arrayOf(PropTypes.shape({\n    // Renderers\n    Cell: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Header: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Footer: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Aggregated: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Pivot: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    PivotValue: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Expander: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Filter: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    // All Columns\n    sortable: PropTypes.bool,\n    // use table default\n    resizable: PropTypes.bool,\n    // use table default\n    filterable: PropTypes.bool,\n    // use table default\n    show: PropTypes.bool,\n    minWidth: PropTypes.number,\n    minResizeWidth: PropTypes.number,\n    // Cells only\n    className: PropTypes.string,\n    style: PropTypes.object,\n    getProps: PropTypes.func,\n    // Pivot only\n    aggregate: PropTypes.func,\n    // Headers only\n    headerClassName: PropTypes.string,\n    headerStyle: PropTypes.object,\n    getHeaderProps: PropTypes.func,\n    // Footers only\n    footerClassName: PropTypes.string,\n    footerStyle: PropTypes.object,\n    getFooterProps: PropTypes.func,\n    filterMethod: PropTypes.func,\n    filterAll: PropTypes.bool,\n    sortMethod: PropTypes.func\n  })),\n  // Global Expander Column Defaults\n  expanderDefaults: PropTypes.shape({\n    sortable: PropTypes.bool,\n    resizable: PropTypes.bool,\n    filterable: PropTypes.bool,\n    width: PropTypes.number\n  }),\n  pivotDefaults: PropTypes.object,\n  // Text\n  previousText: PropTypes.node,\n  nextText: PropTypes.node,\n  loadingText: PropTypes.node,\n  noDataText: PropTypes.node,\n  pageText: PropTypes.node,\n  ofText: PropTypes.node,\n  rowsText: PropTypes.node,\n  pageJumpText: PropTypes.node,\n  rowsSelectorText: PropTypes.node,\n  // Components\n  TableComponent: PropTypes.elementType,\n  TheadComponent: PropTypes.elementType,\n  TbodyComponent: PropTypes.elementType,\n  TrGroupComponent: PropTypes.elementType,\n  TrComponent: PropTypes.elementType,\n  ThComponent: PropTypes.elementType,\n  TdComponent: PropTypes.elementType,\n  TfootComponent: PropTypes.elementType,\n  FilterComponent: PropTypes.elementType,\n  ExpanderComponent: PropTypes.elementType,\n  PivotValueComponent: PropTypes.elementType,\n  AggregatedComponent: PropTypes.elementType,\n  // this is a computed default generated using\n  PivotComponent: PropTypes.elementType,\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: PropTypes.elementType,\n  PreviousComponent: PropTypes.elementType,\n  NextComponent: PropTypes.elementType,\n  LoadingComponent: PropTypes.elementType,\n  NoDataComponent: PropTypes.elementType,\n  ResizerComponent: PropTypes.elementType,\n  PadRowComponent: PropTypes.elementType\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component } from 'react';\nimport ReactTable from 'react-table';\nimport '../react-table.css';\n\nfunction getPercent(score) {\n  var logScore = Math.min(Math.max(Math.log10(score) - 5, 0), 5);\n  var percent = Math.min(Math.max(logScore * 33.3333333, 5), 100);\n  return percent;\n}\n\nvar GREEN = '#85cc00';\nvar ORANGE = '#ffbf00';\nvar RED = '#ff2e00';\n\nfunction Star() {\n  return React.createElement(\"span\", {\n    style: {\n      fontSize: '100%',\n      color: 'yellow'\n    }\n  }, \"\\u2605\");\n}\n\nfunction BarCell(_ref) {\n  var color = _ref.color,\n      percent = _ref.percent,\n      _ref$stars = _ref.stars,\n      stars = _ref$stars === void 0 ? 0 : _ref$stars,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? [] : _ref$children;\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: '100%',\n      backgroundColor: '#dadada',\n      borderRadius: '2px'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      width: \"\".concat(percent, \"%\"),\n      height: '100%',\n      backgroundColor: color,\n      borderRadius: '2px',\n      transition: 'all .2s ease-out'\n    }\n  }, new Array(stars).fill(null).map(function (_, i) {\n    return React.createElement(Star, {\n      key: \"\".concat(i)\n    });\n  }), children));\n}\n\nfunction PerformanceBarCell(_ref2) {\n  var row = _ref2.row;\n  var score = row.score;\n  var percent = getPercent(score);\n  var stars = Math.floor((score || 0) / 5e7);\n  var color = GREEN;\n\n  if (percent < getPercent(1e7)) {\n    color = ORANGE;\n  }\n\n  if (percent < getPercent(1e6)) {\n    color = RED;\n  }\n\n  return percent ? React.createElement(BarCell, {\n    color: color,\n    percent: percent,\n    stars: stars\n  }) : null;\n}\n\nexport var BenchResults = function (_Component) {\n  _inherits(BenchResults, _Component);\n\n  var _super = _createSuper(BenchResults);\n\n  function BenchResults() {\n    _classCallCheck(this, BenchResults);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BenchResults, [{\n    key: \"_renderTable\",\n    value: function _renderTable() {\n      var log = this.props.log;\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          height: 22\n        }\n      }, React.createElement(BarCell, {\n        color: RED,\n        percent: 100\n      }, ' ', \"< 1M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: ORANGE,\n        percent: 100\n      }, \"1M - 10M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: GREEN,\n        percent: 100\n      }, \"> 10M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: GREEN,\n        percent: 100\n      }, React.createElement(Star, null), \"50M iterations/s\")), React.createElement(ReactTable, {\n        data: log,\n        columns: [{\n          Header: 'Id',\n          accessor: 'id',\n          Cell: function Cell(_ref3) {\n            var row = _ref3.row;\n            return row.formattedValue ? row.id : React.createElement(\"h3\", null, row.id.replace(/@math\\.gl\\/[a-zA-Z]*: /, ''));\n          }\n        }, {\n          Header: 'iter/s',\n          accessor: 'formattedValue',\n          maxWidth: 85\n        }, {\n          Header: 'Score',\n          accessor: 'value',\n          id: 'score',\n          Cell: PerformanceBarCell,\n          maxWidth: 300\n        }],\n        showPagination: false,\n        manual: true,\n        className: \"-striped -highlight\"\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, this._renderTable());\n    }\n  }]);\n\n  return BenchResults;\n}(Component);","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nexport function autobind(obj) {\n  var predefined = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['constructor'];\n  var proto = Object.getPrototypeOf(obj);\n  var propNames = Object.getOwnPropertyNames(proto);\n\n  var _iterator = _createForOfIteratorHelper(propNames),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var key = _step.value;\n\n      if (typeof obj[key] === 'function') {\n        if (!predefined.find(function (name) {\n          return key === name;\n        })) {\n          obj[key] = obj[key].bind(obj);\n        }\n      }\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}","import checkIfBrowser from '../env/is-browser';\nexport { self, window, global, document, process, console } from '../env/globals';\nexport var VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\nexport var isBrowser = checkIfBrowser();","import { window, process, isBrowser } from './globals';\nexport default function getHiResTimestamp() {\n  var timestamp;\n\n  if (isBrowser && window.performance) {\n    timestamp = window.performance.now();\n  } else if (process.hrtime) {\n    var timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction getStorage(type) {\n  try {\n    var storage = window[type];\n    var x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return storage;\n  } catch (e) {\n    return null;\n  }\n}\n\nvar LocalStorage = function () {\n  function LocalStorage(id, defaultSettings) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'sessionStorage';\n\n    _classCallCheck(this, LocalStorage);\n\n    this.storage = getStorage(type);\n    this.id = id;\n    this.config = {};\n    Object.assign(this.config, defaultSettings);\n\n    this._loadConfiguration();\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"getConfiguration\",\n    value: function getConfiguration() {\n      return this.config;\n    }\n  }, {\n    key: \"setConfiguration\",\n    value: function setConfiguration(configuration) {\n      this.config = {};\n      return this.updateConfiguration(configuration);\n    }\n  }, {\n    key: \"updateConfiguration\",\n    value: function updateConfiguration(configuration) {\n      Object.assign(this.config, configuration);\n\n      if (this.storage) {\n        var serialized = JSON.stringify(this.config);\n        this.storage.setItem(this.id, serialized);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_loadConfiguration\",\n    value: function _loadConfiguration() {\n      var configuration = {};\n\n      if (this.storage) {\n        var serializedConfiguration = this.storage.getItem(this.id);\n        configuration = serializedConfiguration ? JSON.parse(serializedConfiguration) : {};\n      }\n\n      Object.assign(this.config, configuration);\n      return this;\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nexport { LocalStorage as default };","export function formatSI(number) {\n  var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n\n  var _splitIntoBaseAndExpo = splitIntoBaseAndExponent(number),\n      base = _splitIntoBaseAndExpo.base,\n      exponent = _splitIntoBaseAndExpo.exponent;\n\n  var multipleOf3 = Math.floor(exponent / 3);\n  var remaining = exponent - multipleOf3 * 3;\n  var digits = base * Math.pow(10, remaining);\n  return \"\".concat(digits.toPrecision(precision)).concat(getSISuffix(multipleOf3));\n}\n\nfunction getSISuffix(multipleOf3) {\n  var SI_SUFFIXES = {\n    0: '',\n    1: 'K',\n    2: 'M',\n    3: 'G',\n    4: 'T',\n    5: 'P',\n    6: 'E',\n    '-1': 'm',\n    '-2': 'µ',\n    '-3': 'n'\n  };\n  var key = String(multipleOf3);\n  return key in SI_SUFFIXES ? SI_SUFFIXES[key] : \"e\".concat(multipleOf3 * 3);\n}\n\nfunction splitIntoBaseAndExponent(number) {\n  var base = number;\n  var exponent = 0;\n\n  if (number !== 0) {\n    while (base >= 10 || base <= -10) {\n      base /= 10;\n      exponent++;\n    }\n\n    while (base < 1 && base > -1) {\n      base *= 10;\n      exponent--;\n    }\n  }\n\n  return {\n    base: base,\n    exponent: exponent\n  };\n}","export function mean(numbers) {\n  return numbers.reduce(function (sum, x) {\n    return sum + x;\n  }, 0) / numbers.length;\n}\nexport function std(numbers, _mean) {\n  if (numbers.length <= 1) {\n    return 0;\n  }\n\n  if (_mean === undefined) {\n    _mean = mean(numbers);\n  }\n\n  return Math.sqrt(numbers.reduce(function (d, x) {\n    return d + (x - _mean) * (x - _mean);\n  }, 0) / (numbers.length - 1));\n}\nexport function cv(numbers) {\n  var _mean = mean(numbers);\n\n  var _std = std(numbers, _mean);\n\n  return _std / _mean;\n}","export function formatTime(ms) {\n  var formatted;\n\n  if (ms < 10) {\n    formatted = \"\".concat(ms.toFixed(2), \"ms\");\n  } else if (ms < 100) {\n    formatted = \"\".concat(ms.toFixed(1), \"ms\");\n  } else if (ms < 1000) {\n    formatted = \"\".concat(ms.toFixed(0), \"ms\");\n  } else {\n    formatted = \"\".concat((ms / 1000).toFixed(2), \"s\");\n  }\n\n  return formatted;\n}\nexport function leftPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(' '.repeat(padLength)).concat(string);\n}\nexport function rightPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(string).concat(' '.repeat(padLength));\n}\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n\nfunction formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatImage(image, message, scale) {\n  var maxWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 600;\n  var imageUrl = image.src.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n\n  if (image.width > maxWidth) {\n    scale = Math.min(scale, maxWidth / image.width);\n  }\n\n  var width = image.width * scale;\n  var height = image.height * scale;\n  var style = ['font-size:1px;', \"padding:\".concat(Math.floor(height / 2), \"px \").concat(Math.floor(width / 2), \"px;\"), \"line-height:\".concat(height, \"px;\"), \"background:url(\".concat(imageUrl, \");\"), \"background-size:\".concat(width, \"px \").concat(height, \"px;\"), 'color:transparent;'].join('');\n  return [\"\".concat(message, \" %c+\"), style];\n}","import { rightPad } from 'probe.gl';\nvar LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\nexport function logResultsAsMarkdownTable(_ref) {\n  var entry = _ref.entry,\n      id = _ref.id,\n      itersPerSecond = _ref.itersPerSecond,\n      error = _ref.error,\n      time = _ref.time;\n  var COL1 = 50;\n  var COL2 = 12;\n\n  switch (entry) {\n    case LOG_ENTRY.GROUP:\n      console.log('');\n      console.log(\"| \".concat(rightPad(id, COL1), \" | iterations/s | error |\"));\n      console.log(\"| \".concat(rightPad('---', COL1), \" | ---          | --- |\"));\n      break;\n\n    case LOG_ENTRY.TEST:\n      console.log(\"| \".concat(rightPad(id, COL1), \" | \").concat(rightPad(itersPerSecond, COL2), \" | \\xB1\").concat((error * 100).toFixed(2), \"% |\"));\n      break;\n\n    case LOG_ENTRY.COMPLETE:\n      console.log('');\n      console.log(\"Completed benchmark in \".concat(time, \"s\"));\n      break;\n\n    default:\n  }\n}\nexport function logResultsAsTree(_ref2) {\n  var entry = _ref2.entry,\n      id = _ref2.id,\n      itersPerSecond = _ref2.itersPerSecond,\n      error = _ref2.error,\n      time = _ref2.time,\n      unit = _ref2.unit;\n\n  switch (entry) {\n    case LOG_ENTRY.GROUP:\n      console.log('');\n      console.log(\"\".concat(id));\n      break;\n\n    case LOG_ENTRY.TEST:\n      console.log(\"\\u251C\\u2500 \".concat(id, \": \").concat(itersPerSecond, \" \").concat(unit, \"/s \\xB1\").concat((error * 100).toFixed(2), \"%\"));\n      break;\n\n    case LOG_ENTRY.COMPLETE:\n      console.log('');\n      console.log(\"Completed benchmark in \".concat(time, \"s\"));\n      break;\n\n    default:\n  }\n}\nexport function logResultsAsTreeWithElapsed(_ref3) {\n  var entry = _ref3.entry,\n      id = _ref3.id,\n      itersPerSecond = _ref3.itersPerSecond,\n      error = _ref3.error,\n      time = _ref3.time,\n      unit = _ref3.unit;\n\n  switch (entry) {\n    case LOG_ENTRY.TEST:\n      console.log(\"\\u251C\\u2500 \".concat(id, \": \").concat(itersPerSecond, \" \").concat(unit, \"/s \\xB1\").concat((error * 100).toFixed(2), \"% (\").concat(time.toFixed(2), \"s elapsed)\"));\n      break;\n\n    default:\n      logResultsAsTree({\n        entry: entry,\n        id: id,\n        itersPerSecond: itersPerSecond,\n        time: time\n      });\n  }\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { global, assert, autobind, LocalStorage, getHiResTimestamp } from 'probe.gl';\nimport { formatSI } from './format-utils';\nimport { mean, cv } from './stat-utils';\nimport { logResultsAsMarkdownTable, logResultsAsTree } from './bench-loggers';\n\nvar noop = function noop() {};\n\nvar TIME_THRESHOLD_MS = 80;\nvar TIME_COOLDOWN_MS = 5;\nvar MIN_ITERATIONS = 3;\nexport var LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\n\nvar Bench = function () {\n  function Bench() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref.id,\n        log = _ref.log,\n        _ref$time = _ref.time,\n        time = _ref$time === void 0 ? TIME_THRESHOLD_MS : _ref$time,\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? TIME_COOLDOWN_MS : _ref$delay,\n        _ref$minIterations = _ref.minIterations,\n        minIterations = _ref$minIterations === void 0 ? MIN_ITERATIONS : _ref$minIterations;\n\n    _classCallCheck(this, Bench);\n\n    if (!log) {\n      var markdown = global.probe && global.probe.markdown;\n      log = markdown ? logResultsAsMarkdownTable : logResultsAsTree;\n    }\n\n    this.id = id;\n    this.opts = {\n      log: log,\n      time: time,\n      delay: delay,\n      minIterations: minIterations\n    };\n    this.tests = {};\n    this.results = {};\n    this.table = {};\n    autobind(this);\n    Object.seal(this);\n  }\n\n  _createClass(Bench, [{\n    key: \"calibrate\",\n    value: function calibrate(id, func1, func2, opts) {\n      return this;\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator(_regeneratorRuntime.mark(function _callee() {\n        var timeStart, tests, onBenchmarkComplete, elapsed;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                timeStart = getHiResTimestamp();\n                tests = this.tests, onBenchmarkComplete = this.onBenchmarkComplete;\n                _context.next = 4;\n                return runTests({\n                  tests: tests,\n                  onBenchmarkComplete: onBenchmarkComplete\n                });\n\n              case 4:\n                elapsed = (getHiResTimestamp() - timeStart) / 1000;\n                logEntry(this, {\n                  entry: LOG_ENTRY.COMPLETE,\n                  time: elapsed,\n                  message: 'Complete'\n                });\n                this.onSuiteComplete();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function run() {\n        return _run.apply(this, arguments);\n      }\n\n      return run;\n    }()\n  }, {\n    key: \"group\",\n    value: function group(id) {\n      assert(!this.tests[id], 'tests need unique id strings');\n      this.tests[id] = {\n        id: id,\n        group: true,\n        opts: this.opts\n      };\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(priority, id, func1, func2) {\n      this._add(priority, id, func1, func2);\n\n      return this;\n    }\n  }, {\n    key: \"addAsync\",\n    value: function addAsync(priority, id, func1, func2) {\n      var test = this._add(priority, id, func1, func2);\n\n      test.async = true;\n      return this;\n    }\n  }, {\n    key: \"onBenchmarkComplete\",\n    value: function onBenchmarkComplete(_ref2) {\n      var id = _ref2.id,\n          time = _ref2.time,\n          iterations = _ref2.iterations,\n          itersPerSecond = _ref2.itersPerSecond;\n      var current = Math.round(iterations / time);\n      this.table[id] = {\n        percent: '',\n        iterations: \"\".concat(itersPerSecond, \"/s\"),\n        current: current,\n        max: ''\n      };\n    }\n  }, {\n    key: \"onSuiteComplete\",\n    value: function onSuiteComplete() {\n      var localStorage = new LocalStorage({\n        id: this.id\n      });\n      var saved = localStorage.getConfiguration();\n      var current = this.updateTable(this.table, saved);\n      localStorage.updateConfiguration(current);\n      console.table(current);\n    }\n  }, {\n    key: \"updateTable\",\n    value: function updateTable(current, saved) {\n      for (var id in this.table) {\n        if (saved[id] && saved[id].max !== undefined) {\n          current[id].max = Math.max(current[id].current, saved[id].max);\n          var delta = current[id].current / saved[id].max;\n          current[id].percent = \"\".concat(Math.round(delta * 100 - 100), \"%\");\n        } else {\n          current[id].max = current[id].current;\n        }\n      }\n\n      return current;\n    }\n  }, {\n    key: \"_add\",\n    value: function _add(priority, id, func1, func2) {\n      var options = {};\n\n      if (typeof priority === 'number') {\n        console.warn('`priority` argument is deprecated, use `options.priority` instead');\n      }\n\n      if (typeof priority === 'string' && _typeof(id) === 'object') {\n        options = id;\n        id = priority;\n        priority = 0;\n      } else if (typeof priority === 'string') {\n        func2 = func1;\n        func1 = id;\n        id = priority;\n        priority = 0;\n      }\n\n      assert(typeof id === 'string');\n      assert(typeof func1 === 'function');\n      var initFunc = options.initialize;\n      var testFunc = func1;\n\n      if (typeof func2 === 'function') {\n        console.warn('`initFunc` argument is deprecated, use `options.initialize` instead');\n        initFunc = func1;\n        testFunc = func2;\n      }\n\n      var opts = _objectSpread({}, this.opts, {\n        multiplier: 1,\n        unit: ''\n      }, options);\n\n      assert(!this.tests[id], 'tests need unique id strings');\n      this.tests[id] = {\n        id: id,\n        priority: priority,\n        initFunc: initFunc,\n        testFunc: testFunc,\n        opts: opts\n      };\n      return this.tests[id];\n    }\n  }]);\n\n  return Bench;\n}();\n\nexport { Bench as default };\n\nfunction addDelay(timeout, func) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      return resolve();\n    }, timeout);\n  });\n}\n\nfunction runCalibrationTests(_ref3) {\n  var tests = _ref3.tests;\n\n  for (var id in tests) {\n    var test = tests[id];\n\n    if (!test.group) {\n      runBenchTestIterations(test, 1);\n    }\n  }\n}\n\nfunction logEntry(test, opts) {\n  var priority = (global.probe && global.probe.priority) | 10;\n\n  if ((opts.priority | 0) <= priority) {\n    opts = _objectSpread({}, test, {}, test.opts, {}, opts);\n    delete opts.opts;\n    test.opts.log(opts);\n  }\n}\n\nfunction runTests(_x) {\n  return _runTests.apply(this, arguments);\n}\n\nfunction _runTests() {\n  _runTests = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(_ref4) {\n    var tests, _ref4$onBenchmarkComp, onBenchmarkComplete, id, test;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            tests = _ref4.tests, _ref4$onBenchmarkComp = _ref4.onBenchmarkComplete, onBenchmarkComplete = _ref4$onBenchmarkComp === void 0 ? noop : _ref4$onBenchmarkComp;\n            runCalibrationTests({\n              tests: tests,\n              onBenchmarkComplete: onBenchmarkComplete\n            });\n            _context2.t0 = _regeneratorRuntime.keys(tests);\n\n          case 3:\n            if ((_context2.t1 = _context2.t0()).done) {\n              _context2.next = 14;\n              break;\n            }\n\n            id = _context2.t1.value;\n            test = tests[id];\n\n            if (!test.group) {\n              _context2.next = 10;\n              break;\n            }\n\n            logEntry(test, {\n              entry: LOG_ENTRY.GROUP,\n              message: test.id\n            });\n            _context2.next = 12;\n            break;\n\n          case 10:\n            _context2.next = 12;\n            return runTest({\n              test: test,\n              onBenchmarkComplete: onBenchmarkComplete\n            });\n\n          case 12:\n            _context2.next = 3;\n            break;\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _runTests.apply(this, arguments);\n}\n\nfunction runTest(_x2) {\n  return _runTest.apply(this, arguments);\n}\n\nfunction _runTest() {\n  _runTest = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3(_ref5) {\n    var test, onBenchmarkComplete, _ref5$silent, silent, result, iterationsPerSecond, time, iterations, error, itersPerSecond;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            test = _ref5.test, onBenchmarkComplete = _ref5.onBenchmarkComplete, _ref5$silent = _ref5.silent, silent = _ref5$silent === void 0 ? false : _ref5$silent;\n            _context3.next = 3;\n            return addDelay(test.opts.delay);\n\n          case 3:\n            _context3.next = 5;\n            return runBenchTestAsync(test);\n\n          case 5:\n            result = _context3.sent;\n            iterationsPerSecond = result.iterationsPerSecond, time = result.time, iterations = result.iterations, error = result.error;\n            itersPerSecond = formatSI(iterationsPerSecond);\n\n            if (!silent) {\n              logEntry(test, {\n                entry: LOG_ENTRY.TEST,\n                itersPerSecond: itersPerSecond,\n                time: time,\n                error: error,\n                message: \"\".concat(test.id, \" \").concat(itersPerSecond, \" \").concat(test.opts.unit, \"/s \\xB1\").concat((error * 100).toFixed(2), \"%\")\n              });\n            }\n\n            if (onBenchmarkComplete) {\n              onBenchmarkComplete({\n                id: test.id,\n                time: time,\n                iterations: iterations,\n                iterationsPerSecond: iterationsPerSecond,\n                itersPerSecond: itersPerSecond\n              });\n            }\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _runTest.apply(this, arguments);\n}\n\nfunction runBenchTestAsync(_x3) {\n  return _runBenchTestAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestAsync() {\n  _runBenchTestAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee4(test) {\n    var results, totalTime, totalIterations, i, time, iterations, _throughput, _yield$runBenchTestPa, _yield$runBenchTestFo, iterationsPerSecond;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            results = [];\n            totalTime = 0;\n            totalIterations = 0;\n            i = 0;\n\n          case 4:\n            if (!(i < test.opts.minIterations)) {\n              _context4.next = 29;\n              break;\n            }\n\n            time = void 0;\n            iterations = void 0;\n\n            if (!(test.async && test.opts._throughput)) {\n              _context4.next = 16;\n              break;\n            }\n\n            _throughput = test.opts._throughput;\n            _context4.next = 11;\n            return runBenchTestParallelIterationsAsync(test, _throughput);\n\n          case 11:\n            _yield$runBenchTestPa = _context4.sent;\n            time = _yield$runBenchTestPa.time;\n            iterations = _yield$runBenchTestPa.iterations;\n            _context4.next = 21;\n            break;\n\n          case 16:\n            _context4.next = 18;\n            return runBenchTestForMinimumTimeAsync(test, test.opts.time);\n\n          case 18:\n            _yield$runBenchTestFo = _context4.sent;\n            time = _yield$runBenchTestFo.time;\n            iterations = _yield$runBenchTestFo.iterations;\n\n          case 21:\n            iterations *= test.opts.multiplier;\n            iterationsPerSecond = iterations / time;\n            results.push(iterationsPerSecond);\n            totalTime += time;\n            totalIterations += iterations;\n\n          case 26:\n            i++;\n            _context4.next = 4;\n            break;\n\n          case 29:\n            return _context4.abrupt(\"return\", {\n              time: totalTime,\n              iterations: totalIterations,\n              iterationsPerSecond: mean(results),\n              error: cv(results)\n            });\n\n          case 30:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _runBenchTestAsync.apply(this, arguments);\n}\n\nfunction runBenchTestForMinimumTimeAsync(_x4, _x5) {\n  return _runBenchTestForMinimumTimeAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestForMinimumTimeAsync() {\n  _runBenchTestForMinimumTimeAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee5(test, minTime) {\n    var iterations, elapsedMillis, multiplier, timeStart, time;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            iterations = 1;\n            elapsedMillis = 0;\n\n          case 2:\n            if (!(elapsedMillis < minTime)) {\n              _context5.next = 16;\n              break;\n            }\n\n            multiplier = 10;\n\n            if (elapsedMillis > 10) {\n              multiplier = test.opts.time / elapsedMillis * 1.25;\n            }\n\n            iterations *= multiplier;\n            timeStart = getHiResTimestamp();\n\n            if (!test.async) {\n              _context5.next = 12;\n              break;\n            }\n\n            _context5.next = 10;\n            return runBenchTestIterationsAsync(test, iterations);\n\n          case 10:\n            _context5.next = 13;\n            break;\n\n          case 12:\n            runBenchTestIterations(test, iterations);\n\n          case 13:\n            elapsedMillis = getHiResTimestamp() - timeStart;\n            _context5.next = 2;\n            break;\n\n          case 16:\n            time = elapsedMillis / 1000;\n            return _context5.abrupt(\"return\", {\n              time: time,\n              iterations: iterations\n            });\n\n          case 18:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _runBenchTestForMinimumTimeAsync.apply(this, arguments);\n}\n\nfunction runBenchTestParallelIterationsAsync(_x6, _x7) {\n  return _runBenchTestParallelIterationsAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestParallelIterationsAsync() {\n  _runBenchTestParallelIterationsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee6(test, iterations) {\n    var testArgs, timeStart, promises, context, testFunc, i, time;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            testArgs = test.initFunc && test.initFunc();\n            timeStart = getHiResTimestamp();\n            promises = [];\n            context = test.context, testFunc = test.testFunc;\n\n            for (i = 0; i < iterations; i++) {\n              promises.push(testFunc.call(context, testArgs));\n            }\n\n            _context6.next = 7;\n            return Promise.all(promises);\n\n          case 7:\n            time = (getHiResTimestamp() - timeStart) / 1000;\n            return _context6.abrupt(\"return\", {\n              time: time,\n              iterations: iterations\n            });\n\n          case 9:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _runBenchTestParallelIterationsAsync.apply(this, arguments);\n}\n\nfunction runBenchTestIterationsAsync(_x8, _x9) {\n  return _runBenchTestIterationsAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestIterationsAsync() {\n  _runBenchTestIterationsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee7(test, iterations) {\n    var testArgs, context, testFunc, i;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            testArgs = test.initFunc && test.initFunc();\n            context = test.context, testFunc = test.testFunc;\n            i = 0;\n\n          case 3:\n            if (!(i < iterations)) {\n              _context7.next = 9;\n              break;\n            }\n\n            _context7.next = 6;\n            return testFunc.call(context, testArgs);\n\n          case 6:\n            i++;\n            _context7.next = 3;\n            break;\n\n          case 9:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _runBenchTestIterationsAsync.apply(this, arguments);\n}\n\nfunction runBenchTestIterations(test, iterations) {\n  var testArgs = test.initFunc && test.initFunc();\n  var context = test.context,\n      testFunc = test.testFunc;\n\n  if (context && testArgs) {\n    for (var i = 0; i < iterations; i++) {\n      testFunc.call(context, testArgs);\n    }\n  } else {\n    for (var _i = 0; _i < iterations; _i++) {\n      testFunc.call(context);\n    }\n  }\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","// CLASS INHERITANCE\n//\n// This class identifies\n\nconst IDENTITY = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nclass ClassNoConstructor {}\nclass ClassWithConstructor {\n  constructor() {\n    this.data = null;\n  }\n}\nclass ClassWithConstructorXYZ {\n  constructor() {\n    this.x = -0;\n    this.y = -0;\n    this.z = -0;\n    this.w = -0;\n  }\n}\nclass ClassWithConstructor04 {\n  constructor() {\n    this[0] = -0;\n    this[1] = -0;\n    this[2] = -0;\n    this[3] = -0;\n  }\n}\n\nclass ArrayExtenderNoConstructor extends Array {}\nclass ArrayExtenderEmptyConstructor extends Array {\n  // eslint-disable-next-line no-useless-constructor\n  constructor() {\n    super();\n  }\n}\nclass ArrayExtender extends Array {\n  constructor() {\n    super(16);\n    for (let i = 0; i < 16; i++) {\n      this[i] = IDENTITY[i];\n    }\n  }\n}\n\n// DEFAULT PARAMETERS\n\nclass XYZVector {\n  constructor(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nclass XYZVectorLogicalOr {\n  constructor(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n}\n\nclass XYZVectorBitwiseOr {\n  constructor(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n}\n\n// COMBINED BENCH\n\nexport default function javascriptBench(suite, addReferenceBenchmarks) {\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Class/Array inheritance construction cost')\n      .add('new Array', () => new Array()) // eslint-disable-line\n      .add('new ArrayExtender', () => new ArrayExtender())\n      .add('new ArrayExtenderNoConstructor', () => new ArrayExtenderNoConstructor())\n      .add('new ArrayExtenderEmptyConstructor', () => new ArrayExtenderEmptyConstructor())\n      .add('new ClassNoConstructor', () => new ClassNoConstructor())\n      .add('new ClassWithConstructor', () => new ClassWithConstructor())\n      .add('new ClassWithConstructorXYZ', () => new ClassWithConstructorXYZ())\n      .add('new ClassWithConstructor0-4', () => new ClassWithConstructor04());\n\n    suite\n      .group('Default parameter cost')\n      .add('new XYZVector#default params', () => new XYZVector())\n      .add('new XYZVector#logical or', () => new XYZVectorLogicalOr())\n      .add('new XYZVector#bitwise or', () => new XYZVectorBitwiseOr());\n  }\n\n  return suite;\n}\n","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(`math.gl assertion ${message}`);\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport assert from './assert';\n\nconst RADIANS_TO_DEGREES = (1 / Math.PI) * 180;\nconst DEGREES_TO_RADIANS = (1 / 180) * Math.PI;\n\n// TODO - remove\n/* eslint-disable no-shadow */\nconst config = {};\nconfig.EPSILON = 1e-12;\nconfig.debug = false;\nconfig.precision = 4;\nconfig.printTypes = false;\nconfig.printDegrees = false;\nconfig.printRowMajor = true;\n\nexport {config};\n\nexport function configure(options = {}) {\n  // Only copy existing keys\n  for (const key in options) {\n    assert(key in config);\n    config[key] = options[key];\n  }\n  return config;\n}\n\nfunction round(value) {\n  return Math.round(value / config.EPSILON) * config.EPSILON;\n}\n\nexport function formatValue(value, {precision = config.precision || 4} = {}) {\n  value = round(value);\n  // get rid of trailing zeros\n  return `${parseFloat(value.toPrecision(precision))}`;\n}\n\n// Returns true if value is either an array or a typed array\n// Note: does not return true for ArrayBuffers and DataViews\nexport function isArray(value) {\n  return Array.isArray(value) || (ArrayBuffer.isView(value) && !(value instanceof DataView));\n}\n\n// If the array has a clone function, calls it, otherwise returns a copy\nfunction duplicateArray(array) {\n  return array.clone ? array.clone() : new Array(array.length);\n}\n\nexport function clone(array) {\n  return array.clone ? array.clone() : new Array(...array);\n}\n\n// If the argument value is an array, applies the func element wise,\n// otherwise applies func to the argument value\nfunction map(value, func, result) {\n  if (isArray(value)) {\n    result = result || duplicateArray(value);\n    for (let i = 0; i < result.length && i < value.length; ++i) {\n      result[i] = func(value[i], i, result);\n    }\n    return result;\n  }\n  return func(value);\n}\n\nexport function toRadians(degrees) {\n  return radians(degrees);\n}\n\nexport function toDegrees(radians) {\n  return degrees(radians);\n}\n\n//\n// GLSL math function equivalents\n// Works on both single values and vectors\n//\n\nexport function radians(degrees, result) {\n  return map(degrees, degrees => degrees * DEGREES_TO_RADIANS, result);\n}\n\nexport function degrees(radians, result) {\n  return map(radians, radians => radians * RADIANS_TO_DEGREES, result);\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function sin(radians) {\n  return map(radians, angle => Math.sin(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function cos(radians) {\n  return map(radians, angle => Math.cos(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function tan(radians) {\n  return map(radians, angle => Math.tan(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function asin(radians) {\n  return map(radians, angle => Math.asin(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function acos(radians) {\n  return map(radians, angle => Math.acos(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function atan(radians) {\n  return map(radians, angle => Math.atan(angle));\n}\n\nexport function clamp(value, min, max) {\n  return map(value, value => Math.max(min, Math.min(max, value)));\n}\n\n// Interpolate between two numbers or two arrays\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map((ai, i) => lerp(ai, b[i], t));\n  }\n  return t * b + (1 - t) * a;\n}\n\n// eslint-disable-next-line complexity\nexport function equals(a, b, epsilon) {\n  const oldEpsilon = config.EPSILON;\n  if (epsilon) {\n    config.EPSILON = epsilon;\n  }\n  try {\n    if (a === b) {\n      return true;\n    }\n    if (isArray(a) && isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n      for (let i = 0; i < a.length; ++i) {\n        // eslint-disable-next-line max-depth\n        if (!equals(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (a && a.equals) {\n      return a.equals(b);\n    }\n    if (b && b.equals) {\n      return b.equals(a);\n    }\n    if (Number.isFinite(a) && Number.isFinite(b)) {\n      return Math.abs(a - b) <= config.EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n    }\n    return false;\n  } finally {\n    config.EPSILON = oldEpsilon;\n  }\n}\n\n// eslint-disable-next-line complexity\nexport function exactEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a && typeof a === 'object' && b && typeof b === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n    if (a.exactEquals) {\n      return a.exactEquals(b);\n    }\n  }\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; ++i) {\n      if (!exactEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function withEpsilon(EPSILON, func) {\n  const oldPrecision = config.EPSILON;\n  config.EPSILON = EPSILON;\n  let value;\n  try {\n    value = func();\n  } finally {\n    config.EPSILON = oldPrecision;\n  }\n  return value;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {config, formatValue, equals, isArray} from '../../lib/common';\nimport assert from '../../lib/assert';\n\nexport default class MathArray extends Array {\n  // Defined by derived class\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  // Defined by derived class\n  get RANK() {\n    assert(false);\n    return 0;\n  }\n\n  clone() {\n    // @ts-ignore error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    return new this.constructor().copy(this);\n  }\n\n  from(arrayOrObject) {\n    // @ts-ignore error TS2339: Property 'copy' does not exist on type 'MathArray'.\n    return Array.isArray(arrayOrObject) ? this.copy(arrayOrObject) : this.fromObject(arrayOrObject);\n  }\n\n  fromArray(array, offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = array[i + offset];\n    }\n    return this.check();\n  }\n\n  to(arrayOrObject) {\n    if (arrayOrObject === this) {\n      return this;\n    }\n    // @ts-ignore error TS2339: Property 'toObject' does not exist on type 'MathArray'.\n    return isArray(arrayOrObject) ? this.toArray(arrayOrObject) : this.toObject(arrayOrObject);\n  }\n\n  toTarget(target) {\n    return target ? this.to(target) : this;\n  }\n\n  toArray(array = [], offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      array[offset + i] = this[i];\n    }\n    return array;\n  }\n\n  toFloat32Array() {\n    return new Float32Array(this);\n  }\n\n  toString() {\n    return this.formatString(config);\n  }\n\n  formatString(opts) {\n    let string = '';\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      string += (i > 0 ? ', ' : '') + formatValue(this[i], opts);\n    }\n    return `${opts.printTypes ? this.constructor.name : ''}[${string}]`;\n  }\n\n  equals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (!equals(this[i], array[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  exactEquals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (this[i] !== array[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // Modifiers\n\n  negate() {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = -this[i];\n    }\n    return this.check();\n  }\n\n  lerp(a, b, t) {\n    if (t === undefined) {\n      t = b;\n      b = a;\n      a = this; // eslint-disable-line\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      const ai = a[i];\n      this[i] = ai + t * (b[i] - ai);\n    }\n    return this.check();\n  }\n\n  min(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  max(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.max(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  clamp(minVector, maxVector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], minVector[i]), maxVector[i]);\n    }\n    return this.check();\n  }\n\n  add(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] += vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  subtract(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] -= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  scale(scale) {\n    if (Array.isArray(scale)) {\n      // @ts-ignore error TS2339: Property 'multiply' does not exist on type 'MathArray'.\n      return this.multiply(scale);\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scale;\n    }\n    return this.check();\n  }\n\n  // three.js compatibility\n\n  sub(a) {\n    return this.subtract(a);\n  }\n\n  setScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = a;\n    }\n    return this.check();\n  }\n\n  addScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] += a;\n    }\n    return this.check();\n  }\n\n  subScalar(a) {\n    return this.addScalar(-a);\n  }\n\n  multiplyScalar(scalar) {\n    // Multiplies all elements\n    // `Matrix4.scale` only scales its 3x3 \"minor\"\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scalar;\n    }\n    return this.check();\n  }\n\n  divideScalar(a) {\n    return this.scale(1 / a);\n  }\n\n  clampScalar(min, max) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], min), max);\n    }\n    return this.check();\n  }\n\n  // Cesium compatibility\n\n  multiplyByScalar(scalar) {\n    return this.scale(scalar);\n  }\n\n  // THREE.js compatibility\n  get elements() {\n    return this;\n  }\n\n  // Debug checks\n\n  check() {\n    if (config.debug && !this.validate()) {\n      throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);\n    }\n    return this;\n  }\n\n  validate() {\n    let valid = this.length === this.ELEMENTS;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      valid = valid && Number.isFinite(this[i]);\n    }\n    return valid;\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {config} from './common';\n\nexport function validateVector(v, length) {\n  if (v.length !== length) {\n    return false;\n  }\n  // Could be arguments \"array\" (v.every not availasble)\n  for (let i = 0; i < v.length; ++i) {\n    if (!Number.isFinite(v[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function checkNumber(value) {\n  if (!Number.isFinite(value)) {\n    throw new Error(`Invalid number ${value}`);\n  }\n  return value;\n}\n\nexport function checkVector(v, length, callerName = '') {\n  if (config.debug && !validateVector(v, length)) {\n    throw new Error(`math.gl: ${callerName} some fields set to invalid numbers'`);\n  }\n  return v;\n}\n\nconst map = {};\n\nexport function deprecated(method, version) {\n  if (!map[method]) {\n    map[method] = true;\n    // eslint-disable-next-line\n    console.warn(\n      `${method} has been removed in version ${version}, see upgrade guide for more information`\n    );\n  }\n}\n","import MathArray from './math-array';\nimport {checkNumber} from '../../lib/validators';\nimport assert from '../../lib/assert';\n\nexport default class Vector extends MathArray {\n  // VIRTUAL METHODS\n  copy(vector) {\n    assert(false);\n    return this;\n  }\n\n  // ACCESSORS\n\n  get x() {\n    return this[0];\n  }\n  set x(value) {\n    this[0] = checkNumber(value);\n  }\n\n  get y() {\n    return this[1];\n  }\n  set y(value) {\n    this[1] = checkNumber(value);\n  }\n\n  // NOTE: `length` is a reserved word for Arrays, so we can't use `v.length()`\n  // Offer `len` and `magnitude`\n  len() {\n    return Math.sqrt(this.lengthSquared());\n  }\n\n  magnitude() {\n    return this.len();\n  }\n\n  lengthSquared() {\n    let length = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      length += this[i] * this[i];\n    }\n    return length;\n  }\n\n  magnitudeSquared() {\n    return this.lengthSquared();\n  }\n\n  distance(mathArray) {\n    return Math.sqrt(this.distanceSquared(mathArray));\n  }\n\n  distanceSquared(mathArray) {\n    let length = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      const dist = this[i] - mathArray[i];\n      length += dist * dist;\n    }\n    return checkNumber(length);\n  }\n\n  dot(mathArray) {\n    let product = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      product += this[i] * mathArray[i];\n    }\n    return checkNumber(product);\n  }\n\n  // MODIFIERS\n\n  normalize() {\n    const length = this.magnitude();\n    if (length !== 0) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] /= length;\n      }\n    }\n    return this.check();\n  }\n\n  // negate() {\n  //   for (let i = 0; i < this.ELEMENTS; ++i) {\n  //     this[i] = -this[i];\n  //   }\n  //   return this.check();\n  // }\n\n  // inverse() {\n  //   for (let i = 0; i < this.ELEMENTS; ++i) {\n  //     this[i] = 1 / this[i];\n  //   }\n  //   return this.check();\n  // }\n\n  multiply(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  divide(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] /= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  // THREE.js compatibility\n  lengthSq() {\n    return this.lengthSquared();\n  }\n\n  distanceTo(vector) {\n    return this.distance(vector);\n  }\n\n  distanceToSquared(vector) {\n    return this.distanceSquared(vector);\n  }\n\n  getComponent(i) {\n    assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n    return checkNumber(this[i]);\n  }\n\n  setComponent(i, value) {\n    assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n    this[i] = value;\n    return this.check();\n  }\n\n  addVectors(a, b) {\n    return this.copy(a).add(b);\n  }\n\n  subVectors(a, b) {\n    return this.copy(a).subtract(b);\n  }\n\n  multiplyVectors(a, b) {\n    return this.copy(a).multiply(b);\n  }\n\n  addScaledVector(a, b) {\n    // @ts-ignore error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    return this.add(new this.constructor(a).multiplyScalar(b));\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","// vec2 additions\n\nexport function vec2_transformMat4AsVector(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const w = m[3] * x + m[7] * y || 1.0;\n  out[0] = (m[0] * x + m[4] * y) / w;\n  out[1] = (m[1] * x + m[5] * y) / w;\n  return out;\n}\n\n// vec3 additions\n\n// Transform as vector, only uses 3x3 minor matrix\nexport function vec3_transformMat4AsVector(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const z = a[2];\n  const w = m[3] * x + m[7] * y + m[11] * z || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n  return out;\n}\n\nexport function vec3_transformMat2(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  return out;\n}\n\n// vec4 additions\n\nexport function vec4_transformMat2(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nexport function vec4_transformMat3(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const z = a[2];\n  out[0] = m[0] * x + m[3] * y + m[6] * z;\n  out[1] = m[1] * x + m[4] * y + m[7] * z;\n  out[2] = m[2] * x + m[5] * y + m[8] * z;\n  out[3] = a[3];\n  return out;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\nimport {vec3_transformMat2, vec3_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\nconst ORIGIN = [0, 0, 0];\nconst constants = {};\n\nexport default class Vector3 extends Vector {\n  static get ZERO() {\n    return (constants.ZERO = constants.ZERO || Object.freeze(new Vector3(0, 0, 0, 0)));\n  }\n\n  /**\n   * @class\n   * @param {Number | [Number, Number, Number]} x\n   * @param {Number} y - rotation around X (latitude)\n   * @param {Number} z - rotation around X (latitude)\n   */\n  constructor(x = 0, y = 0, z = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0);\n    if (arguments.length === 1 && isArray(x)) {\n      this.copy(x);\n    } else {\n      // this.set(x, y, z);\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n      }\n      // @ts-ignore TS2412: Property '0' of type 'number | [number, number, number]' is not assignable to numeric index type 'number'\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n    }\n  }\n\n  set(x, y, z) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n      checkNumber(object.z);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    this[2] = object.z;\n    return this.check();\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    object.z = this[2];\n    return object;\n  }\n\n  // Getters/setters\n  /* eslint-disable no-multi-spaces, brace-style, no-return-assign */\n  get ELEMENTS() {\n    return 3;\n  }\n\n  // x,y inherited from Vector\n\n  get z() {\n    return this[2];\n  }\n  set z(value) {\n    this[2] = checkNumber(value);\n  }\n  /* eslint-enable no-multi-spaces, brace-style, no-return-assign */\n\n  angle(vector) {\n    return vec3.angle(this, vector);\n  }\n\n  // MODIFIERS\n\n  cross(vector) {\n    vec3.cross(this, this, vector);\n    return this.check();\n  }\n\n  rotateX({radians, origin = ORIGIN}) {\n    vec3.rotateX(this, this, origin, radians);\n    return this.check();\n  }\n\n  rotateY({radians, origin = ORIGIN}) {\n    vec3.rotateY(this, this, origin, radians);\n    return this.check();\n  }\n\n  rotateZ({radians, origin = ORIGIN}) {\n    vec3.rotateZ(this, this, origin, radians);\n    return this.check();\n  }\n\n  // Transforms\n\n  // transforms as point (4th component is implicitly 1)\n  transform(matrix4) {\n    return this.transformAsPoint(matrix4);\n  }\n\n  // transforms as point (4th component is implicitly 1)\n  transformAsPoint(matrix4) {\n    vec3.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  // transforms as vector  (4th component is implicitly 0, ignores translation. slightly faster)\n  transformAsVector(matrix4) {\n    vec3_transformMat4AsVector(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec3.transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec3_transformMat2(this, this, matrix2);\n    return this.check();\n  }\n\n  transformByQuaternion(quaternion) {\n    vec3.transformQuat(this, this, quaternion);\n    return this.check();\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector3, toRadians, radians} from '@math.gl/core';\nimport {isArray} from '@math.gl/core';\n\nconst classicArray = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nconst float32Array = new Float32Array([1, 0, 0]);\nconst float64Array = new Float64Array([1, 0, 0]);\nconst vector3 = new Vector3();\n\nexport default function commonBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Global Functions')\n    .add('isArray(Vector3)', () => isArray(vector3))\n    .add('isArray(Float32Array)', () => isArray(float32Array));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('isArray(array)', () => isArray(classicArray))\n      .add('isArray(Float64Array)', () => isArray(float64Array));\n  }\n\n  suite\n    .add('toRadians(Number)', () => toRadians(100))\n    .add('radians(Vector3)', () => radians(vector3, vector3));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('toRadians(array)', () => toRadians(classicArray))\n      .add('toRadians(Float32Array)', () => toRadians(float32Array))\n      .add('toRadians(Float64Array)', () => toRadians(float64Array));\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\nimport {vec2_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\nexport default class Vector2 extends Vector {\n  // Creates a new, empty vec2\n  constructor(x = 0, y = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(2); // -0, -0);\n    if (isArray(x) && arguments.length === 1) {\n      this.copy(x);\n    } else {\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n      }\n      this[0] = x;\n      this[1] = y;\n    }\n  }\n\n  set(x, y) {\n    this[0] = x;\n    this[1] = y;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    return this.check();\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    return object;\n  }\n\n  // Getters/setters\n  get ELEMENTS() {\n    return 2;\n  }\n\n  // x,y inherited from Vector\n\n  horizontalAngle() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  verticalAngle() {\n    return Math.atan2(this.x, this.y);\n  }\n\n  // Transforms\n\n  transform(matrix4) {\n    return this.transformAsPoint(matrix4);\n  }\n\n  // transforms as point (4th component is implicitly 1)\n  transformAsPoint(matrix4) {\n    vec2.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  // transforms as vector  (4th component is implicitly 0, ignores translation. slightly faster)\n  transformAsVector(matrix4) {\n    vec2_transformMat4AsVector(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec2.transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2x3(matrix2x3) {\n    vec2.transformMat2d(this, this, matrix2x3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec2.transformMat2(this, this, matrix2);\n    return this.check();\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector2} from '@math.gl/core';\n\nconst array = [0, 0];\nconst float32Array = new Float32Array([0, 0]);\nconst vector2 = new Vector2();\n\nexport default function vector2Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector2')\n    .add('Vector2#new()', () => new Vector2(1, 2))\n    .add('Vector2#set()', () => vector2.set(1, 2))\n    .add('Vector2#copy()', () => vector2.copy([1, 2]));\n  // .add('Vector2#from(Vector2)', () => vector2.from(arrayVector))\n  // .add('Vector2#to(Vector2)', () => vector2.to(arrayVector))\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector2 Type Conversion Cost')\n      .add('Vector2.from#Array', () => vector2.from(array))\n      .add('Vector2.from#Float32Array', () => vector2.from(float32Array))\n      .add('Vector2.to#Array', () => vector2.to(array))\n      .add('Vector2.to#Float32Array', () => vector2.to(float32Array));\n  }\n\n  return suite;\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector3} from '@math.gl/core';\n\nclass ObjectVector {\n  constructor(x = -0, y = -0, z = -0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nconst array = [0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0]);\nconst objectVector = new ObjectVector();\nconst arrayVector = new Vector3();\nconst vector3 = new Vector3();\n\nexport default function vector3Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector3')\n    .add('Vector3#new()', () => new Vector3(1, 2, 3))\n    .add('Vector3#set()', () => vector3.set(1, 2, 3))\n    .add('Vector3#copy()', () => vector3.copy([1, 2, 3]))\n    .add('Vector3#from(Vector3)', () => vector3.from(arrayVector))\n    .add('Vector3#to(Vector3)', () => vector3.to(arrayVector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector3 Type Conversion Cost')\n      .add('Vector3#from(Object)', () => vector3.from(objectVector))\n      .add('Vector3#to(Object)', () => vector3.to(objectVector))\n      .add('Vector3.from#Array', () => vector3.from(array))\n      .add('Vector3.from#Float32Array', () => vector3.from(float32Array))\n      .add('Vector3.to#Array', () => vector3.to(array))\n      .add('Vector3.to#Float32Array', () => vector3.to(float32Array));\n  }\n\n  return suite;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec4 from 'gl-matrix/vec3';\nimport {vec4_transformMat2, vec4_transformMat3} from '../lib/gl-matrix-extras';\n\nconst constants = {};\n\nexport default class Vector4 extends Vector {\n  static get ZERO() {\n    return (constants.ZERO = constants.ZERO || Object.freeze(new Vector4(0, 0, 0, 0)));\n  }\n\n  constructor(x = 0, y = 0, z = 0, w = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0);\n    if (isArray(x) && arguments.length === 1) {\n      this.copy(x);\n    } else {\n      // this.set(x, y, z, w);\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n        checkNumber(w);\n      }\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n      this[3] = w;\n    }\n  }\n\n  set(x, y, z, w) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    this[3] = w;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n      checkNumber(object.z);\n      checkNumber(object.w);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    this[2] = object.z;\n    this[3] = object.w;\n    return this;\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    object.z = this[2];\n    object.w = this[3];\n    return object;\n  }\n\n  // Getters/setters\n  /* eslint-disable no-multi-spaces, brace-style, no-return-assign */\n  get ELEMENTS() {\n    return 4;\n  }\n\n  // x,y inherited from Vector\n\n  get z() {\n    return this[2];\n  }\n\n  set z(value) {\n    this[2] = checkNumber(value);\n  }\n\n  get w() {\n    return this[3];\n  }\n\n  set w(value) {\n    this[3] = checkNumber(value);\n  }\n  /* eslint-enable no-multi-spaces, brace-style, no-return-assign */\n\n  transform(matrix4) {\n    vec4.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec4_transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec4_transformMat2(this, this, matrix2);\n    return this.check();\n  }\n\n  transformByQuaternion(quaternion) {\n    vec4.transformQuat(this, this, quaternion);\n    return this.check();\n  }\n\n  // three.js compatibility\n  applyMatrix4(m) {\n    m.transform(this, this);\n    return this;\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector4} from '@math.gl/core';\n\nconst array = [0, 0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0, 0]);\nconst vector4 = new Vector4();\n\nexport default function vector4Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector4')\n    .add('Vector4#new()', () => new Vector4(1, 2, 3, 4))\n    .add('Vector4#set()', () => vector4.set(1, 2, 3, 4))\n    .add('Vector4#copy()', () => vector4.copy([1, 2, 3, 4]));\n  // .add('Vector4#from(Vector4)', () => vector4.from(arrayVector))\n  // .add('Vector4#to(Vector4)', () => vector4.to(arrayVector))\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector4 Type Conversion Cost')\n      .add('Vector4.from#Array', () => vector4.from(array))\n      .add('Vector4.from#Float32Array', () => vector4.from(float32Array))\n      .add('Vector4.to#Array', () => vector4.to(array))\n      .add('Vector4.to#Float32Array', () => vector4.to(float32Array));\n  }\n\n  return suite;\n}\n","import MathArray from './math-array';\nimport {checkNumber} from '../../lib/validators';\nimport {config} from '../../lib/common';\n\nexport default class Matrix extends MathArray {\n  // fromObject(object) {\n  //   const array = object.elements;\n  //   return this.fromRowMajor(array);\n  // }\n\n  // toObject(object) {\n  //   const array = object.elements;\n  //   this.toRowMajor(array);\n  //   return object;\n  // }\n\n  toString() {\n    let string = '[';\n    if (config.printRowMajor) {\n      string += 'row-major:';\n      for (let row = 0; row < this.RANK; ++row) {\n        for (let col = 0; col < this.RANK; ++col) {\n          string += ` ${this[col * this.RANK + row]}`;\n        }\n      }\n    } else {\n      string += 'column-major:';\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        string += ` ${this[i]}`;\n      }\n    }\n    string += ']';\n    return string;\n  }\n\n  getElementIndex(row, col) {\n    return col * this.RANK + row;\n  }\n\n  // By default assumes row major indices\n  getElement(row, col) {\n    return this[col * this.RANK + row];\n  }\n\n  // By default assumes row major indices\n  setElement(row, col, value) {\n    this[col * this.RANK + row] = checkNumber(value);\n    return this;\n  }\n\n  getColumn(columnIndex, result = new Array(this.RANK).fill(-0)) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      result[i] = this[firstIndex + i];\n    }\n    return result;\n  }\n\n  setColumn(columnIndex, columnVector) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      this[firstIndex + i] = columnVector[i];\n    }\n    return this;\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {checkVector, deprecated} from '../lib/validators';\nimport Matrix from './base/matrix';\n\nimport {vec2_transformMat4AsVector, vec3_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as mat4 from 'gl-matrix/mat4';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec4 from 'gl-matrix/vec4';\n\nconst IDENTITY = Object.freeze([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nconst ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nconst INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL0ROW3: 3,\n  COL1ROW0: 4,\n  COL1ROW1: 5,\n  COL1ROW2: 6,\n  COL1ROW3: 7,\n  COL2ROW0: 8,\n  COL2ROW1: 9,\n  COL2ROW2: 10,\n  COL2ROW3: 11,\n  COL3ROW0: 12,\n  COL3ROW1: 13,\n  COL3ROW2: 14,\n  COL3ROW3: 15\n});\n\nconst constants = {};\n\nexport default class Matrix4 extends Matrix {\n  static get IDENTITY() {\n    constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix4(IDENTITY));\n    return constants.IDENTITY;\n  }\n\n  static get ZERO() {\n    constants.ZERO = constants.ZERO || Object.freeze(new Matrix4(ZERO));\n    return constants.ZERO;\n  }\n\n  get INDICES() {\n    return INDICES;\n  }\n\n  get ELEMENTS() {\n    return 16;\n  }\n\n  get RANK() {\n    return 4;\n  }\n\n  constructor(array) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0);\n    if (arguments.length === 1 && Array.isArray(array)) {\n      this.copy(array);\n    } else {\n      this.identity();\n    }\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    this[4] = array[4];\n    this[5] = array[5];\n    this[6] = array[6];\n    this[7] = array[7];\n    this[8] = array[8];\n    this[9] = array[9];\n    this[10] = array[10];\n    this[11] = array[11];\n    this[12] = array[12];\n    this[13] = array[13];\n    this[14] = array[14];\n    this[15] = array[15];\n    return this.check();\n  }\n\n  // eslint-disable-next-line max-params\n  set(m00, m10, m20, m30, m01, m11, m21, m31, m02, m12, m22, m32, m03, m13, m23, m33) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m30;\n    this[4] = m01;\n    this[5] = m11;\n    this[6] = m21;\n    this[7] = m31;\n    this[8] = m02;\n    this[9] = m12;\n    this[10] = m22;\n    this[11] = m32;\n    this[12] = m03;\n    this[13] = m13;\n    this[14] = m23;\n    this[15] = m33;\n    return this.check();\n  }\n\n  // accepts row major order, stores as column major\n  // eslint-disable-next-line max-params\n  setRowMajor(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m30;\n    this[4] = m01;\n    this[5] = m11;\n    this[6] = m21;\n    this[7] = m31;\n    this[8] = m02;\n    this[9] = m12;\n    this[10] = m22;\n    this[11] = m32;\n    this[12] = m03;\n    this[13] = m13;\n    this[14] = m23;\n    this[15] = m33;\n    return this.check();\n  }\n\n  toRowMajor(result) {\n    result[0] = this[0];\n    result[1] = this[4];\n    result[2] = this[8];\n    result[3] = this[12];\n    result[4] = this[1];\n    result[5] = this[5];\n    result[6] = this[9];\n    result[7] = this[13];\n    result[8] = this[2];\n    result[9] = this[6];\n    result[10] = this[10];\n    result[11] = this[14];\n    result[12] = this[3];\n    result[13] = this[7];\n    result[14] = this[11];\n    result[15] = this[15];\n    return result;\n  }\n\n  // Constructors\n\n  identity() {\n    return this.copy(IDENTITY);\n  }\n\n  // Calculates a 4x4 matrix from the given quaternion\n  // q quat  Quaternion to create matrix from\n  fromQuaternion(q) {\n    mat4.fromQuat(this, q);\n    return this.check();\n  }\n\n  // Generates a frustum matrix with the given bounds\n  // left  Number  Left bound of the frustum\n  // right Number  Right bound of the frustum\n  // bottom  Number  Bottom bound of the frustum\n  // top Number  Top bound of the frustum\n  // near  Number  Near bound of the frustum\n  // far Number  Far bound of the frustum\n  frustum({left, right, bottom, top, near, far}) {\n    if (far === Infinity) {\n      Matrix4._computeInfinitePerspectiveOffCenter(this, left, right, bottom, top, near);\n    } else {\n      mat4.frustum(this, left, right, bottom, top, near, far);\n    }\n    return this.check();\n  }\n\n  // eslint-disable-next-line max-params\n  static _computeInfinitePerspectiveOffCenter(result, left, right, bottom, top, near) {\n    const column0Row0 = (2.0 * near) / (right - left);\n    const column1Row1 = (2.0 * near) / (top - bottom);\n    const column2Row0 = (right + left) / (right - left);\n    const column2Row1 = (top + bottom) / (top - bottom);\n    const column2Row2 = -1.0;\n    const column2Row3 = -1.0;\n    const column3Row2 = -2.0 * near;\n\n    result[0] = column0Row0;\n    result[1] = 0.0;\n    result[2] = 0.0;\n    result[3] = 0.0;\n    result[4] = 0.0;\n    result[5] = column1Row1;\n    result[6] = 0.0;\n    result[7] = 0.0;\n    result[8] = column2Row0;\n    result[9] = column2Row1;\n    result[10] = column2Row2;\n    result[11] = column2Row3;\n    result[12] = 0.0;\n    result[13] = 0.0;\n    result[14] = column3Row2;\n    result[15] = 0.0;\n    return result;\n  }\n\n  // Generates a look-at matrix with the given eye position, focal point,\n  // and up axis\n  // eye vec3  Position of the viewer\n  // center  vec3  Point the viewer is looking at\n  // up  vec3  vec3 pointing up\n  lookAt(eye, center, up) {\n    // Signature: lookAt({eye, center = [0, 0, 0], up = [0, 1, 0]}))\n    if (arguments.length === 1) {\n      ({eye, center, up} = eye);\n    }\n\n    center = center || [0, 0, 0];\n    up = up || [0, 1, 0];\n\n    mat4.lookAt(this, eye, center, up);\n    return this.check();\n  }\n\n  // Generates a orthogonal projection matrix with the given bounds\n  // from \"traditional\" view space parameters\n  // left  number  Left bound of the frustum\n  // right number  Right bound of the frustum\n  // bottom  number  Bottom bound of the frustum\n  // top number  Top bound of the frustum\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  ortho({left, right, bottom, top, near = 0.1, far = 500}) {\n    mat4.ortho(this, left, right, bottom, top, near, far);\n    return this.check();\n  }\n\n  // Generates an orthogonal projection matrix with the same parameters\n  // as a perspective matrix (plus focalDistance)\n  // fovy  number  Vertical field of view in radians\n  // aspect  number  Aspect ratio. typically viewport width/height\n  // focalDistance distance in the view frustum used for extent calculations\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  orthographic({\n    fovy = (45 * Math.PI) / 180,\n    aspect = 1,\n    focalDistance = 1,\n    near = 0.1,\n    far = 500\n  }) {\n    if (fovy > Math.PI * 2) {\n      throw Error('radians');\n    }\n    const halfY = fovy / 2;\n    const top = focalDistance * Math.tan(halfY); // focus_plane is the distance from the camera\n    const right = top * aspect;\n\n    return new Matrix4().ortho({\n      left: -right,\n      right,\n      bottom: -top,\n      top,\n      near,\n      far\n    });\n  }\n\n  // Generates a perspective projection matrix with the given bounds\n  // fovy  number  Vertical field of view in radians\n  // aspect  number  Aspect ratio. typically viewport width/height\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  perspective({\n    fovy = undefined,\n    fov = (45 * Math.PI) / 180, // DEPRECATED\n    aspect = 1,\n    near = 0.1,\n    far = 500\n  } = {}) {\n    fovy = fovy || fov;\n    if (fovy > Math.PI * 2) {\n      throw Error('radians');\n    }\n    mat4.perspective(this, fovy, aspect, near, far);\n    return this.check();\n  }\n\n  // Accessors\n\n  determinant() {\n    return mat4.determinant(this);\n  }\n\n  // Extracts the non-uniform scale assuming the matrix is an affine transformation.\n  // The scales are the \"lengths\" of the column vectors in the upper-left 3x3 matrix.\n  getScale(result = [-0, -0, -0]) {\n    // explicit is faster than hypot...\n    result[0] = Math.sqrt(this[0] * this[0] + this[1] * this[1] + this[2] * this[2]);\n    result[1] = Math.sqrt(this[4] * this[4] + this[5] * this[5] + this[6] * this[6]);\n    result[2] = Math.sqrt(this[8] * this[8] + this[9] * this[9] + this[10] * this[10]);\n    // result[0] = Math.hypot(this[0], this[1], this[2]);\n    // result[1] = Math.hypot(this[4], this[5], this[6]);\n    // result[2] = Math.hypot(this[8], this[9], this[10]);\n    return result;\n  }\n\n  // Gets the translation portion, assuming the matrix is a affine transformation matrix.\n  getTranslation(result = [-0, -0, -0]) {\n    result[0] = this[12];\n    result[1] = this[13];\n    result[2] = this[14];\n    return result;\n  }\n\n  // Gets upper left 3x3 pure rotation matrix (non-scaling), assume affine transformation matrix\n  getRotation(\n    result = [-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0],\n    scaleResult = null\n  ) {\n    const scale = this.getScale(scaleResult || [-0, -0, -0]);\n\n    const inverseScale0 = 1 / scale[0];\n    const inverseScale1 = 1 / scale[1];\n    const inverseScale2 = 1 / scale[2];\n\n    result[0] = this[0] * inverseScale0;\n    result[1] = this[1] * inverseScale1;\n    result[2] = this[2] * inverseScale2;\n    result[3] = 0;\n    result[4] = this[4] * inverseScale0;\n    result[5] = this[5] * inverseScale1;\n    result[6] = this[6] * inverseScale2;\n    result[7] = 0;\n    result[8] = this[8] * inverseScale0;\n    result[9] = this[9] * inverseScale1;\n    result[10] = this[10] * inverseScale2;\n    result[11] = 0;\n    result[12] = 0;\n    result[13] = 0;\n    result[14] = 0;\n    result[15] = 1;\n    return result;\n  }\n\n  getRotationMatrix3(result = [-0, -0, -0, -0, -0, -0, -0, -0, -0], scaleResult = null) {\n    const scale = this.getScale(scaleResult || [-0, -0, -0]);\n\n    const inverseScale0 = 1 / scale[0];\n    const inverseScale1 = 1 / scale[1];\n    const inverseScale2 = 1 / scale[2];\n\n    result[0] = this[0] * inverseScale0;\n    result[1] = this[1] * inverseScale1;\n    result[2] = this[2] * inverseScale2;\n    result[3] = this[4] * inverseScale0;\n    result[4] = this[5] * inverseScale1;\n    result[5] = this[6] * inverseScale2;\n    result[6] = this[8] * inverseScale0;\n    result[7] = this[9] * inverseScale1;\n    result[8] = this[10] * inverseScale2;\n    return result;\n  }\n\n  // Modifiers\n\n  transpose() {\n    mat4.transpose(this, this);\n    return this.check();\n  }\n\n  invert() {\n    mat4.invert(this, this);\n    return this.check();\n  }\n\n  // Operations\n\n  multiplyLeft(a) {\n    mat4.multiply(this, a, this);\n    return this.check();\n  }\n\n  multiplyRight(a) {\n    mat4.multiply(this, this, a);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the X axis\n  rotateX(radians) {\n    mat4.rotateX(this, this, radians);\n    // mat4.rotate(this, this, radians, [1, 0, 0]);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the Y axis.\n  rotateY(radians) {\n    mat4.rotateY(this, this, radians);\n    // mat4.rotate(this, this, radians, [0, 1, 0]);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the Z axis.\n  rotateZ(radians) {\n    mat4.rotateZ(this, this, radians);\n    // mat4.rotate(this, this, radians, [0, 0, 1]);\n    return this.check();\n  }\n\n  rotateXYZ([rx, ry, rz]) {\n    return this.rotateX(rx)\n      .rotateY(ry)\n      .rotateZ(rz);\n  }\n\n  rotateAxis(radians, axis) {\n    mat4.rotate(this, this, radians, axis);\n    return this.check();\n  }\n\n  scale(factor) {\n    if (Array.isArray(factor)) {\n      mat4.scale(this, this, factor);\n    } else {\n      mat4.scale(this, this, [factor, factor, factor]);\n    }\n\n    return this.check();\n  }\n\n  translate(vec) {\n    mat4.translate(this, this, vec);\n    return this.check();\n  }\n\n  // Transforms\n\n  // Transforms any 2, 3 or 4 element vector. 2 and 3 elements are treated as points\n  transform(vector, result) {\n    if (vector.length === 4) {\n      result = vec4.transformMat4(result || [-0, -0, -0, -0], vector, this);\n      checkVector(result, 4);\n      return result;\n    }\n    return this.transformAsPoint(vector, result);\n  }\n\n  // Transforms any 2 or 3 element array as point (w implicitly 1)\n  transformAsPoint(vector, result) {\n    const {length} = vector;\n    switch (length) {\n      case 2:\n        result = vec2.transformMat4(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3.transformMat4(result || [-0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // Transforms any 2 or 3 element array as vector (w implicitly 0)\n  transformAsVector(vector, result) {\n    switch (vector.length) {\n      case 2:\n        result = vec2_transformMat4AsVector(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3_transformMat4AsVector(result || [-0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // three.js math API compatibility\n  makeRotationX(radians) {\n    return this.identity().rotateX(radians);\n  }\n\n  makeTranslation(x, y, z) {\n    return this.identity().translate([x, y, z]);\n  }\n\n  // DEPRECATED in 3.0\n\n  transformPoint(vector, result) {\n    deprecated('Matrix4.transformPoint', '3.0');\n    return this.transformAsPoint(vector, result);\n  }\n\n  transformVector(vector, result) {\n    deprecated('Matrix4.transformVector', '3.0');\n    return this.transformAsPoint(vector, result);\n  }\n\n  transformDirection(vector, result) {\n    deprecated('Matrix4.transformDirection', '3.0');\n    return this.transformAsVector(vector, result);\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {configure, Vector4, Matrix4} from '@math.gl/core';\nimport * as mat4 from 'gl-matrix/mat4';\n\n/*\nclass CesiumMatrix4 {\n  constructor(x = -0, y = -0, z = -0) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    this[3] = z;\n    this[4] = z;\n    this[5] = z;\n    this[6] = z;\n    this[7] = z;\n    this[8] = z;\n    this[9] = z;\n    this[10] = z;\n    this[11] = z;\n    this[12] = z;\n    this[13] = z;\n    this[14] = z;\n    this[15] = z;\n  }\n}\n\nfunction THREEMatrix4() {\n  this.elements = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ];\n}\n*/\n\nconst array = [0, 0, 0];\n// const arrayVector = new CesiumMatrix4();\n// const objectVector = new THREEMatrix4();\nconst matrix4 = new Matrix4();\n\nconst IDENTITY = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nconst classicArray = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nconst float32Array = new Float32Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nconst float64Array = new Float64Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n\nconst mathglVector4 = new Vector4();\nconst dirVector4 = new Vector4(0, 0, 0, 0);\nconst pointVector4 = new Vector4(0, 0, 0, 1);\nconst vector3 = [0, 0, 0];\n\nexport default function matrix4Bench(suite, addReferenceBenchmarks) {\n  suite\n    // add tests\n    .group('@math.gl/core: Matrix4 constructors')\n    .add('Matrix4#new Matrix4()', () => configure({debug: false}), () => new Matrix4())\n    .add('Matrix4#new Matrix4(debug)', () => configure({debug: true}), () => new Matrix4())\n    .add('Matrix4#copy()', () => configure({debug: false}), () => matrix4.copy(IDENTITY))\n    .add('Matrix4#copy(debug)', () => configure({debug: true}), () => matrix4.copy(IDENTITY))\n    .add(\n      'Matrix4#set()',\n      () => configure({debug: false}),\n      () => matrix4.set(1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n    )\n    .add('Matrix4#setRowMajor()', () =>\n      matrix4.setRowMajor(1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n    )\n    .add('Matrix4#identity', () => matrix4.identity())\n    .add('Matrix4#fromQuaternion', () => matrix4.fromQuaternion([1, 1, 1, 1]));\n  // .add('Matrix4#from(Matrix4)', () => matrix4.from(arrayVector))\n  // .add('Matrix4#from(Object)', () => matrix4.from(objectVector))\n  // .add('Matrix4#to(Matrix4)', () => matrix4.to(arrayVector))\n  // .add('Matrix4#to(Object)', () => matrix4.to(objectVector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('Array(16)', () => new Array(16))\n      .add('[1, 0, 0, 0, ...]', () => [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1])\n      .add('new Float32Array(16)', () => new Float32Array(16))\n      .add('new Float32Array(IDENTITY)', () => new Float32Array(IDENTITY))\n      .add('new Float64Array(16)', () => new Float64Array(16))\n      .add('new Float64Array(IDENTITY)', () => new Float64Array(IDENTITY));\n  }\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('Matrix4#from(Array)', () => matrix4.from(array))\n      .add('Matrix4#from(Float32Array)', () => matrix4.from(float32Array))\n      .add('Matrix4#to(Array)', () => matrix4.to(array))\n      .add('Matrix4#to(Float32Array)', () => matrix4.to(float32Array));\n    // .group('debug validation cost')\n    // .add('Matrix4#validate (debug)', () => configure({debug: true}), () => matrix4.check())\n    // .add('Matrix4#validate ', () => configure({debug: false}), () => matrix4.check())\n  }\n\n  suite\n    .group('@math.gl/core: Matrix4 Multiplication')\n    .add('Matrix4#multiplyRight(Matrix4)', () => matrix4.multiplyRight(matrix4))\n    .add('gl-matrix#multiply(Matrix4)', () => mat4.multiply(matrix4, matrix4, matrix4))\n    .add('Matrix4#transform(dir4)', () => matrix4.transform(dirVector4, mathglVector4))\n    .add('Matrix4#transform(point4)', () => matrix4.transform(pointVector4, mathglVector4))\n    .add('Matrix4#transformAsVector(v3)', () => matrix4.transformAsVector(vector3, vector3))\n    .add('Matrix4#transformAsPoint(v3)', () => matrix4.transformAsVector(vector3, vector3));\n\n  suite\n    .group('@math.gl/core: Matrix4 accessors')\n    .add('Matrix4#determinant()', () => matrix4.determinant())\n    .add('Matrix4#getScale()', () => matrix4.getScale())\n    .add('Matrix4#getTranslation()', () => matrix4.getTranslation())\n    .add('Matrix4#getRotation()', () => matrix4.getRotation())\n    .add('Matrix4#getRotationMatrix3()', () => matrix4.getRotationMatrix3());\n\n  suite\n    .group('@math.gl/core: Matrix4 operations')\n    .add('Matrix4#transpose()', () => matrix4.transpose())\n    .add('Matrix4#invert()', () => matrix4.invert())\n\n    .add('Matrix4#scale()', () => matrix4.scale(2))\n    .add('Matrix4#translate()', () => matrix4.translate([1, 1, 1]));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('gl-matrix#multiply(array)', () =>\n        mat4.multiply(classicArray, classicArray, classicArray)\n      )\n      .add('gl-matrix#multiply(float32Array)', () =>\n        mat4.multiply(float32Array, float32Array, float32Array)\n      )\n      .add('gl-matrix#multiply(float64Array)', () =>\n        mat4.multiply(float64Array, float64Array, float64Array)\n      );\n  }\n\n  return suite;\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport javascriptBench from './lib/javascript.bench';\nimport commonBench from './lib/common.bench';\n\n// import classesBench from './classes/classes.bench';\nimport vector2Bench from './classes/vector2.bench';\nimport vector3Bench from './classes/vector3.bench';\nimport vector4Bench from './classes/vector4.bench';\nimport matrix4Bench from './classes/matrix4.bench';\n\nexport default function coreBench(suite, addReferenceBenchmarks) {\n  // classesBench(suite, addReferenceBenchmarks);\n  commonBench(suite, addReferenceBenchmarks);\n  javascriptBench(suite, addReferenceBenchmarks);\n\n  matrix4Bench(suite, addReferenceBenchmarks);\n\n  vector2Bench(suite, addReferenceBenchmarks);\n  vector3Bench(suite, addReferenceBenchmarks);\n  vector4Bench(suite, addReferenceBenchmarks);\n\n  return suite;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nexport const WGS84_RADIUS_X = 6378137.0;\nexport const WGS84_RADIUS_Y = 6378137.0;\nexport const WGS84_RADIUS_Z = 6356752.3142451793;\n\n// Pre-calculated ellipsoid defaults to avoid utils depending on `ellipsoid.js`\n\nexport const WGS84_CONSTANTS = {\n  radii: [WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z],\n  radiiSquared: [\n    WGS84_RADIUS_X * WGS84_RADIUS_X,\n    WGS84_RADIUS_Y * WGS84_RADIUS_Y,\n    WGS84_RADIUS_Z * WGS84_RADIUS_Z\n  ],\n  oneOverRadii: [1.0 / WGS84_RADIUS_X, 1.0 / WGS84_RADIUS_Y, 1.0 / WGS84_RADIUS_Z],\n  oneOverRadiiSquared: [\n    1.0 / (WGS84_RADIUS_X * WGS84_RADIUS_X),\n    1.0 / (WGS84_RADIUS_Y * WGS84_RADIUS_Y),\n    1.0 / (WGS84_RADIUS_Z * WGS84_RADIUS_Z)\n  ],\n  maximumRadius: Math.max(WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z),\n  centerToleranceSquared: 1e-1 // EPSILON1;\n};\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, isArray, toRadians, toDegrees, config} from '@math.gl/core';\nimport {WGS84_CONSTANTS} from './constants';\n\nconst noop = x => x;\n\nconst scratchVector = new Vector3();\n\nexport function fromCartographic(cartographic, result, map = noop) {\n  if (isArray(cartographic)) {\n    result[0] = map(cartographic[0]);\n    result[1] = map(cartographic[1]);\n    result[2] = cartographic[2];\n  } else if ('longitude' in cartographic) {\n    result[0] = map(cartographic.longitude);\n    result[1] = map(cartographic.latitude);\n    result[2] = cartographic.height;\n  } else {\n    result[0] = map(cartographic.x);\n    result[1] = map(cartographic.y);\n    result[2] = cartographic.z;\n  }\n  return result;\n}\n\nexport function fromCartographicToRadians(cartographic, vector = scratchVector) {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? noop : toRadians);\n}\n\nexport function fromCartographicToDegrees(cartographic, vector = scratchVector) {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? toDegrees : noop);\n}\n\nexport function toCartographic(vector, cartographic, map = noop) {\n  if (isArray(cartographic)) {\n    cartographic[0] = map(vector[0]);\n    cartographic[1] = map(vector[1]);\n    cartographic[2] = vector[2];\n  } else if ('longitude' in cartographic) {\n    cartographic.longitude = map(vector[0]);\n    cartographic.latitude = map(vector[1]);\n    cartographic.height = vector[2];\n  } else {\n    cartographic.x = map(vector[0]);\n    cartographic.y = map(vector[1]);\n    cartographic.z = vector[2];\n  }\n  return cartographic;\n}\n\nexport function toCartographicFromRadians(vector, cartographic) {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? noop : toDegrees);\n}\n\nexport function toCartographicFromDegrees(vector, cartographic) {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? toRadians : noop);\n}\n\nexport function isWGS84(vector) {\n  if (!vector) {\n    return false;\n  }\n  scratchVector.from(vector);\n  const {oneOverRadiiSquared, centerToleranceSquared} = WGS84_CONSTANTS;\n  const x2 = vector[0] * vector[0] * oneOverRadiiSquared[0];\n  const y2 = vector[1] * vector[1] * oneOverRadiiSquared[1];\n  const z2 = vector[2] * vector[2] * oneOverRadiiSquared[2];\n  return Math.abs(x2 + y2 + z2 - 1) < centerToleranceSquared;\n}\n","// NOTE: Added to make Cesium-derived test cases work\n// TODO: Determine if/how to keep\nexport default {\n  EPSILON1: 1e-1,\n  EPSILON2: 1e-2,\n  EPSILON3: 1e-3,\n  EPSILON4: 1e-4,\n  EPSILON5: 1e-5,\n  EPSILON6: 1e-6,\n  EPSILON7: 1e-7,\n  EPSILON8: 1e-8,\n  EPSILON9: 1e-9,\n  EPSILON10: 1e-10,\n  EPSILON11: 1e-11,\n  EPSILON12: 1e-12,\n  EPSILON13: 1e-13,\n  EPSILON14: 1e-14,\n  EPSILON15: 1e-15,\n  EPSILON16: 1e-16,\n  EPSILON17: 1e-17,\n  EPSILON18: 1e-18,\n  EPSILON19: 1e-19,\n  EPSILON20: 1e-20,\n\n  PI_OVER_TWO: Math.PI / 2,\n  PI_OVER_FOUR: Math.PI / 4,\n  PI_OVER_SIX: Math.PI / 6,\n\n  TWO_PI: Math.PI * 2\n};\n","/* eslint-disable */\nimport {Vector3, assert, _MathUtils} from '@math.gl/core';\nimport * as vec3 from 'gl-matrix/vec3';\n\nconst scratchVector = new Vector3();\nconst scaleToGeodeticSurfaceIntersection = new Vector3();\nconst scaleToGeodeticSurfaceGradient = new Vector3();\n\n// Scales the provided Cartesian position along the geodetic surface normal\n// so that it is on the surface of this ellipsoid.  If the position is\n// at the center of the ellipsoid, this function returns undefined.\nexport default function scaleToGeodeticSurface(cartesian, ellipsoid, result = new Vector3()) {\n  const {oneOverRadii, oneOverRadiiSquared, centerToleranceSquared} = ellipsoid;\n\n  scratchVector.from(cartesian);\n\n  const positionX = cartesian.x;\n  const positionY = cartesian.y;\n  const positionZ = cartesian.z;\n\n  const oneOverRadiiX = oneOverRadii.x;\n  const oneOverRadiiY = oneOverRadii.y;\n  const oneOverRadiiZ = oneOverRadii.z;\n\n  const x2 = positionX * positionX * oneOverRadiiX * oneOverRadiiX;\n  const y2 = positionY * positionY * oneOverRadiiY * oneOverRadiiY;\n  const z2 = positionZ * positionZ * oneOverRadiiZ * oneOverRadiiZ;\n\n  // Compute the squared ellipsoid norm.\n  const squaredNorm = x2 + y2 + z2;\n  const ratio = Math.sqrt(1.0 / squaredNorm);\n\n  // When very close to center or at center\n  if (!Number.isFinite(ratio)) {\n    return undefined;\n  }\n\n  // As an initial approximation, assume that the radial intersection is the projection point.\n  const intersection = scaleToGeodeticSurfaceIntersection;\n  intersection.copy(cartesian).scale(ratio);\n\n  // If the position is near the center, the iteration will not converge.\n  if (squaredNorm < centerToleranceSquared) {\n    return intersection.to(result);\n  }\n\n  const oneOverRadiiSquaredX = oneOverRadiiSquared.x;\n  const oneOverRadiiSquaredY = oneOverRadiiSquared.y;\n  const oneOverRadiiSquaredZ = oneOverRadiiSquared.z;\n\n  // Use the gradient at the intersection point in place of the true unit normal.\n  // The difference in magnitude will be absorbed in the multiplier.\n  const gradient = scaleToGeodeticSurfaceGradient;\n  gradient.set(\n    intersection.x * oneOverRadiiSquaredX * 2.0,\n    intersection.y * oneOverRadiiSquaredY * 2.0,\n    intersection.z * oneOverRadiiSquaredZ * 2.0\n  );\n\n  // Compute the initial guess at the normal vector multiplier, lambda.\n  let lambda = ((1.0 - ratio) * cartesian.len()) / (0.5 * gradient.len());\n  let correction = 0.0;\n\n  let xMultiplier;\n  let yMultiplier;\n  let zMultiplier;\n  let func;\n\n  do {\n    lambda -= correction;\n\n    xMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredX);\n    yMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredY);\n    zMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredZ);\n\n    const xMultiplier2 = xMultiplier * xMultiplier;\n    const yMultiplier2 = yMultiplier * yMultiplier;\n    const zMultiplier2 = zMultiplier * zMultiplier;\n\n    const xMultiplier3 = xMultiplier2 * xMultiplier;\n    const yMultiplier3 = yMultiplier2 * yMultiplier;\n    const zMultiplier3 = zMultiplier2 * zMultiplier;\n\n    func = x2 * xMultiplier2 + y2 * yMultiplier2 + z2 * zMultiplier2 - 1.0;\n\n    // \"denominator\" here refers to the use of this expression in the velocity and acceleration\n    // computations in the sections to follow.\n    const denominator =\n      x2 * xMultiplier3 * oneOverRadiiSquaredX +\n      y2 * yMultiplier3 * oneOverRadiiSquaredY +\n      z2 * zMultiplier3 * oneOverRadiiSquaredZ;\n\n    const derivative = -2.0 * denominator;\n\n    correction = func / derivative;\n  } while (Math.abs(func) > _MathUtils.EPSILON12);\n\n  return scratchVector.scale([xMultiplier, yMultiplier, zMultiplier]).to(result);\n}\n","import {Vector3, assert, equals as equalsEpsilon} from '@math.gl/core';\n\nconst EPSILON14 = 1e-14;\n\nconst scratchOrigin = new Vector3();\n\n// Caclulate third axis from given two axii\nconst VECTOR_PRODUCT_LOCAL_FRAME = {\n  up: {\n    south: 'east',\n    north: 'west',\n    west: 'south',\n    east: 'north'\n  },\n  down: {\n    south: 'west',\n    north: 'east',\n    west: 'north',\n    east: 'south'\n  },\n  south: {\n    up: 'west',\n    down: 'east',\n    west: 'down',\n    east: 'up'\n  },\n  north: {\n    up: 'east',\n    down: 'west',\n    west: 'up',\n    east: 'down'\n  },\n  west: {\n    up: 'north',\n    down: 'south',\n    north: 'down',\n    south: 'up'\n  },\n  east: {\n    up: 'south',\n    down: 'north',\n    north: 'up',\n    south: 'down'\n  }\n};\n\nconst degeneratePositionLocalFrame = {\n  north: [-1, 0, 0],\n  east: [0, 1, 0],\n  up: [0, 0, 1],\n  south: [1, 0, 0],\n  west: [0, -1, 0],\n  down: [0, 0, -1]\n};\n\nconst scratchAxisVectors = {\n  east: new Vector3(),\n  north: new Vector3(),\n  up: new Vector3(),\n  west: new Vector3(),\n  south: new Vector3(),\n  down: new Vector3()\n};\n\nconst scratchVector1 = new Vector3();\nconst scratchVector2 = new Vector3();\nconst scratchVector3 = new Vector3();\n\n// Computes a 4x4 transformation matrix from a reference frame\n// centered at the provided origin to the provided ellipsoid's fixed reference frame.\n// eslint-disable-next-line max-statements, max-params, complexity\nexport default function localFrameToFixedFrame(\n  ellipsoid,\n  firstAxis,\n  secondAxis,\n  thirdAxis,\n  cartesianOrigin,\n  result\n) {\n  const thirdAxisInferred =\n    VECTOR_PRODUCT_LOCAL_FRAME[firstAxis] && VECTOR_PRODUCT_LOCAL_FRAME[firstAxis][secondAxis];\n  // firstAxis and secondAxis must be east, north, up, west, south or down.');\n  assert(thirdAxisInferred && (!thirdAxis || thirdAxis === thirdAxisInferred));\n\n  let firstAxisVector;\n  let secondAxisVector;\n  let thirdAxisVector;\n\n  const origin = scratchOrigin.copy(cartesianOrigin);\n\n  // If x and y are zero, assume origin is at a pole, which is a special case.\n  const atPole = equalsEpsilon(origin.x, 0.0, EPSILON14) && equalsEpsilon(origin.y, 0.0, EPSILON14);\n\n  if (atPole) {\n    // Look up axis value and adjust\n    const sign = Math.sign(origin.z);\n\n    firstAxisVector = scratchVector1.fromArray(degeneratePositionLocalFrame[firstAxis]);\n    if (firstAxis !== 'east' && firstAxis !== 'west') {\n      firstAxisVector.scale(sign);\n    }\n\n    secondAxisVector = scratchVector2.fromArray(degeneratePositionLocalFrame[secondAxis]);\n    if (secondAxis !== 'east' && secondAxis !== 'west') {\n      secondAxisVector.scale(sign);\n    }\n\n    thirdAxisVector = scratchVector3.fromArray(degeneratePositionLocalFrame[thirdAxis]);\n    if (thirdAxis !== 'east' && thirdAxis !== 'west') {\n      thirdAxisVector.scale(sign);\n    }\n  } else {\n    // Calculate all axis\n    const {up, east, north} = scratchAxisVectors;\n\n    east.set(-origin.y, origin.x, 0.0).normalize();\n    ellipsoid.geodeticSurfaceNormal(origin, up);\n    north.copy(up).cross(east);\n\n    const {down, west, south} = scratchAxisVectors;\n\n    down.copy(up).scale(-1);\n    west.copy(east).scale(-1);\n    south.copy(north).scale(-1);\n\n    // Pick three axis based on desired orientation\n    firstAxisVector = scratchAxisVectors[firstAxis];\n    secondAxisVector = scratchAxisVectors[secondAxis];\n    thirdAxisVector = scratchAxisVectors[thirdAxis];\n  }\n\n  // TODO - assuming the result is column-major\n  result[0] = firstAxisVector.x;\n  result[1] = firstAxisVector.y;\n  result[2] = firstAxisVector.z;\n  result[3] = 0.0;\n  result[4] = secondAxisVector.x;\n  result[5] = secondAxisVector.y;\n  result[6] = secondAxisVector.z;\n  result[7] = 0.0;\n  result[8] = thirdAxisVector.x;\n  result[9] = thirdAxisVector.y;\n  result[10] = thirdAxisVector.z;\n  result[11] = 0.0;\n  result[12] = origin.x;\n  result[13] = origin.y;\n  result[14] = origin.z;\n  result[15] = 1.0;\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Matrix4, toRadians, toDegrees, assert, equals, _MathUtils} from '@math.gl/core';\nimport * as vec3 from 'gl-matrix/vec3';\n\nimport {WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z} from '../constants';\nimport {fromCartographicToRadians, toCartographicFromRadians} from '../type-utils';\n\nimport scaleToGeodeticSurface from './helpers/scale-to-geodetic-surface';\nimport localFrameToFixedFrame from './helpers/ellipsoid-transform';\n\nconst scratchVector = new Vector3();\nconst scratchNormal = new Vector3();\nconst scratchK = new Vector3();\nconst scratchPosition = new Vector3();\nconst scratchHeight = new Vector3();\nconst scratchCartesian = new Vector3();\n\nlet wgs84;\n\n// A quadratic surface defined in Cartesian coordinates by the equation\n// <code>(x / a)^2 + (y / b)^2 + (z / c)^2 = 1</code>.  Primarily used\n// to represent the shape of planetary bodies.\nexport default class Ellipsoid {\n  // An Ellipsoid instance initialized to the WGS84 standard.\n  static get WGS84() {\n    wgs84 = wgs84 || new Ellipsoid(WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z);\n    return wgs84;\n  }\n\n  // Creates an Ellipsoid from a Cartesian specifying the radii in x, y, and z directions.\n  constructor(x = 0.0, y = 0.0, z = 0.0) {\n    assert(x >= 0.0);\n    assert(y >= 0.0);\n    assert(z >= 0.0);\n\n    this.radii = new Vector3(x, y, z);\n\n    this.radiiSquared = new Vector3(x * x, y * y, z * z);\n\n    this.radiiToTheFourth = new Vector3(x * x * x * x, y * y * y * y, z * z * z * z);\n\n    this.oneOverRadii = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / x,\n      y === 0.0 ? 0.0 : 1.0 / y,\n      z === 0.0 ? 0.0 : 1.0 / z\n    );\n\n    this.oneOverRadiiSquared = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / (x * x),\n      y === 0.0 ? 0.0 : 1.0 / (y * y),\n      z === 0.0 ? 0.0 : 1.0 / (z * z)\n    );\n\n    this.minimumRadius = Math.min(x, y, z);\n\n    this.maximumRadius = Math.max(x, y, z);\n\n    this.centerToleranceSquared = _MathUtils.EPSILON1;\n\n    if (this.radiiSquared.z !== 0) {\n      this.squaredXOverSquaredZ = this.radiiSquared.x / this.radiiSquared.z;\n    }\n\n    Object.freeze(this);\n  }\n\n  // Compares this Ellipsoid against the provided Ellipsoid componentwise and returns\n  equals(right) {\n    return this === right || Boolean(right && this.radii.equals(right.radii));\n  }\n\n  // Creates a string representing this Ellipsoid in the format '(radii.x, radii.y, radii.z)'.\n  toString() {\n    return this.radii.toString();\n  }\n\n  // Converts the provided cartographic to Cartesian representation.\n  cartographicToCartesian(cartographic, result = [0, 0, 0]) {\n    const normal = scratchNormal;\n    const k = scratchK;\n\n    const [, , height] = cartographic;\n    this.geodeticSurfaceNormalCartographic(cartographic, normal);\n    k.copy(this.radiiSquared).scale(normal);\n\n    const gamma = Math.sqrt(normal.dot(k));\n    k.scale(1 / gamma);\n\n    normal.scale(height);\n\n    k.add(normal);\n\n    return k.to(result);\n  }\n\n  // Converts the provided cartesian to cartographic (lng/lat/z) representation.\n  // The cartesian is undefined at the center of the ellipsoid.\n  cartesianToCartographic(cartesian, result = [0, 0, 0]) {\n    scratchCartesian.from(cartesian);\n    const point = this.scaleToGeodeticSurface(scratchCartesian, scratchPosition);\n\n    if (!point) {\n      return undefined;\n    }\n\n    const normal = this.geodeticSurfaceNormal(point, scratchNormal);\n\n    const h = scratchHeight;\n    h.copy(scratchCartesian).subtract(point);\n\n    const longitude = Math.atan2(normal.y, normal.x);\n    const latitude = Math.asin(normal.z);\n    const height = Math.sign(vec3.dot(h, scratchCartesian)) * vec3.length(h);\n\n    return toCartographicFromRadians([longitude, latitude, height], result);\n  }\n\n  // Computes a 4x4 transformation matrix from a reference frame with an east-north-up axes\n  // centered at the provided origin to the provided ellipsoid's fixed reference frame.\n  eastNorthUpToFixedFrame(origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, 'east', 'north', 'up', origin, result);\n  }\n\n  // Computes a 4x4 transformation matrix from a reference frame centered at\n  // the provided origin to the ellipsoid's fixed reference frame.\n  localFrameToFixedFrame(firstAxis, secondAxis, thirdAxis, origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, firstAxis, secondAxis, thirdAxis, origin, result);\n  }\n\n  // Computes the unit vector directed from the center of this ellipsoid toward\n  // the provided Cartesian position.\n  geocentricSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector\n      .from(cartesian)\n      .normalize()\n      .to(result);\n  }\n\n  // Computes the normal of the plane tangent to the surface of the ellipsoid at provided position.\n  geodeticSurfaceNormalCartographic(cartographic, result = [0, 0, 0]) {\n    const cartographicVectorRadians = fromCartographicToRadians(cartographic);\n\n    const longitude = cartographicVectorRadians[0];\n    const latitude = cartographicVectorRadians[1];\n\n    const cosLatitude = Math.cos(latitude);\n\n    scratchVector\n      .set(cosLatitude * Math.cos(longitude), cosLatitude * Math.sin(longitude), Math.sin(latitude))\n      .normalize();\n\n    return scratchVector.to(result);\n  }\n\n  // Computes the normal of the plane tangent to the surface of the ellipsoid at the provided position.\n  geodeticSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector\n      .from(cartesian)\n      .scale(this.oneOverRadiiSquared)\n      .normalize()\n      .to(result);\n  }\n\n  // Scales the provided Cartesian position along the geodetic surface normal\n  // so that it is on the surface of this ellipsoid.  If the position is\n  // at the center of the ellipsoid, this function returns undefined.\n  scaleToGeodeticSurface(cartesian, result) {\n    return scaleToGeodeticSurface(cartesian, this, result);\n  }\n\n  // Scales the provided Cartesian position along the geocentric surface normal\n  // so that it is on the surface of this ellipsoid.\n  scaleToGeocentricSurface(cartesian, result = [0, 0, 0]) {\n    scratchPosition.from(cartesian);\n\n    const positionX = scratchPosition.x;\n    const positionY = scratchPosition.y;\n    const positionZ = scratchPosition.z;\n    const oneOverRadiiSquared = this.oneOverRadiiSquared;\n\n    const beta =\n      1.0 /\n      Math.sqrt(\n        positionX * positionX * oneOverRadiiSquared.x +\n          positionY * positionY * oneOverRadiiSquared.y +\n          positionZ * positionZ * oneOverRadiiSquared.z\n      );\n\n    return scratchPosition.multiplyScalar(beta).to(result);\n  }\n\n  // Transforms a Cartesian X, Y, Z position to the ellipsoid-scaled space by multiplying\n  // its components by the result of `Ellipsoid#oneOverRadii`\n  transformPositionToScaledSpace(position, result = [0, 0, 0]) {\n    return scratchPosition\n      .from(position)\n      .scale(this.oneOverRadii)\n      .to(result);\n  }\n\n  // Transforms a Cartesian X, Y, Z position from the ellipsoid-scaled space by multiplying\n  // its components by the result of `Ellipsoid#radii`.\n  transformPositionFromScaledSpace(position, result = [0, 0, 0]) {\n    return scratchPosition\n      .from(position)\n      .scale(this.radii)\n      .to(result);\n  }\n\n  // Computes a point which is the intersection of the surface normal with the z-axis.\n  getSurfaceNormalIntersectionWithZAxis(position, buffer = 0.0, result = [0, 0, 0]) {\n    // Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)\n    assert(equals(this.radii.x, this.radii.y, _MathUtils.EPSILON15));\n    assert(this.radii.z > 0);\n\n    scratchPosition.from(position);\n    const z = scratchPosition.z * (1 - this.squaredXOverSquaredZ);\n\n    if (Math.abs(z) >= this.radii.z - buffer) {\n      return undefined;\n    }\n\n    return scratchPosition.set(0.0, 0.0, z).to(result);\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix4} from '@math.gl/core';\nimport {Ellipsoid} from '@math.gl/geospatial';\n// import {externalVector3ToArray, setExternalVector3} from '@math.gl/geospatial/type-utils';\n// import * as vec3 from 'gl-matrix/vec3';\n\nconst ellipsoid = Ellipsoid.WGS84;\nconst spaceCartesian = new Vector3(4582719.8827300891, -4582719.8827300882, 1725510.4250797231);\nconst spaceCartographic = new Vector3(-45.0, 15.0, 330000.0);\n// const spaceCartographicObject = {x: -45.0, y: 15.0, z: 330000.0};\nconst resultVector = new Vector3();\n// const resultArray = [0, 0, 0];\n// const resultObject = {x: 0, y: 0, z: 0};\n\nconst origin = new Vector3(1.0, 0.0, 0.0);\n// const northPole = new Vector3(0.0, 0.0, 1.0);\nconst resultMatrix = new Matrix4();\n\nexport default function ellipsoidBench(suite) {\n  // const spaceCartesian = new Vector3(4582719.8827300891, -4582719.8827300882, 1725510.4250797231);\n\n  suite\n    .group('@math.gl/geospatial Ellipsoid')\n    .add('#cartographicToCartesian(=>Vector3)', () =>\n      ellipsoid.cartographicToCartesian(spaceCartographic, resultVector)\n    )\n    .add('#cartesianToCartographic(=>Vector3)', () =>\n      ellipsoid.cartesianToCartographic(spaceCartesian, resultVector)\n    )\n    .add('#eastNorthUpToFixedFrame()', () =>\n      Ellipsoid.WGS84.eastNorthUpToFixedFrame(origin, resultMatrix)\n    )\n    // .add('#eastNorthUpToFixedFrame(Pole)', () =>\n    //   Ellipsoid.WGS84.eastNorthUpToFixedFrame(northPole, resultMatrix)\n    // )\n\n    // .add('#cartographicToCartesian(=>Object)', () =>\n    //   ellipsoid.cartographicToCartesian(spaceCartographic, resultObject)\n    // )\n    // .add('#geodSurfNormalCarto(=>Object)', () =>\n    //   ellipsoid.geodeticSurfaceNormalCartographic(spaceCartographicObject, resultObject)\n    // )\n\n    .add('#geodSurfNormal(=>Vector3)', () =>\n      ellipsoid.geodeticSurfaceNormalCartographic(spaceCartographic, resultVector)\n    )\n    // .add('#geodSurfNormalCarto() Opt', () =>\n    //   geodeticSurfaceNormalCartographicOptimized(spaceCartographic, resultArray)\n    // )\n\n    .add('#geodeticSurfaceNormal(=>Vector3)', () =>\n      ellipsoid.geodeticSurfaceNormal(spaceCartesian, resultVector)\n    )\n\n    .add('#scaleToGeocentricSurface(=>Vector3)', () =>\n      ellipsoid.scaleToGeocentricSurface(spaceCartesian, resultVector)\n    );\n  // .add('#scaleToGeocentricSurface(=>Object)', () =>\n  //   ellipsoid.scaleToGeocentricSurface(spaceCartesian, resultObject)\n  // )\n\n  return suite;\n}\n\n/*\n// Hand optimized version of Ellipsoid.geodeticSurfaceNormalCartographic\n// Computes the normal of the plane tangent to the surface of the ellipsoid at provided position.\nfunction geodeticSurfaceNormalCartographicOptimized(cartographic, result = new Vector3()) {\n  // const longitude = cartographic.longitude;\n  // const latitude = cartographic.latitude;\n\n  // const longitude = toRadians(cartographic[0]);\n  // const latitude = toRadians(cartographic[1]);\n  const longitude = cartographic[0];\n  const latitude = cartographic[1];\n\n  const cosLatitude = Math.cos(latitude);\n\n  const x = cosLatitude * Math.cos(longitude);\n  const y = cosLatitude * Math.sin(longitude);\n  const z = Math.sin(latitude);\n\n  result.x = x;\n  result.y = y;\n  result.z = z;\n\n  return vec3.normalize(result, result);\n}\n*/\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3} from '@math.gl/core';\nimport {\n  fromCartographic,\n  fromCartographicToRadians,\n  toCartographicFromRadians\n} from '../src/type-utils';\n\nimport ellipsoidBench from '@math.gl/geospatial/test/ellipsoid/ellipsoid.bench';\n\nclass ObjectVector {\n  constructor(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nconst array = [0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0]);\nconst objectVector = new ObjectVector();\nconst vector = new Vector3();\nconst vector3 = new Vector3();\n\nexport default function geospatialBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('Cartographic Type Conversion Cost')\n    .add('fromCartographic#Vector3', () => fromCartographic(vector3, vector))\n    .add('fromCartographicToRadians#Vector3', () => fromCartographicToRadians(vector3, vector))\n    .add('toCartographicFromRadians#Vector3', () => toCartographicFromRadians(vector3, vector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      // .add('fromCartographicToRadians#Object', () =>\n      //   fromCartographicToRadians(vector3, objectVector)\n      // )\n      .add('toCartographicFromRadians#Object', () =>\n        toCartographicFromRadians(vector3, objectVector)\n      )\n      .add('fromCartographicToRadians#Array', () => fromCartographicToRadians(vector3, array))\n      .add('fromCartographicToRadians#Float32Array', () =>\n        fromCartographicToRadians(vector3, float32Array)\n      )\n      .add('toCartographicFromRadians#Array', () => toCartographicFromRadians(vector3, array))\n      .add('toCartographicFromRadians#Float32Array', () =>\n        toCartographicFromRadians(vector3, float32Array)\n      );\n  }\n\n  ellipsoidBench(suite);\n\n  return suite;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nexport const INTERSECTION = Object.freeze({\n  OUTSIDE: -1, // Represents that an object is not contained within the frustum.\n  INTERSECTING: 0, // Represents that an object intersects one of the frustum's planes.\n  INSIDE: 1 // Represents that an object is fully within the frustum.\n});\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Matrix4} from '@math.gl/core';\nimport * as mat4 from 'gl-matrix/mat4';\nimport {INTERSECTION} from '../constants';\n\n// import Rectangle from './rectangle';\n\n// const defaultProjection = new GeographicProjection();\n// const fromRectangle2DLowerLeft = new Vector3();\n// const fromRectangle2DUpperRight = new Vector3();\n// const fromRectangle2DSouthwest = new Cartographic();\n// const fromRectangle2DNortheast = new Cartographic();\n\n// const fromRectangle3DScratch = [];\n\nconst scratchVector = new Vector3();\nconst scratchVector2 = new Vector3();\n\nexport default class BoundingSphere {\n  constructor(center = [0, 0, 0], radius = 0.0) {\n    this.radius = -0;\n    this.center = new Vector3();\n    this.fromCenterRadius(center, radius);\n  }\n\n  fromCenterRadius(center, radius) {\n    this.center.from(center);\n    this.radius = radius;\n    return this;\n  }\n\n  // Computes a bounding sphere from the corner points of an axis-aligned bounding box.  The sphere\n  // tighly and fully encompases the box.\n  fromCornerPoints(corner, oppositeCorner) {\n    oppositeCorner = scratchVector.from(oppositeCorner);\n    this.center = new Vector3()\n      .from(corner)\n      .add(oppositeCorner)\n      .scale(0.5);\n    this.radius = this.center.distance(oppositeCorner);\n    return this;\n  }\n\n  // Compares the provided BoundingSphere componentwise\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.center.equals(right.center) && this.radius === right.radius)\n    );\n  }\n\n  // Duplicates a BoundingSphere instance.\n  clone() {\n    return new BoundingSphere(this.center, this.radius);\n  }\n\n  // Computes a bounding sphere that contains both the left and right bounding spheres.\n  union(boundingSphere) {\n    const leftCenter = this.center;\n    const leftRadius = this.radius;\n    const rightCenter = boundingSphere.center;\n    const rightRadius = boundingSphere.radius;\n\n    const toRightCenter = scratchVector.copy(rightCenter).subtract(leftCenter);\n    const centerSeparation = toRightCenter.magnitude();\n\n    if (leftRadius >= centerSeparation + rightRadius) {\n      // Left sphere wins.\n      return this.clone();\n    }\n\n    if (rightRadius >= centerSeparation + leftRadius) {\n      // Right sphere wins.\n      return boundingSphere.clone();\n    }\n\n    // There are two tangent points, one on far side of each sphere.\n    const halfDistanceBetweenTangentPoints = (leftRadius + centerSeparation + rightRadius) * 0.5;\n\n    // Compute the center point halfway between the two tangent points.\n    scratchVector2\n      .copy(toRightCenter)\n      .scale((-leftRadius + halfDistanceBetweenTangentPoints) / centerSeparation)\n      .add(leftCenter);\n\n    this.center.copy(scratchVector2);\n    this.radius = halfDistanceBetweenTangentPoints;\n\n    return this;\n  }\n\n  // Computes a bounding sphere by enlarging the provided sphere to contain the provided point.\n  expand(point) {\n    point = scratchVector.from(point);\n    const radius = point.subtract(this.center).magnitude();\n    if (radius > this.radius) {\n      this.radius = radius;\n    }\n    return this;\n  }\n\n  // Determines which side of a plane a sphere is located.\n  intersectPlane(plane) {\n    var center = this.center;\n    var radius = this.radius;\n    var normal = plane.normal;\n    var distanceToPlane = normal.dot(center) + plane.distance;\n\n    // The center point is negative side of the plane normal\n    if (distanceToPlane < -radius) {\n      return INTERSECTION.OUTSIDE;\n    }\n    // The center point is positive side of the plane, but radius extends beyond it; partial overlap\n    if (distanceToPlane < radius) {\n      return INTERSECTION.INTERSECTING;\n    }\n    // The center point and radius is positive side of the plane\n    return INTERSECTION.INSIDE;\n  }\n\n  // Applies a 4x4 affine transformation matrix to a bounding sphere.\n  //    *\n  // @param {BoundingSphere} sphere The bounding sphere to apply the transformation to.\n  // @param {Matrix4} transform The transformation matrix to apply to the bounding sphere.\n  // @returns {BoundingSphere} The modified this parameter or a new BoundingSphere instance if none was provided.\n  transform(transform) {\n    this.center.transform(transform);\n    const scale = mat4.getScaling(scratchVector, transform);\n    this.radius = Math.max(scale[0], Math.max(scale[1], scale[2])) * this.radius;\n    return this;\n  }\n\n  // Computes the estimated distance squared from the closest point on a bounding sphere to a point.\n  distanceSquaredTo(point) {\n    point = scratchVector.from(point);\n    const delta = point.subtract(this.center);\n    return delta.lengthSquared() - this.radius * this.radius;\n  }\n\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n}\n","import {Vector3} from '@math.gl/core';\nimport {INTERSECTION} from '../constants';\n\nconst scratchVector = new Vector3();\nconst scratchNormal = new Vector3();\n\nexport default class AxisAlignedBoundingBox {\n  constructor(minimum = [0, 0, 0], maximum = [0, 0, 0], center = null) {\n    // If center was not defined, compute it.\n    center =\n      center ||\n      scratchVector\n        .copy(minimum)\n        .add(maximum)\n        .scale(0.5);\n    /**\n     * The center point of the bounding box.\n     * @type {Vector3}\n     */\n    this.center = new Vector3(center);\n    /**\n     * The positive half diagonal of the bounding box.\n     * @type {Vector3}\n     */\n    this.halfDiagonal = new Vector3(maximum).subtract(this.center);\n\n    /**\n     * The minimum point defining the bounding box.\n     * @type {Vector3}\n     * @default {@link 0, 0, 0}\n     */\n    this.minimum = new Vector3(minimum);\n\n    /**\n     * The maximum point defining the bounding box.\n     * @type {Vector3}\n     * @default {@link 0, 0, 0}\n     */\n    this.maximum = new Vector3(maximum);\n  }\n\n  /**\n   * Duplicates a AxisAlignedBoundingBox instance.\n   *\n   * @returns {AxisAlignedBoundingBox} A new AxisAlignedBoundingBox instance.\n   */\n  clone() {\n    return new AxisAlignedBoundingBox(this.minimum, this.maximum, this.center);\n  }\n\n  /**\n   * Compares the provided AxisAlignedBoundingBox componentwise and returns\n   * <code>true</code> if they are equal, <code>false</code> otherwise.\n   *\n   * @param {AxisAlignedBoundingBox} [right] The second AxisAlignedBoundingBox to compare with.\n   * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\n   */\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.minimum.equals(right.minimum) && this.maximum.equals(right.maximum))\n    );\n  }\n\n  /**\n   * Determines which side of a plane a box is located.\n   */\n  intersectPlane(plane) {\n    const {halfDiagonal} = this;\n    const normal = scratchNormal.from(plane.normal);\n    const e =\n      halfDiagonal.x * Math.abs(normal.x) +\n      halfDiagonal.y * Math.abs(normal.y) +\n      halfDiagonal.z * Math.abs(normal.z);\n    const s = this.center.dot(normal) + plane.distance; // signed distance from center\n\n    if (s - e > 0) {\n      return INTERSECTION.INSIDE;\n    }\n\n    if (s + e < 0) {\n      // Not in front because normals point inward\n      return INTERSECTION.OUTSIDE;\n    }\n\n    return INTERSECTION.INTERSECTING;\n  }\n\n  // Computes the estimated distance from the closest point on a bounding box to a point.\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n\n  // Computes the estimated distance squared from the closest point on a bounding box to a point.\n  // A simplified version of OrientedBoundingBox.distanceSquaredTo\n  distanceSquaredTo(point) {\n    const offset = scratchVector.from(point).subtract(this.center);\n    const {halfDiagonal} = this;\n\n    let distanceSquared = 0.0;\n    let d;\n\n    d = Math.abs(offset.x) - halfDiagonal.x;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.y) - halfDiagonal.y;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.z) - halfDiagonal.z;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    return distanceSquared;\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {mat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n;\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n* Calculates a 3x3 matrix from the given quaternion\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {quat} q Quaternion to create matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {mat4} a Mat4 to derive the normal matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {mat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {mat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Matrix from './base/matrix';\nimport {checkVector, deprecated} from '../lib/validators';\nimport {vec4_transformMat3} from '../lib/gl-matrix-extras';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as mat3 from 'gl-matrix/mat3';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\n\nconst IDENTITY = Object.freeze([1, 0, 0, 0, 1, 0, 0, 0, 1]);\nconst ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nconst INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL1ROW0: 3,\n  COL1ROW1: 4,\n  COL1ROW2: 5,\n  COL2ROW0: 6,\n  COL2ROW1: 7,\n  COL2ROW2: 8\n});\n\nconst constants = {};\n\nexport default class Matrix3 extends Matrix {\n  static get IDENTITY() {\n    constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix3(IDENTITY));\n    return constants.IDENTITY;\n  }\n\n  static get ZERO() {\n    constants.ZERO = constants.ZERO || Object.freeze(new Matrix3(ZERO));\n    return constants.ZERO;\n  }\n\n  get ELEMENTS() {\n    return 9;\n  }\n\n  get RANK() {\n    return 3;\n  }\n\n  get INDICES() {\n    return INDICES;\n  }\n\n  constructor(array) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0, -0, -0, -0, -0, -0);\n    if (arguments.length === 1 && Array.isArray(array)) {\n      this.copy(array);\n    } else {\n      this.identity();\n    }\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    this[4] = array[4];\n    this[5] = array[5];\n    this[6] = array[6];\n    this[7] = array[7];\n    this[8] = array[8];\n    return this.check();\n  }\n\n  // accepts column major order, stores in column major order\n  // eslint-disable-next-line max-params\n  set(m00, m10, m20, m01, m11, m21, m02, m12, m22) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m01;\n    this[4] = m11;\n    this[5] = m21;\n    this[6] = m02;\n    this[7] = m12;\n    this[8] = m22;\n    return this.check();\n  }\n\n  // accepts row major order, stores as column major\n  // eslint-disable-next-line max-params\n  setRowMajor(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m01;\n    this[4] = m11;\n    this[5] = m21;\n    this[6] = m02;\n    this[7] = m12;\n    this[8] = m22;\n    return this.check();\n  }\n\n  // Accessors\n\n  determinant() {\n    return mat3.determinant(this);\n  }\n\n  // Constructors\n\n  identity() {\n    return this.copy(IDENTITY);\n  }\n\n  // Calculates a 3x3 matrix from the given quaternion\n  // q quat  Quaternion to create matrix from\n  fromQuaternion(q) {\n    mat3.fromQuat(this, q);\n    return this.check();\n  }\n\n  // Modifiers\n\n  transpose() {\n    mat3.transpose(this, this);\n    return this.check();\n  }\n\n  invert() {\n    mat3.invert(this, this);\n    return this.check();\n  }\n\n  // Operations\n\n  multiplyLeft(a) {\n    mat3.multiply(this, a, this);\n    return this.check();\n  }\n\n  multiplyRight(a) {\n    mat3.multiply(this, this, a);\n    return this.check();\n  }\n\n  rotate(radians) {\n    mat3.rotate(this, this, radians);\n    return this.check();\n  }\n\n  scale(factor) {\n    if (Array.isArray(factor)) {\n      mat3.scale(this, this, factor);\n    } else {\n      mat3.scale(this, this, [factor, factor, factor]);\n    }\n\n    return this.check();\n  }\n\n  translate(vec) {\n    mat3.translate(this, this, vec);\n    return this.check();\n  }\n\n  // Transforms\n\n  transform(vector, result) {\n    switch (vector.length) {\n      case 2:\n        result = vec2.transformMat3(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3.transformMat3(result || [-0, -0, -0], vector, this);\n        break;\n      case 4:\n        result = vec4_transformMat3(result || [-0, -0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // DEPRECATED IN 3.0\n\n  transformVector(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n\n  transformVector2(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n\n  transformVector3(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n}\n","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {quat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {quat} a     Origin unit quaternion \r\n * @param  {quat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n * \r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {quat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {quat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat} a The first quaternion.\r\n * @param {quat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat} a The first vector.\r\n * @param {quat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} view  the vector representing the viewing direction\r\n * @param {vec3} right the vector representing the local \"right\" direction\r\n * @param {vec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, equals, assert} from '@math.gl/core';\n\nconst scratchPosition = new Vector3();\nconst scratchNormal = new Vector3();\n\n// A plane in Hessian Normal Form\nexport default class Plane {\n  constructor(normal = [0, 0, 1], distance = 0) {\n    this.normal = new Vector3();\n    this.distance = -0;\n    this.fromNormalDistance(normal, distance);\n  }\n\n  fromNormalDistance(normal, distance) {\n    assert(Number.isFinite(distance));\n    this.normal.from(normal).normalize();\n    this.distance = distance;\n    return this;\n  }\n\n  // Creates a plane from a normal and a point on the plane.\n  fromPointNormal(point, normal) {\n    point = scratchPosition.from(point);\n    this.normal.from(normal).normalize();\n    const distance = -this.normal.dot(point);\n    this.distance = distance;\n\n    return this;\n  }\n\n  // Creates a plane from the general equation\n  fromCoefficients(a, b, c, d) {\n    this.normal.set(a, b, c);\n    assert(equals(this.normal.len(), 1));\n    this.distance = d;\n    return this;\n  }\n\n  // Duplicates a Plane instance.\n  clone(plane) {\n    return new Plane(this.normal, this.distance);\n  }\n\n  // Compares the provided Planes by normal and distance\n  equals(right) {\n    return equals(this.distance, right.distance) && equals(this.normal, right.normal);\n  }\n\n  // Computes the signed shortest distance of a point to a plane.\n  // The sign of the distance determines which side of the plane the point is on.\n  getPointDistance(point) {\n    return this.normal.dot(point) + this.distance;\n  }\n\n  // Transforms the plane by the given transformation matrix.\n  transform(matrix4) {\n    const normal = scratchNormal\n      .copy(this.normal)\n      .transformAsVector(matrix4)\n      .normalize();\n    const point = this.normal.scale(-this.distance).transform(matrix4);\n    return this.fromPointNormal(point, normal);\n  }\n\n  // Projects a point onto the plane.\n  projectPointOntoPlane(point, result = [0, 0, 0]) {\n    point = scratchPosition.from(point);\n    // projectedPoint = point - (normal.point + scale) * normal\n    const pointDistance = this.getPointDistance(point);\n    const scaledNormal = scratchNormal.copy(this.normal).scale(pointDistance);\n\n    return point.subtract(scaledNormal).to(result);\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix3, Quaternion} from '@math.gl/core';\nimport BoundingSphere from './bounding-sphere';\nimport {INTERSECTION} from '../constants';\n\nconst scratchVector = new Vector3();\nconst scratchOffset = new Vector3();\nconst scratchVectorU = new Vector3();\nconst scratchVectorV = new Vector3();\nconst scratchVectorW = new Vector3();\nconst scratchCorner = new Vector3();\nconst scratchToCenter = new Vector3();\n\nconst fromOrientedBoundingBoxScratchU = new Vector3();\nconst fromOrientedBoundingBoxScratchV = new Vector3();\nconst fromOrientedBoundingBoxScratchW = new Vector3();\n\nconst MATRIX3 = {\n  COLUMN0ROW0: 0,\n  COLUMN0ROW1: 1,\n  COLUMN0ROW2: 2,\n  COLUMN1ROW0: 3,\n  COLUMN1ROW1: 4,\n  COLUMN1ROW2: 5,\n  COLUMN2ROW0: 6,\n  COLUMN2ROW1: 7,\n  COLUMN2ROW2: 8\n};\n\nexport default class OrientedBoundingBox {\n  constructor(center = [0, 0, 0], halfAxes = [0, 0, 0, 0, 0, 0, 0, 0, 0]) {\n    this.center = new Vector3().from(center);\n    this.halfAxes = new Matrix3(halfAxes);\n  }\n\n  get halfSize() {\n    const xAxis = this.halfAxes.getColumn(0);\n    const yAxis = this.halfAxes.getColumn(1);\n    const zAxis = this.halfAxes.getColumn(2);\n    return [new Vector3(xAxis).len(), new Vector3(yAxis).len(), new Vector3(zAxis).len()];\n  }\n\n  get quaternion() {\n    const xAxis = this.halfAxes.getColumn(0);\n    const yAxis = this.halfAxes.getColumn(1);\n    const zAxis = this.halfAxes.getColumn(2);\n    const normXAxis = new Vector3(xAxis).normalize();\n    const normYAxis = new Vector3(yAxis).normalize();\n    const normZAxis = new Vector3(zAxis).normalize();\n    return new Quaternion().fromMatrix3(new Matrix3([...normXAxis, ...normYAxis, ...normZAxis]));\n  }\n\n  // Generate OrientedBoundingBox from OBB based on quaternion\n  fromCenterHalfSizeQuaternion(center, halfSize, quaternion) {\n    const quaternionObject = new Quaternion(quaternion);\n    const directionsMatrix = new Matrix3().fromQuaternion(quaternionObject);\n    directionsMatrix[0] = directionsMatrix[0] * halfSize[0];\n    directionsMatrix[1] = directionsMatrix[1] * halfSize[0];\n    directionsMatrix[2] = directionsMatrix[2] * halfSize[0];\n    directionsMatrix[3] = directionsMatrix[3] * halfSize[1];\n    directionsMatrix[4] = directionsMatrix[4] * halfSize[1];\n    directionsMatrix[5] = directionsMatrix[5] * halfSize[1];\n    directionsMatrix[6] = directionsMatrix[6] * halfSize[2];\n    directionsMatrix[7] = directionsMatrix[7] * halfSize[2];\n    directionsMatrix[8] = directionsMatrix[8] * halfSize[2];\n    this.center = new Vector3().from(center);\n    this.halfAxes = directionsMatrix;\n    return this;\n  }\n\n  // Duplicates a OrientedBoundingBox instance.\n  clone() {\n    return new OrientedBoundingBox(this.center, this.halfAxes);\n  }\n\n  // Compares the provided OrientedBoundingBox componentwise and returns\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.center.equals(right.center) && this.halfAxes.equals(right.halfAxes))\n    );\n  }\n\n  // Computes a tight-fitting bounding sphere enclosing the provided oriented bounding box.\n  getBoundingSphere(result = new BoundingSphere()) {\n    const halfAxes = this.halfAxes;\n    const u = halfAxes.getColumn(0, fromOrientedBoundingBoxScratchU);\n    const v = halfAxes.getColumn(1, fromOrientedBoundingBoxScratchV);\n    const w = halfAxes.getColumn(2, fromOrientedBoundingBoxScratchW);\n\n    // Calculate \"corner\" vector\n    const cornerVector = scratchVector\n      .copy(u)\n      .add(v)\n      .add(w);\n\n    result.center.copy(this.center);\n    result.radius = cornerVector.magnitude();\n\n    return result;\n  }\n\n  /**\n   * Determines which side of a plane the oriented bounding box is located.\n   *\n   * @param plane The plane to test against.\n   * @returns\n   *  - `INTERSECTION.INSIDE` if the entire box is on the side of the plane the normal is pointing.\n   *  - `INTERSECTION.OUTSIDE` if the entire box is on the opposite side.\n   *  - `INTERSECTION.INTERSECTING` if the box intersects the plane.\n   */\n  intersectPlane(plane) {\n    const center = this.center;\n    const normal = plane.normal;\n    const halfAxes = this.halfAxes;\n\n    const normalX = normal.x;\n    const normalY = normal.y;\n    const normalZ = normal.z;\n\n    // Plane is used as if it is its normal; the first three components are assumed to be normalized\n    const radEffective =\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN0ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN0ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN0ROW2]\n      ) +\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN1ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN1ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN1ROW2]\n      ) +\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN2ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN2ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN2ROW2]\n      );\n    const distanceToPlane = normal.dot(center) + plane.distance;\n\n    if (distanceToPlane <= -radEffective) {\n      // The entire box is on the negative side of the plane normal\n      return INTERSECTION.OUTSIDE;\n    } else if (distanceToPlane >= radEffective) {\n      // The entire box is on the positive side of the plane normal\n      return INTERSECTION.INSIDE;\n    }\n    return INTERSECTION.INTERSECTING;\n  }\n\n  // Computes the estimated distance from the closest point on a bounding box to a point.\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n\n  // Computes the estimated distance squared from the closest point on a bounding box to a point.\n  // See Geometric Tools for Computer Graphics 10.4.2\n\n  // eslint-disable-next-line max-statements\n  distanceSquaredTo(point) {\n    const offset = scratchOffset.from(point).subtract(this.center);\n\n    const halfAxes = this.halfAxes;\n    const u = halfAxes.getColumn(0, scratchVectorU);\n    const v = halfAxes.getColumn(1, scratchVectorV);\n    const w = halfAxes.getColumn(2, scratchVectorW);\n\n    const uHalf = u.magnitude();\n    const vHalf = v.magnitude();\n    const wHalf = w.magnitude();\n\n    u.normalize();\n    v.normalize();\n    w.normalize();\n\n    let distanceSquared = 0.0;\n    let d;\n\n    d = Math.abs(offset.dot(u)) - uHalf;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.dot(v)) - vHalf;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.dot(w)) - wHalf;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    return distanceSquared;\n  }\n\n  // The distances calculated by the vector from the center of the bounding box\n  // to position projected onto direction.\n\n  // eslint-disable-next-line max-statements\n  computePlaneDistances(position, direction, result = [-0, -0]) {\n    let minDist = Number.POSITIVE_INFINITY;\n    let maxDist = Number.NEGATIVE_INFINITY;\n\n    const center = this.center;\n    const halfAxes = this.halfAxes;\n\n    const u = halfAxes.getColumn(0, scratchVectorU);\n    const v = halfAxes.getColumn(1, scratchVectorV);\n    const w = halfAxes.getColumn(2, scratchVectorW);\n\n    // project first corner\n    const corner = scratchCorner\n      .copy(u)\n      .add(v)\n      .add(w)\n      .add(center);\n\n    const toCenter = scratchToCenter.copy(corner).subtract(position);\n    let mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project second corner\n    corner\n      .copy(center)\n      .add(u)\n      .add(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project third corner\n    corner\n      .copy(center)\n      .add(u)\n      .subtract(v)\n      .add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project fourth corner\n    corner\n      .copy(center)\n      .add(u)\n      .subtract(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project fifth corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .add(v)\n      .add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project sixth corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .add(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project seventh corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .subtract(v)\n      .add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project eighth corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .subtract(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    result[0] = minDist;\n    result[1] = maxDist;\n    return result;\n  }\n\n  getTransform() {\n    // const modelMatrix = Matrix4.fromRotationTranslation(this.boundingVolume.halfAxes, this.boundingVolume.center);\n    // return modelMatrix;\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Vector4, assert} from '@math.gl/core';\nimport {INTERSECTION} from '../constants';\nimport Plane from './plane';\n\n// X, Y, Z Unit vectors\nconst faces = [new Vector3([1, 0, 0]), new Vector3([0, 1, 0]), new Vector3([0, 0, 1])];\n\nconst scratchPlaneCenter = new Vector3();\nconst scratchPlaneNormal = new Vector3();\nconst scratchPlane = new Plane(new Vector3(1.0, 0.0, 0.0), 0.0);\n\n// A culling volume defined by planes.\nexport default class CullingVolume {\n  // For plane masks (as used in {@link CullingVolume#computeVisibilityWithPlaneMask}), this special value\n  // represents the case where the object bounding volume is entirely outside the culling volume.\n  static get MASK_OUTSIDE() {\n    return 0xffffffff;\n  }\n\n  // For plane masks (as used in {@link CullingVolume.prototype.computeVisibilityWithPlaneMask}), this value\n  // represents the case where the object bounding volume is entirely inside the culling volume.\n  static get MASK_INSIDE() {\n    return 0x00000000;\n  }\n\n  // For plane masks (as used in {@link CullingVolume.prototype.computeVisibilityWithPlaneMask}), this value\n  // represents the case where the object bounding volume (may) intersect all planes of the culling volume.\n  static get MASK_INDETERMINATE() {\n    return 0x7fffffff;\n  }\n\n  constructor(planes = []) {\n    // {Cartesian4[]} [planes] An array of clipping planes.\n    this.planes = planes;\n    assert(this.planes.every(plane => plane instanceof Plane));\n  }\n\n  // Constructs a culling volume from a bounding sphere. Creates six planes that create a box containing the sphere.\n  // The planes are aligned to the x, y, and z axes in world coordinates.\n  fromBoundingSphere(boundingSphere) {\n    this.planes.length = 2 * faces.length;\n\n    const center = boundingSphere.center;\n    const radius = boundingSphere.radius;\n\n    let planeIndex = 0;\n\n    for (const faceNormal of faces) {\n      let plane0 = this.planes[planeIndex];\n      let plane1 = this.planes[planeIndex + 1];\n\n      if (!plane0) {\n        plane0 = this.planes[planeIndex] = new Plane();\n      }\n      if (!plane1) {\n        plane1 = this.planes[planeIndex + 1] = new Plane();\n      }\n\n      const plane0Center = scratchPlaneCenter\n        .copy(faceNormal)\n        .scale(-radius)\n        .add(center);\n      const plane0Distance = -faceNormal.dot(plane0Center);\n\n      plane0.fromPointNormal(plane0Center, faceNormal);\n\n      const plane1Center = scratchPlaneCenter\n        .copy(faceNormal)\n        .scale(radius)\n        .add(center);\n\n      const negatedFaceNormal = scratchPlaneNormal.copy(faceNormal).negate();\n\n      const plane1Distance = -negatedFaceNormal.dot(plane1Center);\n\n      plane1.fromPointNormal(plane1Center, negatedFaceNormal);\n\n      planeIndex += 2;\n    }\n\n    return this;\n  }\n\n  // Determines whether a bounding volume intersects the culling volume.\n  computeVisibility(boundingVolume) {\n    assert(boundingVolume);\n    // const planes = this.planes;\n    let intersect = INTERSECTION.INSIDE;\n    for (const plane of this.planes) {\n      const result = boundingVolume.intersectPlane(plane);\n      switch (result) {\n        case INTERSECTION.OUTSIDE:\n          // We are done\n          return INTERSECTION.OUTSIDE;\n\n        case INTERSECTION.INTERSECTING:\n          // If no other intersection is outside, return INTERSECTING\n          intersect = INTERSECTION.INTERSECTING;\n          break;\n\n        default:\n      }\n    }\n\n    return intersect;\n  }\n\n  // Determines whether a bounding volume intersects the culling volume.\n  /*\n   * @param {Number} parentPlaneMask A bit mask from the boundingVolume's parent's check against the same culling\n   *                                 volume, such that if (planeMask & (1 << planeIndex) === 0), for k < 31, then\n   *                                 the parent (and therefore this) volume is completely inside plane[planeIndex]\n   *                                 and that plane check can be skipped.\n   */\n  computeVisibilityWithPlaneMask(boundingVolume, parentPlaneMask) {\n    assert(boundingVolume, 'boundingVolume is required.');\n    assert(Number.isFinite(parentPlaneMask), 'parentPlaneMask is required.');\n\n    if (\n      parentPlaneMask === CullingVolume.MASK_OUTSIDE ||\n      parentPlaneMask === CullingVolume.MASK_INSIDE\n    ) {\n      // parent is completely outside or completely inside, so this child is as well.\n      return parentPlaneMask;\n    }\n\n    // Start with MASK_INSIDE (all zeros) so that after the loop, the return value can be compared with MASK_INSIDE.\n    // (Because if there are fewer than 31 planes, the upper bits wont be changed.)\n    let mask = CullingVolume.MASK_INSIDE;\n\n    const planes = this.planes;\n    for (let k = 0; k < this.planes.length; ++k) {\n      // For k greater than 31 (since 31 is the maximum number of INSIDE/INTERSECTING bits we can store), skip the optimization.\n      const flag = k < 31 ? 1 << k : 0;\n      if (k < 31 && (parentPlaneMask & flag) === 0) {\n        // boundingVolume is known to be INSIDE this plane.\n        continue;\n      }\n\n      const plane = planes[k];\n      const result = boundingVolume.intersectPlane(plane);\n      if (result === INTERSECTION.OUTSIDE) {\n        return CullingVolume.MASK_OUTSIDE;\n      } else if (result === INTERSECTION.INTERSECTING) {\n        mask |= flag;\n      }\n    }\n\n    return mask;\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// Note: This class is still an experimental export, mainly used by other test cases\n// - It has not been fully adapted to math.gl conventions\n// - Documentation has not been ported\n\n// @ts-nocheck\n\nimport {Vector3, Matrix4, assert} from '@math.gl/core';\nimport CullingVolume from './culling-volume';\nimport Plane from './plane';\n\nconst scratchPlaneUpVector = new Vector3();\nconst scratchPlaneRightVector = new Vector3();\nconst scratchPlaneNearCenter = new Vector3();\nconst scratchPlaneFarCenter = new Vector3();\nconst scratchPlaneNormal = new Vector3();\n\nexport default class PerspectiveOffCenterFrustum {\n  /**\n   * The viewing frustum is defined by 6 planes.\n   * Each plane is represented by a {@link Vector4} object, where the x, y, and z components\n   * define the unit vector normal to the plane, and the w component is the distance of the\n   * plane from the origin/camera position.\n   *\n   * @alias PerspectiveOffCenterFrustum\n   * @constructor\n   *\n   * @param {Object} [options] An object with the following properties:\n   * @param {Number} [options.left] The left clipping plane distance.\n   * @param {Number} [options.right] The right clipping plane distance.\n   * @param {Number} [options.top] The top clipping plane distance.\n   * @param {Number} [options.bottom] The bottom clipping plane distance.\n   * @param {Number} [options.near=1.0] The near clipping plane distance.\n   * @param {Number} [options.far=500000000.0] The far clipping plane distance.\n   *\n   * @example\n   * const frustum = new PerspectiveOffCenterFrustum({\n   *     left : -1.0,\n   *     right : 1.0,\n   *     top : 1.0,\n   *     bottom : -1.0,\n   *     near : 1.0,\n   *     far : 100.0\n   * });\n   *\n   * @see PerspectiveFrustum\n   */\n  constructor(options = {}) {\n    options = {near: 1.0, far: 500000000.0, ...options};\n\n    /**\n     * Defines the left clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.left = options.left;\n    this._left = undefined;\n\n    /**\n     * Defines the right clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.right = options.right;\n    this._right = undefined;\n\n    /**\n     * Defines the top clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.top = options.top;\n    this._top = undefined;\n\n    /**\n     * Defines the bottom clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.bottom = options.bottom;\n    this._bottom = undefined;\n\n    /**\n     * The distance of the near plane.\n     * @type {Number}\n     * @default 1.0\n     */\n    this.near = options.near;\n    this._near = this.near;\n\n    /**\n     * The distance of the far plane.\n     * @type {Number}\n     * @default 500000000.0\n     */\n    this.far = options.far;\n    this._far = this.far;\n\n    this._cullingVolume = new CullingVolume([\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane()\n    ]);\n    this._perspectiveMatrix = new Matrix4();\n    this._infinitePerspective = new Matrix4();\n  }\n\n  /**\n   * Returns a duplicate of a PerspectiveOffCenterFrustum instance.\n   * @returns {PerspectiveOffCenterFrustum} A new PerspectiveFrustum instance.\n   * */\n  clone() {\n    return new PerspectiveOffCenterFrustum({\n      right: this.right,\n      left: this.left,\n      top: this.top,\n      bottom: this.bottom,\n      near: this.near,\n      far: this.far\n    });\n  }\n\n  /**\n   * Compares the provided PerspectiveOffCenterFrustum componentwise and returns\n   * <code>true</code> if they are equal, <code>false</code> otherwise.\n   *\n   * @param {PerspectiveOffCenterFrustum} [other] The right hand side PerspectiveOffCenterFrustum.\n   * @returns {Boolean} <code>true</code> if they are equal, <code>false</code> otherwise.\n   */\n  equals(other) {\n    return (\n      other &&\n      other instanceof PerspectiveOffCenterFrustum &&\n      this.right === other.right &&\n      this.left === other.left &&\n      this.top === other.top &&\n      this.bottom === other.bottom &&\n      this.near === other.near &&\n      this.far === other.far\n    );\n  }\n\n  /**\n   * Gets the perspective projection matrix computed from the view frustum.\n   * @memberof PerspectiveOffCenterFrustum.prototype\n   * @type {Matrix4}\n   * @readonly\n   *\n   * @see PerspectiveOffCenterFrustum#infiniteProjectionMatrix\n   */\n  get projectionMatrix() {\n    update(this);\n    return this._perspectiveMatrix;\n  }\n\n  /**\n   * Gets the perspective projection matrix computed from the view frustum with an infinite far plane.\n   * @memberof PerspectiveOffCenterFrustum.prototype\n   * @type {Matrix4}\n   * @readonly\n   *\n   * @see PerspectiveOffCenterFrustum#projectionMatrix\n   */\n  get infiniteProjectionMatrix() {\n    update(this);\n    return this._infinitePerspective;\n  }\n\n  /**\n   * Creates a culling volume for this frustum.\n   *\n   * @param {Vector3} position The eye position.\n   * @param {Vector3} direction The view direction.\n   * @param {Vector3} up The up direction.\n   * @returns {CullingVolume} A culling volume at the given position and orientation.\n   *\n   * @example\n   * // Check if a bounding volume intersects the frustum.\n   * const cullingVolume = frustum.computeCullingVolume(cameraPosition, cameraDirection, cameraUp);\n   * const intersect = cullingVolume.computeVisibility(boundingVolume);\n   */\n  // eslint-disable-next-line complexity, max-statements\n  computeCullingVolume(position, direction, up) {\n    assert(position, 'position is required.');\n    assert(direction, 'direction is required.');\n    assert(up, 'up is required.');\n\n    const planes = this._cullingVolume.planes;\n\n    up = scratchPlaneUpVector.copy(up).normalize();\n    const right = scratchPlaneRightVector\n      .copy(direction)\n      .cross(up)\n      .normalize();\n\n    const nearCenter = scratchPlaneNearCenter\n      .copy(direction)\n      .multiplyByScalar(this.near)\n      .add(position);\n\n    const farCenter = scratchPlaneFarCenter\n      .copy(direction)\n      .multiplyByScalar(this.far)\n      .add(position);\n\n    let normal = scratchPlaneNormal;\n\n    // Left plane computation\n    normal\n      .copy(right)\n      .multiplyByScalar(this.left)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(up);\n\n    planes[0].fromPointNormal(position, normal);\n\n    // Right plane computation\n    normal\n      .copy(right)\n      .multiplyByScalar(this.right)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(up)\n      .negate();\n\n    planes[1].fromPointNormal(position, normal);\n\n    // Bottom plane computation\n    normal\n      .copy(up)\n      .multiplyByScalar(this.bottom)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(right)\n      .negate();\n\n    planes[2].fromPointNormal(position, normal);\n\n    // Top plane computation\n    normal\n      .copy(up)\n      .multiplyByScalar(this.top)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(right);\n\n    planes[3].fromPointNormal(position, normal);\n\n    normal = new Vector3().copy(direction);\n\n    // Near plane computation\n    planes[4].fromPointNormal(nearCenter, normal);\n\n    // Far plane computation\n    normal.negate();\n\n    planes[5].fromPointNormal(farCenter, normal);\n\n    return this._cullingVolume;\n  }\n\n  /**\n   * Returns the pixel's width and height in meters.\n   *\n   * @param {Number} drawingBufferWidth The width of the drawing buffer.\n   * @param {Number} drawingBufferHeight The height of the drawing buffer.\n   * @param {Number} distance The distance to the near plane in meters.\n   * @param {Vector2} result The object onto which to store the result.\n   * @returns {Vector2} The modified result parameter or a new instance of {@link Vector2} with the pixel's width and height in the x and y properties, respectively.\n   *\n   * @exception {DeveloperError} drawingBufferWidth must be greater than zero.\n   * @exception {DeveloperError} drawingBufferHeight must be greater than zero.\n   *\n   * @example\n   * // Example 1\n   * // Get the width and height of a pixel.\n   * const pixelSize = camera.frustum.getPixelDimensions(scene.drawingBufferWidth, scene.drawingBufferHeight, 1.0, new Vector2());\n   *\n   * @example\n   * // Example 2\n   * // Get the width and height of a pixel if the near plane was set to 'distance'.\n   * // For example, get the size of a pixel of an image on a billboard.\n   * const position = camera.position;\n   * const direction = camera.direction;\n   * const toCenter = Vector3.subtract(primitive.boundingVolume.center, position, new Vector3());      // vector from camera to a primitive\n   * const toCenterProj = Vector3.multiplyByScalar(direction, Vector3.dot(direction, toCenter), new Vector3()); // project vector onto camera direction vector\n   * const distance = Vector3.magnitude(toCenterProj);\n   * const pixelSize = camera.frustum.getPixelDimensions(scene.drawingBufferWidth, scene.drawingBufferHeight, distance, new Vector2());\n   */\n  getPixelDimensions(drawingBufferWidth, drawingBufferHeight, distance, result) {\n    update(this);\n\n    assert(Number.isFinite(drawingBufferWidth) && Number.isFinite(drawingBufferHeight));\n    // 'Both drawingBufferWidth and drawingBufferHeight are required.'\n    assert(drawingBufferWidth > 0);\n    // 'drawingBufferWidth must be greater than zero.'\n    assert(drawingBufferHeight > 0);\n    // 'drawingBufferHeight must be greater than zero.'\n    assert(distance > 0);\n    // 'distance is required.');\n    assert(result);\n    // 'A result object is required.');\n\n    const inverseNear = 1.0 / this.near;\n    let tanTheta = this.top * inverseNear;\n    const pixelHeight = (2.0 * distance * tanTheta) / drawingBufferHeight;\n    tanTheta = this.right * inverseNear;\n    const pixelWidth = (2.0 * distance * tanTheta) / drawingBufferWidth;\n\n    result.x = pixelWidth;\n    result.y = pixelHeight;\n    return result;\n  }\n}\n\n// eslint-disable-next-line complexity, max-statements\nfunction update(frustum) {\n  assert(\n    Number.isFinite(frustum.right) &&\n      Number.isFinite(frustum.left) &&\n      Number.isFinite(frustum.top) &&\n      Number.isFinite(frustum.bottom) &&\n      Number.isFinite(frustum.near) &&\n      Number.isFinite(frustum.far)\n  );\n  // throw new DeveloperError('right, left, top, bottom, near, or far parameters are not set.');\n\n  const {top, bottom, right, left, near, far} = frustum;\n\n  if (\n    top !== frustum._top ||\n    bottom !== frustum._bottom ||\n    left !== frustum._left ||\n    right !== frustum._right ||\n    near !== frustum._near ||\n    far !== frustum._far\n  ) {\n    assert(\n      frustum.near > 0 && frustum.near < frustum.far,\n      'near must be greater than zero and less than far.'\n    );\n\n    frustum._left = left;\n    frustum._right = right;\n    frustum._top = top;\n    frustum._bottom = bottom;\n    frustum._near = near;\n    frustum._far = far;\n    frustum._perspectiveMatrix = new Matrix4().frustum({\n      left,\n      right,\n      bottom,\n      top,\n      near,\n      far\n    });\n    frustum._infinitePerspective = new Matrix4().frustum({\n      left,\n      right,\n      bottom,\n      top,\n      near,\n      far: Infinity\n    });\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3} from '@math.gl/core';\nimport BoundingSphere from '../lib/bounding-sphere';\n\n/* eslint-disable */\nconst fromPointsXMin = new Vector3();\nconst fromPointsYMin = new Vector3();\nconst fromPointsZMin = new Vector3();\nconst fromPointsXMax = new Vector3();\nconst fromPointsYMax = new Vector3();\nconst fromPointsZMax = new Vector3();\nconst fromPointsCurrentPos = new Vector3();\nconst fromPointsScratch = new Vector3();\nconst fromPointsRitterCenter = new Vector3();\nconst fromPointsMinBoxPt = new Vector3();\nconst fromPointsMaxBoxPt = new Vector3();\nconst fromPointsNaiveCenterScratch = new Vector3();\nconst volumeConstant = (4.0 / 3.0) * Math.PI;\n\nexport default function makeBoundingSphereFromPoints(positions, result = new BoundingSphere()) {\n  if (!positions || positions.length === 0) {\n    return result.fromCenterRadius([0, 0, 0], 0);\n  }\n\n  const currentPos = fromPointsCurrentPos.copy(positions[0]);\n\n  const xMin = fromPointsXMin.copy(currentPos);\n  const yMin = fromPointsYMin.copy(currentPos);\n  const zMin = fromPointsZMin.copy(currentPos);\n\n  const xMax = fromPointsXMax.copy(currentPos);\n  const yMax = fromPointsYMax.copy(currentPos);\n  const zMax = fromPointsZMax.copy(currentPos);\n\n  for (const position of positions) {\n    currentPos.copy(position);\n\n    const x = currentPos.x;\n    const y = currentPos.y;\n    const z = currentPos.z;\n\n    // Store points containing the the smallest and largest components\n    if (x < xMin.x) {\n      currentPos.copy(xMin);\n    }\n\n    if (x > xMax.x) {\n      currentPos.copy(xMax);\n    }\n\n    if (y < yMin.y) {\n      currentPos.copy(yMin);\n    }\n\n    if (y > yMax.y) {\n      currentPos.copy(yMax);\n    }\n\n    if (z < zMin.z) {\n      currentPos.copy(zMin);\n    }\n\n    if (z > zMax.z) {\n      currentPos.copy(zMax);\n    }\n  }\n\n  // Compute x-, y-, and z-spans (Squared distances b/n each component's min. and max.).\n  const xSpan = fromPointsScratch\n    .copy(xMax)\n    .subtract(xMin)\n    .magnitudeSquared();\n  const ySpan = fromPointsScratch\n    .copy(yMax)\n    .subtract(yMin)\n    .magnitudeSquared();\n  const zSpan = fromPointsScratch\n    .copy(zMax)\n    .subtract(zMin)\n    .magnitudeSquared();\n\n  // Set the diameter endpoints to the largest span.\n  let diameter1 = xMin;\n  let diameter2 = xMax;\n  let maxSpan = xSpan;\n  if (ySpan > maxSpan) {\n    maxSpan = ySpan;\n    diameter1 = yMin;\n    diameter2 = yMax;\n  }\n  if (zSpan > maxSpan) {\n    maxSpan = zSpan;\n    diameter1 = zMin;\n    diameter2 = zMax;\n  }\n\n  // Calculate the center of the initial sphere found by Ritter's algorithm\n  const ritterCenter = fromPointsRitterCenter;\n  ritterCenter.x = (diameter1.x + diameter2.x) * 0.5;\n  ritterCenter.y = (diameter1.y + diameter2.y) * 0.5;\n  ritterCenter.z = (diameter1.z + diameter2.z) * 0.5;\n\n  // Calculate the radius of the initial sphere found by Ritter's algorithm\n  let radiusSquared = fromPointsScratch\n    .copy(diameter2)\n    .subtract(ritterCenter)\n    .magnitudeSquared();\n  let ritterRadius = Math.sqrt(radiusSquared);\n\n  // Find the center of the sphere found using the Naive method.\n  const minBoxPt = fromPointsMinBoxPt;\n  minBoxPt.x = xMin.x;\n  minBoxPt.y = yMin.y;\n  minBoxPt.z = zMin.z;\n\n  const maxBoxPt = fromPointsMaxBoxPt;\n  maxBoxPt.x = xMax.x;\n  maxBoxPt.y = yMax.y;\n  maxBoxPt.z = zMax.z;\n\n  const naiveCenter = fromPointsNaiveCenterScratch\n    .copy(minBoxPt)\n    .add(maxBoxPt)\n    .multiplyByScalar(0.5);\n\n  // Begin 2nd pass to find naive radius and modify the ritter sphere.\n  let naiveRadius = 0;\n  for (const position of positions) {\n    currentPos.copy(position);\n\n    // Find the furthest point from the naive center to calculate the naive radius.\n    const r = fromPointsScratch\n      .copy(currentPos)\n      .subtract(naiveCenter)\n      .magnitude();\n    if (r > naiveRadius) {\n      naiveRadius = r;\n    }\n\n    // Make adjustments to the Ritter Sphere to include all points.\n    const oldCenterToPointSquared = fromPointsScratch\n      .copy(currentPos)\n      .subtract(ritterCenter)\n      .magnitudeSquared();\n\n    if (oldCenterToPointSquared > radiusSquared) {\n      const oldCenterToPoint = Math.sqrt(oldCenterToPointSquared);\n      // Calculate new radius to include the point that lies outside\n      ritterRadius = (ritterRadius + oldCenterToPoint) * 0.5;\n      radiusSquared = ritterRadius * ritterRadius;\n      // Calculate center of new Ritter sphere\n      const oldToNew = oldCenterToPoint - ritterRadius;\n      ritterCenter.x = (ritterRadius * ritterCenter.x + oldToNew * currentPos.x) / oldCenterToPoint;\n      ritterCenter.y = (ritterRadius * ritterCenter.y + oldToNew * currentPos.y) / oldCenterToPoint;\n      ritterCenter.z = (ritterRadius * ritterCenter.z + oldToNew * currentPos.z) / oldCenterToPoint;\n    }\n  }\n\n  if (ritterRadius < naiveRadius) {\n    ritterCenter.to(result.center);\n    // @ts-ignore TS2540: Cannot assign to 'radius' because it is a read-only property.\n    result.radius = ritterRadius;\n  } else {\n    naiveCenter.to(result.center);\n    // @ts-ignore TS2540: Cannot assign to 'radius' because it is a read-only property.\n    result.radius = naiveRadius;\n  }\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Matrix3, _MathUtils} from '@math.gl/core';\n\nconst scratchMatrix = new Matrix3();\nconst scratchUnitary = new Matrix3();\nconst scratchDiagonal = new Matrix3();\n\nconst jMatrix = new Matrix3();\nconst jMatrixTranspose = new Matrix3();\n\nexport default function computeEigenDecomposition(matrix, result = {}) {\n  const EIGEN_TOLERANCE = _MathUtils.EPSILON20;\n  const EIGEN_MAX_SWEEPS = 10;\n\n  let count = 0;\n  let sweep = 0;\n\n  const unitaryMatrix = scratchUnitary;\n  const diagonalMatrix = scratchDiagonal;\n\n  unitaryMatrix.identity();\n  diagonalMatrix.copy(matrix);\n\n  const epsilon = EIGEN_TOLERANCE * computeFrobeniusNorm(diagonalMatrix);\n\n  while (sweep < EIGEN_MAX_SWEEPS && offDiagonalFrobeniusNorm(diagonalMatrix) > epsilon) {\n    shurDecomposition(diagonalMatrix, jMatrix);\n\n    jMatrixTranspose.copy(jMatrix).transpose();\n\n    diagonalMatrix.multiplyRight(jMatrix);\n    diagonalMatrix.multiplyLeft(jMatrixTranspose);\n    unitaryMatrix.multiplyRight(jMatrix);\n\n    if (++count > 2) {\n      ++sweep;\n      count = 0;\n    }\n  }\n\n  result.unitary = unitaryMatrix.toTarget(result.unitary);\n  result.diagonal = diagonalMatrix.toTarget(result.diagonal);\n\n  return result;\n}\n\nfunction computeFrobeniusNorm(matrix) {\n  let norm = 0.0;\n  for (let i = 0; i < 9; ++i) {\n    const temp = matrix[i];\n    norm += temp * temp;\n  }\n  return Math.sqrt(norm);\n}\n\nconst rowVal = [1, 0, 0];\nconst colVal = [2, 2, 1];\n\n// Computes the \"off-diagonal\" Frobenius norm.\n// Assumes matrix is symmetric.\nfunction offDiagonalFrobeniusNorm(matrix) {\n  let norm = 0.0;\n  for (let i = 0; i < 3; ++i) {\n    const temp = matrix[scratchMatrix.getElementIndex(colVal[i], rowVal[i])];\n    norm += 2.0 * temp * temp;\n  }\n  return Math.sqrt(norm);\n}\n\n// The routine takes a matrix, which is assumed to be symmetric, and\n// finds the largest off-diagonal term, and then creates\n// a matrix (result) which can be used to help reduce it\n//\n// This routine was created based upon Matrix Computations, 3rd ed., by Golub and Van Loan,\n// section 8.4.2 The 2by2 Symmetric Schur Decomposition.\n//\n// eslint-disable-next-line max-statements\nfunction shurDecomposition(matrix, result) {\n  const tolerance = _MathUtils.EPSILON15;\n\n  let maxDiagonal = 0.0;\n  let rotAxis = 1;\n\n  // find pivot (rotAxis) based on max diagonal of matrix\n  for (let i = 0; i < 3; ++i) {\n    const temp = Math.abs(matrix[scratchMatrix.getElementIndex(colVal[i], rowVal[i])]);\n    if (temp > maxDiagonal) {\n      rotAxis = i;\n      maxDiagonal = temp;\n    }\n  }\n\n  const p = rowVal[rotAxis];\n  const q = colVal[rotAxis];\n\n  let c = 1.0;\n  let s = 0.0;\n\n  if (Math.abs(matrix[scratchMatrix.getElementIndex(q, p)]) > tolerance) {\n    const qq = matrix[scratchMatrix.getElementIndex(q, q)];\n    const pp = matrix[scratchMatrix.getElementIndex(p, p)];\n    const qp = matrix[scratchMatrix.getElementIndex(q, p)];\n\n    const tau = (qq - pp) / 2.0 / qp;\n    let t;\n\n    if (tau < 0.0) {\n      t = -1.0 / (-tau + Math.sqrt(1.0 + tau * tau));\n    } else {\n      t = 1.0 / (tau + Math.sqrt(1.0 + tau * tau));\n    }\n\n    c = 1.0 / Math.sqrt(1.0 + t * t);\n    s = t * c;\n  }\n\n  // Copy into result\n  Matrix3.IDENTITY.to(result);\n  result[scratchMatrix.getElementIndex(p, p)] = result[scratchMatrix.getElementIndex(q, q)] = c;\n  result[scratchMatrix.getElementIndex(q, p)] = s;\n  result[scratchMatrix.getElementIndex(p, q)] = -s;\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix3} from '@math.gl/core';\nimport computeEigenDecomposition from './compute-eigen-decomposition';\nimport OrientedBoundingBox from '../lib/oriented-bounding-box';\nimport AxisAlignedBoundingBox from '../lib/axis-aligned-bounding-box';\n\nconst scratchVector2 = new Vector3();\n\nconst scratchVector3 = new Vector3();\n\nconst scratchVector4 = new Vector3();\n\nconst scratchVector5 = new Vector3();\n\nconst scratchVector6 = new Vector3();\n\nconst scratchCovarianceResult = new Matrix3();\n\nconst scratchEigenResult = {\n  diagonal: new Matrix3(),\n  unitary: new Matrix3()\n};\n\n/* eslint-disable max-statements */\nexport function makeOrientedBoundingBoxFromPoints(positions, result = new OrientedBoundingBox()) {\n  if (!positions || positions.length === 0) {\n    result.halfAxes = new Matrix3([0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    result.center = new Vector3();\n    return result;\n  }\n\n  const length = positions.length;\n  const meanPoint = new Vector3(0, 0, 0);\n  for (const position of positions) {\n    meanPoint.add(position);\n  }\n  const invLength = 1.0 / length;\n  meanPoint.multiplyByScalar(invLength);\n\n  let exx = 0.0;\n  let exy = 0.0;\n  let exz = 0.0;\n  let eyy = 0.0;\n  let eyz = 0.0;\n  let ezz = 0.0;\n\n  for (const position of positions) {\n    const p = scratchVector2.copy(position).subtract(meanPoint);\n    exx += p.x * p.x;\n    exy += p.x * p.y;\n    exz += p.x * p.z;\n    eyy += p.y * p.y;\n    eyz += p.y * p.z;\n    ezz += p.z * p.z;\n  }\n\n  exx *= invLength;\n  exy *= invLength;\n  exz *= invLength;\n  eyy *= invLength;\n  eyz *= invLength;\n  ezz *= invLength;\n\n  const covarianceMatrix = scratchCovarianceResult;\n  covarianceMatrix[0] = exx;\n  covarianceMatrix[1] = exy;\n  covarianceMatrix[2] = exz;\n  covarianceMatrix[3] = exy;\n  covarianceMatrix[4] = eyy;\n  covarianceMatrix[5] = eyz;\n  covarianceMatrix[6] = exz;\n  covarianceMatrix[7] = eyz;\n  covarianceMatrix[8] = ezz;\n\n  const {unitary} = computeEigenDecomposition(covarianceMatrix, scratchEigenResult);\n  const rotation = result.halfAxes.copy(unitary);\n\n  let v1 = rotation.getColumn(0, scratchVector4);\n  let v2 = rotation.getColumn(1, scratchVector5);\n  let v3 = rotation.getColumn(2, scratchVector6);\n\n  let u1 = -Number.MAX_VALUE;\n  let u2 = -Number.MAX_VALUE;\n  let u3 = -Number.MAX_VALUE;\n  let l1 = Number.MAX_VALUE;\n  let l2 = Number.MAX_VALUE;\n  let l3 = Number.MAX_VALUE;\n\n  for (const position of positions) {\n    u1 = Math.max(position.dot(v1), u1);\n    u2 = Math.max(position.dot(v2), u2);\n    u3 = Math.max(position.dot(v3), u3);\n\n    l1 = Math.min(position.dot(v1), l1);\n    l2 = Math.min(position.dot(v2), l2);\n    l3 = Math.min(position.dot(v3), l3);\n  }\n\n  v1 = v1.multiplyByScalar(0.5 * (l1 + u1));\n  v2 = v2.multiplyByScalar(0.5 * (l2 + u2));\n  v3 = v3.multiplyByScalar(0.5 * (l3 + u3));\n\n  result.center\n    .copy(v1)\n    .add(v2)\n    .add(v3);\n\n  const scale = scratchVector3.set(u1 - l1, u2 - l2, u3 - l3).multiplyByScalar(0.5);\n  result.halfAxes.multiplyByScalar(scale);\n\n  return result;\n}\n\nexport function makeAxisAlignedBoundingBoxFromPoints(\n  positions,\n  result = new AxisAlignedBoundingBox()\n) {\n  if (!positions || positions.length === 0) {\n    result.minimum.set(0, 0, 0);\n    result.maximum.set(0, 0, 0);\n    result.center.set(0, 0, 0);\n    result.halfDiagonal.set(0, 0, 0);\n    return result;\n  }\n\n  let minimumX = positions[0][0];\n  let minimumY = positions[0][1];\n  let minimumZ = positions[0][2];\n\n  let maximumX = positions[0][0];\n  let maximumY = positions[0][1];\n  let maximumZ = positions[0][2];\n\n  for (const p of positions) {\n    const x = p[0];\n    const y = p[1];\n    const z = p[2];\n\n    minimumX = Math.min(x, minimumX);\n    maximumX = Math.max(x, maximumX);\n    minimumY = Math.min(y, minimumY);\n    maximumY = Math.max(y, maximumY);\n    minimumZ = Math.min(z, minimumZ);\n    maximumZ = Math.max(z, maximumZ);\n  }\n\n  result.minimum.set(minimumX, minimumY, minimumZ);\n  result.maximum.set(maximumX, maximumY, maximumZ);\n  result.center\n    .copy(result.minimum)\n    .add(result.maximum)\n    .scale(0.5);\n  result.halfDiagonal.copy(result.maximum).subtract(result.center);\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Matrix4} from '@math.gl/core';\nimport {BoundingSphere, Plane} from '@math.gl/culling';\n\nconst plane = new Plane();\nconst boundingSphere = new BoundingSphere();\nconst transform = new Matrix4();\n\n// @ts-ignore ts6133\n// eslint-disable-next-line\nexport default function cullingBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('BoundingSphere')\n    .add('BoundingSphere#new()', () => new BoundingSphere())\n    .add('BoundingSphere#transform', () => boundingSphere.transform(transform))\n\n    .group('Plane')\n    .add('Plane#new()', () => new Plane())\n    .add('Plane#transform', () => plane.transform(transform));\n\n  return suite;\n}\n","import coreBench from '../modules/core/test/bench';\nimport geospatialBench from '../modules/geospatial/test/bench';\nimport cullingBench from '../modules/culling/test/bench';\n\nexport default function addBenchmarks(suite, addReferenceBenchmarks) {\n  coreBench(suite, addReferenceBenchmarks);\n  geospatialBench(suite, addReferenceBenchmarks);\n  cullingBench(suite, addReferenceBenchmarks);\n  return suite;\n}\n","import React, {PureComponent} from 'react';\nimport {render} from 'react-dom';\n\nimport {BenchResults} from '@probe.gl/react-bench';\nimport {Bench} from '@probe.gl/bench';\n\nimport addBenchmarks from '../../test/modules.bench';\n\nconst addReferenceBenchmarks = false;\n\nconst LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\n\nfunction parseSIPrefix(itersPerSecond) {\n  const value = parseFloat(itersPerSecond);\n  const prefix = itersPerSecond[itersPerSecond.length - 1];\n  switch (prefix) {\n    case 'M':\n      return value * 1000000;\n    case 'K':\n      return value * 1000;\n    default:\n      return value;\n  }\n}\n\nexport default class App extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.suite = new Bench({\n      log: this._logResult.bind(this)\n    });\n    addBenchmarks(this.suite, addReferenceBenchmarks);\n\n    this.state = {\n      log: []\n    };\n  }\n\n  componentDidMount() {\n    this.suite\n      // Calibrate performance\n      .calibrate()\n      .run()\n      // when running in browser, notify test the driver that it's done\n      .then(() => {});\n  }\n\n  _logResult(result) {\n    const {entry, id, itersPerSecond, error} = result;\n\n    const {log} = this.state;\n    switch (entry) {\n      case LOG_ENTRY.GROUP:\n        log.push({id});\n        break;\n      case LOG_ENTRY.TEST:\n        const value = parseSIPrefix(itersPerSecond);\n        // log.push(`├─ ${id}: ${itersPerSecond} iterations/s ±${(error * 100).toFixed(2)}%`);\n        log.push({\n          id,\n          value,\n          formattedValue: itersPerSecond,\n          formattedError: `${(error * 100).toFixed(2)}%`\n        });\n        break;\n      case LOG_ENTRY.COMPLETE:\n        break;\n      default:\n    }\n    this.forceUpdate();\n  }\n\n  render() {\n    const {log} = this.state;\n    return (\n      <div>\n        <BenchResults log={log} />\n      </div>\n    );\n  }\n}\n\nexport function renderToDOM(container) {\n  render(<App />, container);\n}\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && process\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nvar process_ = globals.process || {};\nvar console_ = console;\nexport { self_ as self, window_ as window, global_ as global, document_ as document, process_ as process, console_ as console };","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport isElectron from './is-electron';\nexport default function isBrowser() {\n  var isNode = (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || isElectron();\n}\nexport function isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}"],"sourceRoot":""}