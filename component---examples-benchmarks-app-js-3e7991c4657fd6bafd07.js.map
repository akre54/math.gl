{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/core-js/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/modules/es6.math.sign.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///../node_modules/probe.gl/dist/esm/env/is-electron.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/react-table/es/utils.js","webpack:///./node_modules/react-table/es/lifecycle.js","webpack:///./node_modules/react-table/es/methods.js","webpack:///./node_modules/react-table/es/pagination.js","webpack:///./node_modules/react-table/es/defaultProps.js","webpack:///./node_modules/react-table/es/propTypes.js","webpack:///./node_modules/react-table/es/index.js","webpack:///./node_modules/@probe.gl/react-bench/dist/esm/components/bench-results.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///../node_modules/probe.gl/dist/esm/utils/autobind.js","webpack:///../node_modules/probe.gl/dist/esm/utils/globals.js","webpack:///../node_modules/probe.gl/dist/esm/utils/hi-res-timestamp.js","webpack:///../node_modules/probe.gl/dist/esm/utils/assert.js","webpack:///../node_modules/probe.gl/dist/esm/utils/local-storage.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/format-utils.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/stat-utils.js","webpack:///../node_modules/probe.gl/dist/esm/utils/formatters.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/bench-loggers.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/bench.js","webpack:///../modules/core/test/lib/javascript.bench.js","webpack:///../modules/core/src/lib/assert.js","webpack:///../modules/core/src/lib/common.js","webpack:///../modules/core/src/classes/base/math-array.js","webpack:///../modules/core/src/lib/validators.js","webpack:///../modules/core/src/classes/base/vector.js","webpack:///../node_modules/gl-matrix/esm/common.js","webpack:///../node_modules/gl-matrix/esm/vec3.js","webpack:///../modules/core/src/lib/gl-matrix-extras.js","webpack:///../modules/core/src/classes/vector3.js","webpack:///../modules/core/test/lib/common.bench.js","webpack:///../node_modules/gl-matrix/esm/vec2.js","webpack:///../modules/core/src/classes/vector2.js","webpack:///../modules/core/test/classes/vector2.bench.js","webpack:///../modules/core/test/classes/vector3.bench.js","webpack:///../modules/core/src/classes/vector4.js","webpack:///../modules/core/test/classes/vector4.bench.js","webpack:///../modules/core/src/classes/base/matrix.js","webpack:///../node_modules/gl-matrix/esm/mat4.js","webpack:///../node_modules/gl-matrix/esm/vec4.js","webpack:///../modules/core/src/classes/matrix4.js","webpack:///../modules/core/test/classes/matrix4.bench.js","webpack:///../modules/core/test/bench.js","webpack:///../modules/geospatial/src/constants.js","webpack:///../modules/geospatial/src/type-utils.js","webpack:///../modules/core/src/lib/math-utils.js","webpack:///../modules/geospatial/src/ellipsoid/helpers/scale-to-geodetic-surface.js","webpack:///../modules/geospatial/src/ellipsoid/helpers/ellipsoid-transform.js","webpack:///../modules/geospatial/src/ellipsoid/ellipsoid.js","webpack:///../modules/geospatial/test/ellipsoid/ellipsoid.bench.js","webpack:///../modules/geospatial/test/bench.js","webpack:///../modules/culling/src/constants.js","webpack:///../modules/culling/src/lib/axis-aligned-bounding-box.js","webpack:///../modules/culling/src/lib/bounding-sphere.js","webpack:///../node_modules/gl-matrix/esm/mat3.js","webpack:///../modules/core/src/classes/matrix3.js","webpack:///../modules/culling/src/algorithms/compute-eigen-decomposition.js","webpack:///../modules/culling/src/algorithms/bounding-box-from-points.js","webpack:///../modules/culling/src/lib/oriented-bounding-box.js","webpack:///../modules/culling/src/lib/plane.js","webpack:///../modules/culling/src/lib/culling-volume.js","webpack:///../modules/culling/src/lib/perspective-off-center-frustum.js","webpack:///../modules/culling/src/algorithms/bounding-sphere-from-points.js","webpack:///../modules/culling/test/bench.js","webpack:///../test/modules.bench.js","webpack:///../examples/benchmarks/app.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///../node_modules/probe.gl/dist/esm/env/globals.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es6.math.log10.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///../node_modules/probe.gl/dist/esm/env/is-browser.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/core-js/modules/es6.math.hypot.js","webpack:///./node_modules/core-js/modules/es6.object.seal.js"],"names":["$export","$entries","S","entries","it","_classCallCheck","instance","Constructor","TypeError","isNaN","number","sign","P","repeat","$find","KEY","forced","Array","F","findIndex","callbackfn","this","arguments","length","undefined","isElectron","mockUserAgent","window","process","type","versions","Boolean","electron","realUserAgent","navigator","userAgent","indexOf","fails","defined","quot","createHTML","string","tag","attribute","value","String","p1","replace","module","exports","NAME","exec","O","test","toLowerCase","split","_possibleConstructorReturn","self","call","ReferenceError","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_extends","assign","target","i","source","key","prototype","hasOwnProperty","_objectWithoutProperties","obj","keys","get","path","def","pathObj","makePathArray","val","reduce","current","pathPart","e","set","keyPart","cursor","shift","takeRight","arr","n","start","slice","last","orderBy","funcs","dirs","indexKey","sort","rowA","rowB","comp","desc","sortInt","range","push","remove","a","b","filter","splice","clone","JSON","parse","stringify","toString","getFirstDefined","sum","makeTemplateComponent","compClass","displayName","Error","cmp","_ref","children","className","rest","createElement","groupBy","xs","rv","x","resKey","isArray","splitProps","_ref2","style","compactObject","newObj","map","isSortingDesc","d","asc","normalizeComponent","Comp","props","fallback","asPx","Number","flattenDeep","newArr","join","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_slicedToArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","_defineProperty","_toConsumableArray","arr2","from","_Component","ReactTablePagination","_this","getSafePage","bind","changePage","applyPage","state","page","subClass","superClass","create","constructor","prevProps","prevState","setState","Math","min","max","pages","onPageChange","preventDefault","_this2","onKeyPress","which","keyCode","onBlur","onChange","inputType","pageJumpText","_this3","_props","showPageSizeOptions","pageSizeOptions","pageSize","showPageJump","canPrevious","canNext","onPageSizeChange","PreviousComponent","NextComponent","renderPageJump","renderCurrentPage","renderTotalPagesCount","renderPageSizeOptions","onClick","disabled","previousText","pageText","getPageJumpProperties","ofText","rowsSelectorText","rowsText","nextText","defaultProps","option","emptyObj","data","resolveData","loading","showPagination","showPaginationTop","showPaginationBottom","defaultPage","defaultPageSize","collapseOnSortingChange","collapseOnPageChange","collapseOnDataChange","freezeWhenExpanded","sortable","multiSort","resizable","filterable","defaultSortDesc","defaultSorted","defaultFiltered","defaultResized","defaultExpanded","defaultFilterMethod","row","column","id","pivotId","startsWith","defaultSortMethod","onSortedChange","onFilteredChange","onResizedChange","onExpandedChange","pivotBy","pivotValKey","pivotIDKey","subRowsKey","aggregatedKey","nestingLevelKey","originalKey","groupedByPivotKey","onFetchData","getProps","getTableProps","getTheadGroupProps","getTheadGroupTrProps","getTheadGroupThProps","getTheadProps","getTheadTrProps","getTheadThProps","getTheadFilterProps","getTheadFilterTrProps","getTheadFilterThProps","getTbodyProps","getTrGroupProps","getTrProps","getTdProps","getTfootProps","getTfootTrProps","getTfootTdProps","getPaginationProps","getLoadingProps","getNoDataProps","getResizerProps","Cell","Header","Footer","Aggregated","Pivot","PivotValue","Expander","Filter","Placeholder","show","minWidth","minResizeWidth","aggregate","headerClassName","headerStyle","getHeaderProps","footerClassName","footerStyle","getFooterProps","filterMethod","filterAll","sortMethod","expanderDefaults","width","pivotDefaults","loadingText","noDataText","TableComponent","role","TheadComponent","TbodyComponent","TrGroupComponent","TrComponent","_ref3","ThComponent","_ref4","toggleSort","tabIndex","TdComponent","_ref5","TfootComponent","FilterComponent","_ref6","_onChange","placeholder","event","ExpanderComponent","_ref7","isExpanded","PivotValueComponent","_ref8","subRows","AggregatedComponent","_ref9","previewValues","PivotComponent","PaginationComponent","LoadingComponent","_ref10","NoDataComponent","ResizerComponent","PadRowComponent","any","bool","array","object","func","columns","arrayOf","shape","oneOfType","element","elementType","node","_Methods","ReactTable","getResolvedState","getDataModel","getSortedData","fireFetchData","getPropOrState","getStateOrProp","filterData","sortData","getMinRows","sortColumn","filterColumn","resizeColumnStart","resizeColumnEnd","resizeColumnMoving","resolvedState","manual","sorted","filtered","resized","expanded","SubComponent","resolvedData","allVisibleColumns","headerGroups","hasHeaderGroups","sortedData","currentlyResizing","startRow","endRow","pageRows","minRows","padRows","hasColumnFooter","some","hasFilters","_recurseRowsViewIndex3","recurseRowsViewIndex","rows","index","rowWithViewIndex","_viewIndex","newPath","concat","_recurseRowsViewIndex","_recurseRowsViewIndex2","_recurseRowsViewIndex4","rowMinWidth","resizedColumn","find","rowIndex","finalState","rootProps","tableProps","tBodyProps","loadingProps","noDataProps","makeHeaderGroup","resizedValue","col","flex","maxWidth","theadGroupThProps","columnHeaderProps","classes","styles","flexStyles","makeHeader","resizedCol","theadThProps","isResizable","resizer","onMouseDown","onTouchStart","isSortable","includes","shiftKey","makeFilter","theadFilterThProps","ResolvedFilterComponent","isFilterable","makePadColumn","tdProps","columnProps","makePadRow","trGroupProps","trProps","makeColumnFooter","tFootTdProps","columnFooterProps","makePagination","isTop","paginationProps","makeTable","theadGroupProps","theadGroupTrProps","theadProps","theadTrProps","theadFilterProps","theadFilterTrProps","makePageRow","rowInfo","original","viewIndex","level","nestingPath","aggregated","groupedByPivot","i2","cellInfo","pivoted","expander","useOnExpanderClick","isBranch","isPreview","resolvedCell","ResolvedAggregatedComponent","ResolvedExpanderComponent","ResolvedPivotValueComponent","DefaultResolvedPivotComponent","ResolvedPivotComponent","expandable","resolvedOnExpanderClick","newExpanded","setStateWithData","interactionProps","tFootProps","tFootTrProps","_Base","_class","apply","newState","dataChanged","_newState$pivotBy","forEach","columnsWithExpander","expanderColumn","col2","allDecoratedColumns","decorateAndAddToAll","parentColumn","decoratedColumn","dcol","accessor","accessorString","console","warn","makeDecoratedColumn","visibleColumns","pivotIndex","visibleSubColumns","pivot","pivotColumns","pivotID","found","PivotParentColumn","prev","PivotGroupHeader","pivotColumnGroup","unshift","currentSpan","addHeader","accessRow","_row","aggregatingColumns","aggregationValues","values","groupRecursively","groupedRows","rowGroup","_extends2","sortMethodsByColumnID","currentState","filteredData","filteredSoFar","nextFilter","_this4","orderByMethod","newPageSize","_getResolvedState","currentRow","newPage","floor","additive","_getResolvedState2","skipNextSort","firstSortDirection","secondSortDirection","newSorted","_existingIndex","existingIndex","existing","newFiltering","isTouch","_this5","stopPropagation","parentWidth","parentElement","getBoundingClientRect","pageX","changedTouches","trapEvents","startX","document","addEventListener","_props2","_getResolvedState4","currentColumn","c","newResized","newWidth","removeEventListener","Base","defaultState","dataModel","calculateNewResolvedState","oldState","defaultName","charAt","toUpperCase","optionName","newResolvedState","frozen","showFilters","ceil","cb","propTypes","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","getPercent","score","logScore","log10","Star","fontSize","color","BarCell","percent","_ref$stars","stars","_ref$children","height","backgroundColor","borderRadius","transition","fill","_","PerformanceBarCell","_inherits","BenchResults","Derived","_super","result","Super","NewTarget","log","display","formattedValue","_renderTable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","_asyncToGenerator","fn","args","autobind","predefined","proto","propNames","getOwnPropertyNames","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","name","_iterator","isBrowser","__VERSION__","getHiResTimestamp","timestamp","performance","now","hrtime","timeParts","assert","condition","message","getStorage","storage","setItem","removeItem","LocalStorage","defaultSettings","config","_loadConfiguration","configuration","updateConfiguration","serialized","serializedConfiguration","getItem","formatSI","precision","_splitIntoBaseAndExpo","splitIntoBaseAndExponent","base","exponent","multipleOf3","remaining","digits","pow","toPrecision","getSISuffix","SI_SUFFIXES","0","1","2","3","mean","numbers","cv","_mean","sqrt","std","rightPad","padLength","LOG_ENTRY","logResultsAsMarkdownTable","entry","itersPerSecond","time","toFixed","logResultsAsTree","noop","Bench","_ref$time","_ref$delay","delay","_ref$minIterations","minIterations","markdown","probe","opts","tests","results","table","seal","func1","func2","timeStart","promise","_x","_runTests","runTests","onBenchmarkComplete","elapsed","logEntry","onSuiteComplete","group","priority","_add","async","iterations","round","localStorage","saved","getConfiguration","updateTable","delta","initFunc","testFunc","addDelay","timeout","setTimeout","runCalibrationTests","runBenchTestIterations","mark","_callee","_ref4$onBenchmarkComp","wrap","_context","t0","t1","runTest","stop","_x2","_runTest","_callee2","_ref5$silent","silent","iterationsPerSecond","_context2","runBenchTestAsync","sent","runBenchTest","totalTime","totalIterations","_runBenchTestTimed","runBenchTestTimed","minTime","elapsedMillis","multiplier","testArgs","context","_x3","_runBenchTestAsync","_callee3","_context3","runBenchTestTimedAsync","abrupt","_x4","_x5","_runBenchTestTimedAsync","_callee4","_context4","runBenchTestIterationsAsync","_x6","_x7","_runBenchTestIterationsAsync","_callee5","_i2","_context5","IDENTITY","ClassNoConstructor","ClassWithConstructor","ClassWithConstructorXYZ","y","z","w","ClassWithConstructor04","ArrayExtenderNoConstructor","ArrayExtenderEmptyConstructor","ArrayExtender","XYZVector","XYZVectorLogicalOr","XYZVectorBitwiseOr","RADIANS_TO_DEGREES","PI","DEGREES_TO_RADIANS","configure","options","formatValue","EPSILON","parseFloat","ArrayBuffer","isView","DataView","toRadians","degrees","radians","toDegrees","equals","epsilon","oldEpsilon","isFinite","abs","debug","printTypes","printDegrees","printRowMajor","MathArray","copy","arrayOrObject","fromObject","fromArray","offset","ELEMENTS","check","to","toArray","toObject","toTarget","toFloat32Array","Float32Array","formatString","exactEquals","negate","lerp","t","ai","vector","clamp","minVector","maxVector","add","vectors","subtract","scale","multiply","sub","setScalar","addScalar","subScalar","multiplyScalar","scalar","divideScalar","clampScalar","multiplyByScalar","validate","valid","checkNumber","checkVector","v","callerName","validateVector","deprecated","method","version","Vector","len","lengthSquared","magnitude","magnitudeSquared","distance","mathArray","distanceSquared","dist","dot","product","normalize","divide","lengthSq","distanceTo","distanceToSquared","getComponent","setComponent","addVectors","subVectors","multiplyVectors","addScaledVector","ARRAY_TYPE","random","hypot","transformMat4","out","m","transformMat3","transformQuat","q","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","vec","vec2_transformMat4AsVector","vec3_transformMat4AsVector","vec4_transformMat3","ORIGIN","constants","Vector3","ZERO","freeze","angle","ax","ay","az","bx","by","bz","mag","cosine","acos","cross","vec3","rotateX","origin","rad","r","cos","sin","rotateY","rotateZ","transform","matrix4","transformAsPoint","transformAsVector","transformByMatrix3","matrix3","transformByMatrix2","matrix2","vec3_transformMat2","transformByQuaternion","quaternion","classicArray","float32Array","float64Array","Float64Array","vector3","Vector2","horizontalAngle","atan2","verticalAngle","vec2","transformByMatrix2x3","matrix2x3","vector2","objectVector","arrayVector","Vector4","vec4","vec4_transformMat2","applyMatrix4","vector4","Matrix","RANK","getElementIndex","getElement","setElement","getColumn","columnIndex","firstIndex","setColumn","columnVector","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","getScaling","mat","m11","m12","m13","m21","m22","m23","m31","m32","m33","eye","center","up","x0","x1","x2","y0","y1","y2","z0","z1","z2","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","identity","INDICES","COL0ROW0","COL0ROW1","COL0ROW2","COL0ROW3","COL1ROW0","COL1ROW1","COL1ROW2","COL1ROW3","COL2ROW0","COL2ROW1","COL2ROW2","COL2ROW3","COL3ROW0","COL3ROW1","COL3ROW2","COL3ROW3","Matrix4","m00","m10","m20","m30","m01","m02","m03","setRowMajor","toRowMajor","fromQuaternion","xx","yx","yy","zx","zy","zz","wx","wy","wz","mat4","frustum","left","right","bottom","top","near","far","Infinity","_computeInfinitePerspectiveOffCenter","rl","tb","nf","column0Row0","column1Row1","column2Row0","column2Row1","column3Row2","lookAt","ortho","lr","bt","orthographic","fovy","aspect","focalDistance","halfY","tan","perspective","fov","f","determinant","getScale","getTranslation","getRotation","scaleResult","inverseScale0","inverseScale1","inverseScale2","getRotationMatrix3","transpose","invert","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","multiplyLeft","multiplyRight","s","rotateXYZ","rx","ry","rz","rotateAxis","axis","b12","b20","b21","b22","factor","translate","makeRotationX","makeTranslation","transformPoint","transformVector","transformDirection","mathglVector4","dirVector4","pointVector4","coreBench","suite","addReferenceBenchmarks","commonBench","javascriptBench","matrix4Bench","vector2Bench","vector3Bench","vector4Bench","scratchVector","fromCartographic","cartographic","longitude","latitude","fromCartographicToRadians","_cartographicRadians","toCartographic","toCartographicFromRadians","scaleToGeodeticSurfaceIntersection","scaleToGeodeticSurfaceGradient","scratchOrigin","VECTOR_PRODUCT_LOCAL_FRAME","south","north","west","east","down","degeneratePositionLocalFrame","scratchAxisVectors","scratchVector1","scratchVector2","scratchVector3","localFrameToFixedFrame","ellipsoid","firstAxis","secondAxis","thirdAxis","cartesianOrigin","firstAxisVector","secondAxisVector","thirdAxisVector","thirdAxisInferred","equalsEpsilon","geodeticSurfaceNormal","wgs84","scratchNormal","scratchK","scratchPosition","scratchHeight","scratchCartesian","Ellipsoid","radii","radiiSquared","radiiToTheFourth","oneOverRadii","oneOverRadiiSquared","minimumRadius","maximumRadius","centerToleranceSquared","_MathUtils","squaredXOverSquaredZ","cartographicToCartesian","normal","k","geodeticSurfaceNormalCartographic","gamma","cartesianToCartographic","cartesian","point","scaleToGeodeticSurface","h","asin","eastNorthUpToFixedFrame","geocentricSurfaceNormal","cartographicVectorRadians","cosLatitude","positionX","positionY","positionZ","oneOverRadiiX","oneOverRadiiY","oneOverRadiiZ","squaredNorm","ratio","intersection","oneOverRadiiSquaredX","oneOverRadiiSquaredY","oneOverRadiiSquaredZ","gradient","xMultiplier","yMultiplier","zMultiplier","lambda","correction","xMultiplier2","yMultiplier2","zMultiplier2","scaleToGeocentricSurface","beta","transformPositionToScaledSpace","position","transformPositionFromScaledSpace","getSurfaceNormalIntersectionWithZAxis","buffer","WGS84","spaceCartesian","spaceCartographic","resultVector","resultMatrix","geospatialBench","ellipsoidBench","INTERSECTION","OUTSIDE","INTERSECTING","INSIDE","BoundingSphere","radius","fromCenterRadius","fromCornerPoints","corner","oppositeCorner","union","boundingSphere","leftCenter","leftRadius","rightCenter","rightRadius","toRightCenter","centerSeparation","halfDistanceBetweenTangentPoints","expand","intersectPlane","plane","distanceToPlane","distanceSquaredTo","Matrix3","mat3","rotate","transformVector2","transformVector3","Plane","fromNormalDistance","fromPointNormal","fromCoefficients","getPointDistance","projectPointOntoPlane","pointDistance","scaledNormal","addBenchmarks","cullingBench","App","_logResult","componentDidMount","calibrate","run","parseSIPrefix","formattedError","forceUpdate","render","PureComponent","renderToDOM","container","hasOwn","classNames","argType","inner","init","byteOffset","_typeof","globals","global","window_","global_","process_","LOG10E","toInteger","count","str","res","RangeError","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","iter","reverse","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","browser","_defineProperties","value1","value2","div","aLen","larg","isObject","meta","onFreeze","$seal"],"mappings":"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","file":"component---examples-benchmarks-app-js-3e7991c4657fd6bafd07.js","sourcesContent":["// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import \"core-js/modules/es6.array.index-of\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && _typeof(window.process) === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && _typeof(process.versions) === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  var realUserAgent = (typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  var userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.is-nan\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.object.assign\";\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport * as ReactIs from 'react-is'; //\n\nexport default {\n  get: get,\n  set: set,\n  takeRight: takeRight,\n  last: last,\n  orderBy: orderBy,\n  range: range,\n  remove: remove,\n  clone: clone,\n  getFirstDefined: getFirstDefined,\n  sum: sum,\n  makeTemplateComponent: makeTemplateComponent,\n  groupBy: groupBy,\n  isArray: isArray,\n  splitProps: splitProps,\n  compactObject: compactObject,\n  isSortingDesc: isSortingDesc,\n  normalizeComponent: normalizeComponent,\n  asPx: asPx\n};\n\nfunction get(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n\n  var pathObj = makePathArray(path);\n  var val = void 0;\n\n  try {\n    val = pathObj.reduce(function (current, pathPart) {\n      return current[pathPart];\n    }, obj);\n  } catch (e) {// continue regardless of error\n  }\n\n  return typeof val !== 'undefined' ? val : def;\n}\n\nfunction set() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var path = arguments[1];\n  var value = arguments[2];\n  var keys = makePathArray(path);\n  var keyPart = void 0;\n  var cursor = obj;\n\n  while ((keyPart = keys.shift()) && keys.length) {\n    if (!cursor[keyPart]) {\n      cursor[keyPart] = {};\n    }\n\n    cursor = cursor[keyPart];\n  }\n\n  cursor[keyPart] = value;\n  return obj;\n}\n\nfunction takeRight(arr, n) {\n  var start = n > arr.length ? 0 : arr.length - n;\n  return arr.slice(start);\n}\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nfunction range(n) {\n  var arr = [];\n\n  for (var i = 0; i < n; i += 1) {\n    arr.push(n);\n  }\n\n  return arr;\n}\n\nfunction orderBy(arr, funcs, dirs, indexKey) {\n  return arr.sort(function (rowA, rowB) {\n    for (var i = 0; i < funcs.length; i += 1) {\n      var comp = funcs[i];\n      var desc = dirs[i] === false || dirs[i] === 'desc';\n      var sortInt = comp(rowA, rowB);\n\n      if (sortInt) {\n        return desc ? -sortInt : sortInt;\n      }\n    } // Use the row index for tie breakers\n\n\n    return dirs[0] ? rowA[indexKey] - rowB[indexKey] : rowB[indexKey] - rowA[indexKey];\n  });\n}\n\nfunction remove(a, b) {\n  return a.filter(function (o, i) {\n    var r = b(o);\n\n    if (r) {\n      a.splice(i, 1);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction clone(a) {\n  try {\n    return JSON.parse(JSON.stringify(a, function (key, value) {\n      if (typeof value === 'function') {\n        return value.toString();\n      }\n\n      return value;\n    }));\n  } catch (e) {\n    return a;\n  }\n}\n\nfunction getFirstDefined() {\n  for (var i = 0; i < arguments.length; i += 1) {\n    if (typeof (arguments.length <= i ? undefined : arguments[i]) !== 'undefined') {\n      return arguments.length <= i ? undefined : arguments[i];\n    }\n  }\n}\n\nfunction sum(arr) {\n  return arr.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n}\n\nfunction makeTemplateComponent(compClass, displayName) {\n  if (!displayName) {\n    throw new Error('No displayName found for template component:', compClass);\n  }\n\n  var cmp = function cmp(_ref) {\n    var children = _ref.children,\n        className = _ref.className,\n        rest = _objectWithoutProperties(_ref, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames(compClass, className)\n    }, rest), children);\n  };\n\n  cmp.displayName = displayName;\n  return cmp;\n}\n\nfunction groupBy(xs, key) {\n  return xs.reduce(function (rv, x, i) {\n    var resKey = typeof key === 'function' ? key(x, i) : x[key];\n    rv[resKey] = isArray(rv[resKey]) ? rv[resKey] : [];\n    rv[resKey].push(x);\n    return rv;\n  }, {});\n}\n\nfunction asPx(value) {\n  value = Number(value);\n  return Number.isNaN(value) ? null : value + 'px';\n}\n\nfunction isArray(a) {\n  return Array.isArray(a);\n} // ########################################################################\n// Non-exported Helpers\n// ########################################################################\n\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join('.').replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n}\n\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction splitProps(_ref2) {\n  var className = _ref2.className,\n      style = _ref2.style,\n      rest = _objectWithoutProperties(_ref2, ['className', 'style']);\n\n  return {\n    className: className,\n    style: style,\n    rest: rest || {}\n  };\n}\n\nfunction compactObject(obj) {\n  var newObj = {};\n\n  if (obj) {\n    Object.keys(obj).map(function (key) {\n      if (Object.prototype.hasOwnProperty.call(obj, key) && obj[key] !== undefined && typeof obj[key] !== 'undefined') {\n        newObj[key] = obj[key];\n      }\n\n      return true;\n    });\n  }\n\n  return newObj;\n}\n\nfunction isSortingDesc(d) {\n  return !!(d.sort === 'desc' || d.desc === true || d.asc === false);\n}\n\nfunction normalizeComponent(Comp, props) {\n  var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Comp;\n\n  if (ReactIs.isElement(Comp) || typeof Comp === 'string') {\n    return Comp;\n  } else if (ReactIs.isValidElementType(Comp)) {\n    return React.createElement(Comp, props);\n  }\n\n  return fallback;\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.define-property\";\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nexport default (function (Base) {\n  return function (_Base) {\n    _inherits(_class, _Base);\n\n    function _class(props) {\n      _classCallCheck(this, _class);\n\n      var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n      var defaultState = {\n        page: props.defaultPage,\n        pageSize: props.defaultPageSize,\n        sorted: props.defaultSorted,\n        expanded: props.defaultExpanded,\n        filtered: props.defaultFiltered,\n        resized: props.defaultResized,\n        currentlyResizing: false,\n        skipNextSort: false\n      };\n\n      var resolvedState = _this.getResolvedState(props, defaultState);\n\n      var dataModel = _this.getDataModel(resolvedState, true);\n\n      _this.state = _this.calculateNewResolvedState(dataModel);\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.fireFetchData();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps, prevState) {\n        var oldState = this.getResolvedState(prevProps, prevState);\n        var newState = this.getResolvedState(this.props, this.state); // Do a deep compare of new and old `defaultOption` and\n        // if they are different reset `option = defaultOption`\n\n        var defaultableOptions = ['sorted', 'filtered', 'resized', 'expanded'];\n        defaultableOptions.forEach(function (x) {\n          var defaultName = 'default' + (x.charAt(0).toUpperCase() + x.slice(1));\n\n          if (JSON.stringify(oldState[defaultName]) !== JSON.stringify(newState[defaultName])) {\n            newState[x] = newState[defaultName];\n          }\n        }); // If they change these table options, we need to reset defaults\n        // or else we could get into a state where the user has changed the UI\n        // and then disabled the ability to change it back.\n        // e.g. If `filterable` has changed, set `filtered = defaultFiltered`\n\n        var resettableOptions = ['sortable', 'filterable', 'resizable'];\n        resettableOptions.forEach(function (x) {\n          if (oldState[x] !== newState[x]) {\n            var baseName = x.replace('able', '');\n            var optionName = baseName + 'ed';\n            var defaultName = 'default' + (optionName.charAt(0).toUpperCase() + optionName.slice(1));\n            newState[optionName] = newState[defaultName];\n          }\n        }); // Props that trigger a data update\n\n        if (oldState.data !== newState.data || oldState.columns !== newState.columns || oldState.pivotBy !== newState.pivotBy || oldState.sorted !== newState.sorted || oldState.filtered !== newState.filtered) {\n          this.setStateWithData(this.getDataModel(newState, oldState.data !== newState.data));\n        }\n      }\n    }, {\n      key: 'calculateNewResolvedState',\n      value: function calculateNewResolvedState(dataModel) {\n        var oldState = this.getResolvedState();\n        var newResolvedState = this.getResolvedState({}, dataModel);\n        var freezeWhenExpanded = newResolvedState.freezeWhenExpanded; // Default to unfrozen state\n\n        newResolvedState.frozen = false; // If freezeWhenExpanded is set, check for frozen conditions\n\n        if (freezeWhenExpanded) {\n          // if any rows are expanded, freeze the existing data and sorting\n          var keys = Object.keys(newResolvedState.expanded);\n\n          for (var i = 0; i < keys.length; i += 1) {\n            if (newResolvedState.expanded[keys[i]]) {\n              newResolvedState.frozen = true;\n              break;\n            }\n          }\n        } // If the data isn't frozen and either the data or\n        // sorting model has changed, update the data\n\n\n        if (oldState.frozen && !newResolvedState.frozen || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData) {\n          // Handle collapseOnsortedChange & collapseOnDataChange\n          if (oldState.sorted !== newResolvedState.sorted && this.props.collapseOnSortingChange || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || oldState.sortedData && !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData && this.props.collapseOnDataChange) {\n            newResolvedState.expanded = {};\n          }\n\n          Object.assign(newResolvedState, this.getSortedData(newResolvedState));\n        } // Set page to 0 if filters change\n\n\n        if (oldState.filtered !== newResolvedState.filtered) {\n          newResolvedState.page = 0;\n        } // Calculate pageSize all the time\n\n\n        if (newResolvedState.sortedData) {\n          newResolvedState.pages = newResolvedState.manual ? newResolvedState.pages : Math.ceil(newResolvedState.sortedData.length / newResolvedState.pageSize);\n          newResolvedState.page = newResolvedState.manual ? newResolvedState.page : Math.max(newResolvedState.page >= newResolvedState.pages ? newResolvedState.pages - 1 : newResolvedState.page, 0);\n        }\n\n        return newResolvedState;\n      }\n    }, {\n      key: 'setStateWithData',\n      value: function setStateWithData(dataModel, cb) {\n        var _this2 = this;\n\n        var oldState = this.getResolvedState();\n        var newResolvedState = this.calculateNewResolvedState(dataModel);\n        return this.setState(newResolvedState, function () {\n          if (cb) {\n            cb();\n          }\n\n          if (oldState.page !== newResolvedState.page || oldState.pageSize !== newResolvedState.pageSize || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered) {\n            _this2.fireFetchData();\n          }\n        });\n      }\n    }]);\n\n    return _class;\n  }(Base);\n});","import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport _ from './utils';\nexport default (function (Base) {\n  return function (_Base) {\n    _inherits(_class, _Base);\n\n    function _class() {\n      _classCallCheck(this, _class);\n\n      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n    }\n\n    _createClass(_class, [{\n      key: 'getResolvedState',\n      value: function getResolvedState(props, state) {\n        var resolvedState = _extends({}, _.compactObject(this.state), _.compactObject(this.props), _.compactObject(state), _.compactObject(props));\n\n        return resolvedState;\n      }\n    }, {\n      key: 'getDataModel',\n      value: function getDataModel(newState, dataChanged) {\n        var _this2 = this;\n\n        var columns = newState.columns,\n            _newState$pivotBy = newState.pivotBy,\n            pivotBy = _newState$pivotBy === undefined ? [] : _newState$pivotBy,\n            data = newState.data,\n            resolveData = newState.resolveData,\n            pivotIDKey = newState.pivotIDKey,\n            pivotValKey = newState.pivotValKey,\n            subRowsKey = newState.subRowsKey,\n            aggregatedKey = newState.aggregatedKey,\n            nestingLevelKey = newState.nestingLevelKey,\n            originalKey = newState.originalKey,\n            indexKey = newState.indexKey,\n            groupedByPivotKey = newState.groupedByPivotKey,\n            SubComponent = newState.SubComponent; // Determine Header Groups\n\n        var hasHeaderGroups = false;\n        columns.forEach(function (column) {\n          if (column.columns) {\n            hasHeaderGroups = true;\n          }\n        });\n        var columnsWithExpander = [].concat(_toConsumableArray(columns));\n        var expanderColumn = columns.find(function (col) {\n          return col.expander || col.columns && col.columns.some(function (col2) {\n            return col2.expander;\n          });\n        }); // The actual expander might be in the columns field of a group column\n\n        if (expanderColumn && !expanderColumn.expander) {\n          expanderColumn = expanderColumn.columns.find(function (col) {\n            return col.expander;\n          });\n        } // If we have SubComponent's we need to make sure we have an expander column\n\n\n        if (SubComponent && !expanderColumn) {\n          expanderColumn = {\n            expander: true\n          };\n          columnsWithExpander = [expanderColumn].concat(_toConsumableArray(columnsWithExpander));\n        }\n\n        var makeDecoratedColumn = function makeDecoratedColumn(column, parentColumn) {\n          var dcol = void 0;\n\n          if (column.expander) {\n            dcol = _extends({}, _this2.props.column, _this2.props.expanderDefaults, column);\n          } else {\n            dcol = _extends({}, _this2.props.column, column);\n          } // Ensure minWidth is not greater than maxWidth if set\n\n\n          if (dcol.maxWidth < dcol.minWidth) {\n            dcol.minWidth = dcol.maxWidth;\n          }\n\n          if (parentColumn) {\n            dcol.parentColumn = parentColumn;\n          } // First check for string accessor\n\n\n          if (typeof dcol.accessor === 'string') {\n            dcol.id = dcol.id || dcol.accessor;\n            var accessorString = dcol.accessor;\n\n            dcol.accessor = function (row) {\n              return _.get(row, accessorString);\n            };\n\n            return dcol;\n          } // Fall back to functional accessor (but require an ID)\n\n\n          if (dcol.accessor && !dcol.id) {\n            console.warn(dcol);\n            throw new Error('A column id is required if using a non-string accessor for column above.');\n          } // Fall back to an undefined accessor\n\n\n          if (!dcol.accessor) {\n            dcol.accessor = function () {\n              return undefined;\n            };\n          }\n\n          return dcol;\n        };\n\n        var allDecoratedColumns = []; // Decorate the columns\n\n        var decorateAndAddToAll = function decorateAndAddToAll(column, parentColumn) {\n          var decoratedColumn = makeDecoratedColumn(column, parentColumn);\n          allDecoratedColumns.push(decoratedColumn);\n          return decoratedColumn;\n        };\n\n        var decoratedColumns = columnsWithExpander.map(function (column) {\n          if (column.columns) {\n            return _extends({}, column, {\n              columns: column.columns.map(function (d) {\n                return decorateAndAddToAll(d, column);\n              })\n            });\n          }\n\n          return decorateAndAddToAll(column);\n        }); // Build the visible columns, headers and flat column list\n\n        var visibleColumns = decoratedColumns.slice();\n        var allVisibleColumns = [];\n        visibleColumns = visibleColumns.map(function (column) {\n          if (column.columns) {\n            var visibleSubColumns = column.columns.filter(function (d) {\n              return pivotBy.indexOf(d.id) > -1 ? false : _.getFirstDefined(d.show, true);\n            });\n            return _extends({}, column, {\n              columns: visibleSubColumns\n            });\n          }\n\n          return column;\n        });\n        visibleColumns = visibleColumns.filter(function (column) {\n          return column.columns ? column.columns.length : pivotBy.indexOf(column.id) > -1 ? false : _.getFirstDefined(column.show, true);\n        }); // Find any custom pivot location\n\n        var pivotIndex = visibleColumns.findIndex(function (col) {\n          return col.pivot;\n        }); // Handle Pivot Columns\n\n        if (pivotBy.length) {\n          // Retrieve the pivot columns in the correct pivot order\n          var pivotColumns = [];\n          pivotBy.forEach(function (pivotID) {\n            var found = allDecoratedColumns.find(function (d) {\n              return d.id === pivotID;\n            });\n\n            if (found) {\n              pivotColumns.push(found);\n            }\n          });\n          var PivotParentColumn = pivotColumns.reduce(function (prev, current) {\n            return prev && prev === current.parentColumn && current.parentColumn;\n          }, pivotColumns[0].parentColumn);\n          var PivotGroupHeader = hasHeaderGroups && PivotParentColumn.Header;\n\n          PivotGroupHeader = PivotGroupHeader || function () {\n            return React.createElement('strong', null, 'Pivoted');\n          };\n\n          var pivotColumnGroup = {\n            Header: PivotGroupHeader,\n            columns: pivotColumns.map(function (col) {\n              return _extends({}, _this2.props.pivotDefaults, col, {\n                pivoted: true\n              });\n            }) // Place the pivotColumns back into the visibleColumns\n\n          };\n\n          if (pivotIndex >= 0) {\n            pivotColumnGroup = _extends({}, visibleColumns[pivotIndex], pivotColumnGroup);\n            visibleColumns.splice(pivotIndex, 1, pivotColumnGroup);\n          } else {\n            visibleColumns.unshift(pivotColumnGroup);\n          }\n        } // Build Header Groups\n\n\n        var headerGroups = [];\n        var currentSpan = []; // A convenience function to add a header and reset the currentSpan\n\n        var addHeader = function addHeader(columns, column) {\n          headerGroups.push(_extends({}, _this2.props.column, column, {\n            columns: columns\n          }));\n          currentSpan = [];\n        }; // Build flast list of allVisibleColumns and HeaderGroups\n\n\n        visibleColumns.forEach(function (column) {\n          if (column.columns) {\n            allVisibleColumns = allVisibleColumns.concat(column.columns);\n\n            if (currentSpan.length > 0) {\n              addHeader(currentSpan);\n            }\n\n            addHeader(column.columns, column);\n            return;\n          }\n\n          allVisibleColumns.push(column);\n          currentSpan.push(column);\n        });\n\n        if (hasHeaderGroups && currentSpan.length > 0) {\n          addHeader(currentSpan);\n        } // Access the data\n\n\n        var accessRow = function accessRow(d, i) {\n          var _row;\n\n          var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n          var row = (_row = {}, _defineProperty(_row, originalKey, d), _defineProperty(_row, indexKey, i), _defineProperty(_row, subRowsKey, d[subRowsKey]), _defineProperty(_row, nestingLevelKey, level), _row);\n          allDecoratedColumns.forEach(function (column) {\n            if (column.expander) return;\n            row[column.id] = column.accessor(d);\n          });\n\n          if (row[subRowsKey]) {\n            row[subRowsKey] = row[subRowsKey].map(function (d, i) {\n              return accessRow(d, i, level + 1);\n            });\n          }\n\n          return row;\n        }; // // If the data hasn't changed, just use the cached data\n\n\n        var resolvedData = this.resolvedData; // If the data has changed, run the data resolver and cache the result\n\n        if (!this.resolvedData || dataChanged) {\n          resolvedData = resolveData(data);\n          this.resolvedData = resolvedData;\n        } // Use the resolved data\n\n\n        resolvedData = resolvedData.map(function (d, i) {\n          return accessRow(d, i);\n        }); // TODO: Make it possible to fabricate nested rows without pivoting\n\n        var aggregatingColumns = allVisibleColumns.filter(function (d) {\n          return !d.expander && d.aggregate;\n        }); // If pivoting, recursively group the data\n\n        var aggregate = function aggregate(rows) {\n          var aggregationValues = {};\n          aggregatingColumns.forEach(function (column) {\n            var values = rows.map(function (d) {\n              return d[column.id];\n            });\n            aggregationValues[column.id] = column.aggregate(values, rows);\n          });\n          return aggregationValues;\n        };\n\n        if (pivotBy.length) {\n          var groupRecursively = function groupRecursively(rows, keys) {\n            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0; // This is the last level, just return the rows\n\n            if (i === keys.length) {\n              return rows;\n            } // Group the rows together for this level\n\n\n            var groupedRows = Object.entries(_.groupBy(rows, keys[i])).map(function (_ref) {\n              var _ref3;\n\n              var _ref2 = _slicedToArray(_ref, 2),\n                  key = _ref2[0],\n                  value = _ref2[1];\n\n              return _ref3 = {}, _defineProperty(_ref3, pivotIDKey, keys[i]), _defineProperty(_ref3, pivotValKey, key), _defineProperty(_ref3, keys[i], key), _defineProperty(_ref3, subRowsKey, value), _defineProperty(_ref3, nestingLevelKey, i), _defineProperty(_ref3, groupedByPivotKey, true), _ref3;\n            }); // Recurse into the subRows\n\n            groupedRows = groupedRows.map(function (rowGroup) {\n              var _extends2;\n\n              var subRows = groupRecursively(rowGroup[subRowsKey], keys, i + 1);\n              return _extends({}, rowGroup, (_extends2 = {}, _defineProperty(_extends2, subRowsKey, subRows), _defineProperty(_extends2, aggregatedKey, true), _extends2), aggregate(subRows));\n            });\n            return groupedRows;\n          };\n\n          resolvedData = groupRecursively(resolvedData, pivotBy);\n        }\n\n        return _extends({}, newState, {\n          resolvedData: resolvedData,\n          allVisibleColumns: allVisibleColumns,\n          headerGroups: headerGroups,\n          allDecoratedColumns: allDecoratedColumns,\n          hasHeaderGroups: hasHeaderGroups\n        });\n      }\n    }, {\n      key: 'getSortedData',\n      value: function getSortedData(resolvedState) {\n        var manual = resolvedState.manual,\n            sorted = resolvedState.sorted,\n            filtered = resolvedState.filtered,\n            defaultFilterMethod = resolvedState.defaultFilterMethod,\n            resolvedData = resolvedState.resolvedData,\n            allDecoratedColumns = resolvedState.allDecoratedColumns;\n        var sortMethodsByColumnID = {};\n        allDecoratedColumns.filter(function (col) {\n          return col.sortMethod;\n        }).forEach(function (col) {\n          sortMethodsByColumnID[col.id] = col.sortMethod;\n        }); // Resolve the data from either manual data or sorted data\n\n        return {\n          sortedData: manual ? resolvedData : this.sortData(this.filterData(resolvedData, filtered, defaultFilterMethod, allDecoratedColumns), sorted, sortMethodsByColumnID)\n        };\n      }\n    }, {\n      key: 'fireFetchData',\n      value: function fireFetchData() {\n        // determine the current state, preferring certain state values over props\n        var currentState = _extends({}, this.getResolvedState(), {\n          page: this.getStateOrProp('page'),\n          pageSize: this.getStateOrProp('pageSize'),\n          filtered: this.getStateOrProp('filtered')\n        });\n\n        this.props.onFetchData(currentState, this);\n      }\n    }, {\n      key: 'getPropOrState',\n      value: function getPropOrState(key) {\n        return _.getFirstDefined(this.props[key], this.state[key]);\n      }\n    }, {\n      key: 'getStateOrProp',\n      value: function getStateOrProp(key) {\n        return _.getFirstDefined(this.state[key], this.props[key]);\n      }\n    }, {\n      key: 'filterData',\n      value: function filterData(data, filtered, defaultFilterMethod, allVisibleColumns) {\n        var _this3 = this;\n\n        var filteredData = data;\n\n        if (filtered.length) {\n          filteredData = filtered.reduce(function (filteredSoFar, nextFilter) {\n            var column = allVisibleColumns.find(function (x) {\n              return x.id === nextFilter.id;\n            }); // Don't filter hidden columns or columns that have had their filters disabled\n\n            if (!column || column.filterable === false) {\n              return filteredSoFar;\n            }\n\n            var filterMethod = column.filterMethod || defaultFilterMethod; // If 'filterAll' is set to true, pass the entire dataset to the filter method\n\n            if (column.filterAll) {\n              return filterMethod(nextFilter, filteredSoFar, column);\n            }\n\n            return filteredSoFar.filter(function (row) {\n              return filterMethod(nextFilter, row, column);\n            });\n          }, filteredData); // Apply the filter to the subrows if we are pivoting, and then\n          // filter any rows without subcolumns because it would be strange to show\n\n          filteredData = filteredData.map(function (row) {\n            if (!row[_this3.props.subRowsKey]) {\n              return row;\n            }\n\n            return _extends({}, row, _defineProperty({}, _this3.props.subRowsKey, _this3.filterData(row[_this3.props.subRowsKey], filtered, defaultFilterMethod, allVisibleColumns)));\n          }).filter(function (row) {\n            if (!row[_this3.props.subRowsKey]) {\n              return true;\n            }\n\n            return row[_this3.props.subRowsKey].length > 0;\n          });\n        }\n\n        return filteredData;\n      }\n    }, {\n      key: 'sortData',\n      value: function sortData(data, sorted) {\n        var _this4 = this;\n\n        var sortMethodsByColumnID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!sorted.length) {\n          return data;\n        }\n\n        var sortedData = (this.props.orderByMethod || _.orderBy)(data, sorted.map(function (sort) {\n          // Support custom sorting methods for each column\n          if (sortMethodsByColumnID[sort.id]) {\n            return function (a, b) {\n              return sortMethodsByColumnID[sort.id](a[sort.id], b[sort.id], sort.desc);\n            };\n          }\n\n          return function (a, b) {\n            return _this4.props.defaultSortMethod(a[sort.id], b[sort.id], sort.desc);\n          };\n        }), sorted.map(function (d) {\n          return !d.desc;\n        }), this.props.indexKey);\n\n        sortedData.forEach(function (row) {\n          if (!row[_this4.props.subRowsKey]) {\n            return;\n          }\n\n          row[_this4.props.subRowsKey] = _this4.sortData(row[_this4.props.subRowsKey], sorted, sortMethodsByColumnID);\n        });\n        return sortedData;\n      }\n    }, {\n      key: 'getMinRows',\n      value: function getMinRows() {\n        return _.getFirstDefined(this.props.minRows, this.getStateOrProp('pageSize'));\n      } // User actions\n\n    }, {\n      key: 'onPageChange',\n      value: function onPageChange(page) {\n        var _props = this.props,\n            onPageChange = _props.onPageChange,\n            collapseOnPageChange = _props.collapseOnPageChange;\n        var newState = {\n          page: page\n        };\n\n        if (collapseOnPageChange) {\n          newState.expanded = {};\n        }\n\n        this.setStateWithData(newState, function () {\n          return onPageChange && onPageChange(page);\n        });\n      }\n    }, {\n      key: 'onPageSizeChange',\n      value: function onPageSizeChange(newPageSize) {\n        var onPageSizeChange = this.props.onPageSizeChange;\n\n        var _getResolvedState = this.getResolvedState(),\n            pageSize = _getResolvedState.pageSize,\n            page = _getResolvedState.page; // Normalize the page to display\n\n\n        var currentRow = pageSize * page;\n        var newPage = Math.floor(currentRow / newPageSize);\n        this.setStateWithData({\n          pageSize: newPageSize,\n          page: newPage\n        }, function () {\n          return onPageSizeChange && onPageSizeChange(newPageSize, newPage);\n        });\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(column, additive) {\n        var _getResolvedState2 = this.getResolvedState(),\n            sorted = _getResolvedState2.sorted,\n            skipNextSort = _getResolvedState2.skipNextSort,\n            defaultSortDesc = _getResolvedState2.defaultSortDesc;\n\n        var firstSortDirection = Object.prototype.hasOwnProperty.call(column, 'defaultSortDesc') ? column.defaultSortDesc : defaultSortDesc;\n        var secondSortDirection = !firstSortDirection; // we can't stop event propagation from the column resize move handlers\n        // attached to the document because of react's synthetic events\n        // so we have to prevent the sort function from actually sorting\n        // if we click on the column resize element within a header.\n\n        if (skipNextSort) {\n          this.setStateWithData({\n            skipNextSort: false\n          });\n          return;\n        }\n\n        var onSortedChange = this.props.onSortedChange;\n\n        var newSorted = _.clone(sorted || []).map(function (d) {\n          d.desc = _.isSortingDesc(d);\n          return d;\n        });\n\n        if (!_.isArray(column)) {\n          // Single-Sort\n          var existingIndex = newSorted.findIndex(function (d) {\n            return d.id === column.id;\n          });\n\n          if (existingIndex > -1) {\n            var existing = newSorted[existingIndex];\n\n            if (existing.desc === secondSortDirection) {\n              if (additive) {\n                newSorted.splice(existingIndex, 1);\n              } else {\n                existing.desc = firstSortDirection;\n                newSorted = [existing];\n              }\n            } else {\n              existing.desc = secondSortDirection;\n\n              if (!additive) {\n                newSorted = [existing];\n              }\n            }\n          } else if (additive) {\n            newSorted.push({\n              id: column.id,\n              desc: firstSortDirection\n            });\n          } else {\n            newSorted = [{\n              id: column.id,\n              desc: firstSortDirection\n            }];\n          }\n        } else {\n          // Multi-Sort\n          var _existingIndex = newSorted.findIndex(function (d) {\n            return d.id === column[0].id;\n          }); // Existing Sorted Column\n\n\n          if (_existingIndex > -1) {\n            var _existing = newSorted[_existingIndex];\n\n            if (_existing.desc === secondSortDirection) {\n              if (additive) {\n                newSorted.splice(_existingIndex, column.length);\n              } else {\n                column.forEach(function (d, i) {\n                  newSorted[_existingIndex + i].desc = firstSortDirection;\n                });\n              }\n            } else {\n              column.forEach(function (d, i) {\n                newSorted[_existingIndex + i].desc = secondSortDirection;\n              });\n            }\n\n            if (!additive) {\n              newSorted = newSorted.slice(_existingIndex, column.length);\n            } // New Sort Column\n\n          } else if (additive) {\n            newSorted = newSorted.concat(column.map(function (d) {\n              return {\n                id: d.id,\n                desc: firstSortDirection\n              };\n            }));\n          } else {\n            newSorted = column.map(function (d) {\n              return {\n                id: d.id,\n                desc: firstSortDirection\n              };\n            });\n          }\n        }\n\n        this.setStateWithData({\n          page: !sorted.length && newSorted.length || !additive ? 0 : this.state.page,\n          sorted: newSorted\n        }, function () {\n          return onSortedChange && onSortedChange(newSorted, column, additive);\n        });\n      }\n    }, {\n      key: 'filterColumn',\n      value: function filterColumn(column, value) {\n        var _getResolvedState3 = this.getResolvedState(),\n            filtered = _getResolvedState3.filtered;\n\n        var onFilteredChange = this.props.onFilteredChange; // Remove old filter first if it exists\n\n        var newFiltering = (filtered || []).filter(function (x) {\n          return x.id !== column.id;\n        });\n\n        if (value !== '') {\n          newFiltering.push({\n            id: column.id,\n            value: value\n          });\n        }\n\n        this.setStateWithData({\n          filtered: newFiltering\n        }, function () {\n          return onFilteredChange && onFilteredChange(newFiltering, column, value);\n        });\n      }\n    }, {\n      key: 'resizeColumnStart',\n      value: function resizeColumnStart(event, column, isTouch) {\n        var _this5 = this;\n\n        event.stopPropagation();\n        var parentWidth = event.target.parentElement.getBoundingClientRect().width;\n        var pageX = void 0;\n\n        if (isTouch) {\n          pageX = event.changedTouches[0].pageX;\n        } else {\n          pageX = event.pageX;\n        }\n\n        this.trapEvents = true;\n        this.setStateWithData({\n          currentlyResizing: {\n            id: column.id,\n            startX: pageX,\n            parentWidth: parentWidth\n          }\n        }, function () {\n          if (isTouch) {\n            document.addEventListener('touchmove', _this5.resizeColumnMoving);\n            document.addEventListener('touchcancel', _this5.resizeColumnEnd);\n            document.addEventListener('touchend', _this5.resizeColumnEnd);\n          } else {\n            document.addEventListener('mousemove', _this5.resizeColumnMoving);\n            document.addEventListener('mouseup', _this5.resizeColumnEnd);\n            document.addEventListener('mouseleave', _this5.resizeColumnEnd);\n          }\n        });\n      }\n    }, {\n      key: 'resizeColumnMoving',\n      value: function resizeColumnMoving(event) {\n        event.stopPropagation();\n        var _props2 = this.props,\n            onResizedChange = _props2.onResizedChange,\n            column = _props2.column;\n\n        var _getResolvedState4 = this.getResolvedState(),\n            resized = _getResolvedState4.resized,\n            currentlyResizing = _getResolvedState4.currentlyResizing,\n            columns = _getResolvedState4.columns;\n\n        var currentColumn = columns.find(function (c) {\n          return c.accessor === currentlyResizing.id || c.id === currentlyResizing.id;\n        });\n        var minResizeWidth = currentColumn && currentColumn.minResizeWidth != null ? currentColumn.minResizeWidth : column.minResizeWidth; // Delete old value\n\n        var newResized = resized.filter(function (x) {\n          return x.id !== currentlyResizing.id;\n        });\n        var pageX = void 0;\n\n        if (event.type === 'touchmove') {\n          pageX = event.changedTouches[0].pageX;\n        } else if (event.type === 'mousemove') {\n          pageX = event.pageX;\n        }\n\n        var newWidth = Math.max(currentlyResizing.parentWidth + pageX - currentlyResizing.startX, minResizeWidth);\n        newResized.push({\n          id: currentlyResizing.id,\n          value: newWidth\n        });\n        this.setStateWithData({\n          resized: newResized\n        }, function () {\n          return onResizedChange && onResizedChange(newResized, event);\n        });\n      }\n    }, {\n      key: 'resizeColumnEnd',\n      value: function resizeColumnEnd(event) {\n        event.stopPropagation();\n        var isTouch = event.type === 'touchend' || event.type === 'touchcancel';\n\n        if (isTouch) {\n          document.removeEventListener('touchmove', this.resizeColumnMoving);\n          document.removeEventListener('touchcancel', this.resizeColumnEnd);\n          document.removeEventListener('touchend', this.resizeColumnEnd);\n        } // If its a touch event clear the mouse one's as well because sometimes\n        // the mouseDown event gets called as well, but the mouseUp event doesn't\n\n\n        document.removeEventListener('mousemove', this.resizeColumnMoving);\n        document.removeEventListener('mouseup', this.resizeColumnEnd);\n        document.removeEventListener('mouseleave', this.resizeColumnEnd); // The touch events don't propagate up to the sorting's onMouseDown event so\n        // no need to prevent it from happening or else the first click after a touch\n        // event resize will not sort the column.\n\n        if (!isTouch) {\n          this.setStateWithData({\n            skipNextSort: true,\n            currentlyResizing: false\n          });\n        }\n      }\n    }]);\n\n    return _class;\n  }(Base);\n});","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-nan\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\n\nvar defaultButton = function defaultButton(props) {\n  return React.createElement('button', _extends({\n    type: 'button'\n  }, props, {\n    className: '-btn'\n  }), props.children);\n};\n\nvar ReactTablePagination = function (_Component) {\n  _inherits(ReactTablePagination, _Component);\n\n  function ReactTablePagination(props) {\n    _classCallCheck(this, ReactTablePagination);\n\n    var _this = _possibleConstructorReturn(this, (ReactTablePagination.__proto__ || Object.getPrototypeOf(ReactTablePagination)).call(this, props));\n\n    _this.getSafePage = _this.getSafePage.bind(_this);\n    _this.changePage = _this.changePage.bind(_this);\n    _this.applyPage = _this.applyPage.bind(_this);\n    _this.state = {\n      page: props.page\n    };\n    return _this;\n  }\n\n  _createClass(ReactTablePagination, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.page !== this.props.page && prevState.page !== this.state.page) {\n        // this is probably safe because we only update when old/new state.page are different\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          page: this.props.page\n        });\n      }\n    }\n  }, {\n    key: 'getSafePage',\n    value: function getSafePage(page) {\n      if (Number.isNaN(page)) {\n        page = this.props.page;\n      }\n\n      return Math.min(Math.max(page, 0), this.props.pages - 1);\n    }\n  }, {\n    key: 'changePage',\n    value: function changePage(page) {\n      page = this.getSafePage(page);\n      this.setState({\n        page: page\n      });\n\n      if (this.props.page !== page) {\n        this.props.onPageChange(page);\n      }\n    }\n  }, {\n    key: 'applyPage',\n    value: function applyPage(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      var page = this.state.page;\n      this.changePage(page === '' ? this.props.page : page);\n    }\n  }, {\n    key: 'getPageJumpProperties',\n    value: function getPageJumpProperties() {\n      var _this2 = this;\n\n      return {\n        onKeyPress: function onKeyPress(e) {\n          if (e.which === 13 || e.keyCode === 13) {\n            _this2.applyPage();\n          }\n        },\n        onBlur: this.applyPage,\n        value: this.state.page === '' ? '' : this.state.page + 1,\n        onChange: function onChange(e) {\n          var val = e.target.value;\n          var page = val - 1;\n\n          if (val === '') {\n            return _this2.setState({\n              page: val\n            });\n          }\n\n          _this2.setState({\n            page: _this2.getSafePage(page)\n          });\n        },\n        inputType: this.state.page === '' ? 'text' : 'number',\n        pageJumpText: this.props.pageJumpText\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          pages = _props.pages,\n          page = _props.page,\n          showPageSizeOptions = _props.showPageSizeOptions,\n          pageSizeOptions = _props.pageSizeOptions,\n          pageSize = _props.pageSize,\n          showPageJump = _props.showPageJump,\n          canPrevious = _props.canPrevious,\n          canNext = _props.canNext,\n          onPageSizeChange = _props.onPageSizeChange,\n          className = _props.className,\n          PreviousComponent = _props.PreviousComponent,\n          NextComponent = _props.NextComponent,\n          renderPageJump = _props.renderPageJump,\n          renderCurrentPage = _props.renderCurrentPage,\n          renderTotalPagesCount = _props.renderTotalPagesCount,\n          renderPageSizeOptions = _props.renderPageSizeOptions;\n      return React.createElement('div', {\n        className: classnames(className, '-pagination'),\n        style: this.props.style\n      }, React.createElement('div', {\n        className: '-previous'\n      }, React.createElement(PreviousComponent, {\n        onClick: function onClick() {\n          if (!canPrevious) return;\n\n          _this3.changePage(page - 1);\n        },\n        disabled: !canPrevious\n      }, this.props.previousText)), React.createElement('div', {\n        className: '-center'\n      }, React.createElement('span', {\n        className: '-pageInfo'\n      }, this.props.pageText, ' ', showPageJump ? renderPageJump(this.getPageJumpProperties()) : renderCurrentPage(page), ' ', this.props.ofText, ' ', renderTotalPagesCount(pages)), showPageSizeOptions && renderPageSizeOptions({\n        pageSize: pageSize,\n        rowsSelectorText: this.props.rowsSelectorText,\n        pageSizeOptions: pageSizeOptions,\n        onPageSizeChange: onPageSizeChange,\n        rowsText: this.props.rowsText\n      })), React.createElement('div', {\n        className: '-next'\n      }, React.createElement(NextComponent, {\n        onClick: function onClick() {\n          if (!canNext) return;\n\n          _this3.changePage(page + 1);\n        },\n        disabled: !canNext\n      }, this.props.nextText)));\n    }\n  }]);\n\n  return ReactTablePagination;\n}(Component);\n\nReactTablePagination.defaultProps = {\n  PreviousComponent: defaultButton,\n  NextComponent: defaultButton,\n  renderPageJump: function renderPageJump(_ref) {\n    var onChange = _ref.onChange,\n        value = _ref.value,\n        onBlur = _ref.onBlur,\n        onKeyPress = _ref.onKeyPress,\n        inputType = _ref.inputType,\n        pageJumpText = _ref.pageJumpText;\n    return React.createElement('div', {\n      className: '-pageJump'\n    }, React.createElement('input', {\n      'aria-label': pageJumpText,\n      type: inputType,\n      onChange: onChange,\n      value: value,\n      onBlur: onBlur,\n      onKeyPress: onKeyPress\n    }));\n  },\n  renderCurrentPage: function renderCurrentPage(page) {\n    return React.createElement('span', {\n      className: '-currentPage'\n    }, page + 1);\n  },\n  renderTotalPagesCount: function renderTotalPagesCount(pages) {\n    return React.createElement('span', {\n      className: '-totalPages'\n    }, pages || 1);\n  },\n  renderPageSizeOptions: function renderPageSizeOptions(_ref2) {\n    var pageSize = _ref2.pageSize,\n        pageSizeOptions = _ref2.pageSizeOptions,\n        rowsSelectorText = _ref2.rowsSelectorText,\n        onPageSizeChange = _ref2.onPageSizeChange,\n        rowsText = _ref2.rowsText;\n    return React.createElement('span', {\n      className: 'select-wrap -pageSizeOptions'\n    }, React.createElement('select', {\n      'aria-label': rowsSelectorText,\n      onChange: function onChange(e) {\n        return onPageSizeChange(Number(e.target.value));\n      },\n      value: pageSize\n    }, pageSizeOptions.map(function (option, i) {\n      return (// eslint-disable-next-line react/no-array-index-key\n        React.createElement('option', {\n          key: i,\n          value: option\n        }, option + ' ' + rowsText)\n      );\n    })));\n  }\n};\nexport default ReactTablePagination;","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.object.assign\";\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport classnames from 'classnames'; //\n\nimport _ from './utils';\nimport Pagination from './pagination';\n\nvar emptyObj = function emptyObj() {\n  return {};\n};\n\nexport default {\n  // General\n  data: [],\n  resolveData: function resolveData(data) {\n    return data;\n  },\n  loading: false,\n  showPagination: true,\n  showPaginationTop: false,\n  showPaginationBottom: true,\n  showPageSizeOptions: true,\n  pageSizeOptions: [5, 10, 20, 25, 50, 100],\n  defaultPage: 0,\n  defaultPageSize: 20,\n  showPageJump: true,\n  collapseOnSortingChange: true,\n  collapseOnPageChange: true,\n  collapseOnDataChange: true,\n  freezeWhenExpanded: false,\n  sortable: true,\n  multiSort: true,\n  resizable: true,\n  filterable: false,\n  defaultSortDesc: false,\n  defaultSorted: [],\n  defaultFiltered: [],\n  defaultResized: [],\n  defaultExpanded: {},\n  // eslint-disable-next-line no-unused-vars\n  defaultFilterMethod: function defaultFilterMethod(filter, row, column) {\n    var id = filter.pivotId || filter.id;\n    return row[id] !== undefined ? String(row[id]).startsWith(filter.value) : true;\n  },\n  // eslint-disable-next-line no-unused-vars\n  defaultSortMethod: function defaultSortMethod(a, b, desc) {\n    // force null and undefined to the bottom\n    a = a === null || a === undefined ? '' : a;\n    b = b === null || b === undefined ? '' : b; // force any string values to lowercase\n\n    a = typeof a === 'string' ? a.toLowerCase() : a;\n    b = typeof b === 'string' ? b.toLowerCase() : b; // Return either 1 or -1 to indicate a sort priority\n\n    if (a > b) {\n      return 1;\n    }\n\n    if (a < b) {\n      return -1;\n    } // returning 0, undefined or any falsey value will use subsequent sorts or\n    // the index as a tiebreaker\n\n\n    return 0;\n  },\n  // Controlled State Props\n  // page: undefined,\n  // pageSize: undefined,\n  // sorted: [],\n  // filtered: [],\n  // resized: [],\n  // expanded: {},\n  // Controlled State Callbacks\n  onPageChange: undefined,\n  onPageSizeChange: undefined,\n  onSortedChange: undefined,\n  onFilteredChange: undefined,\n  onResizedChange: undefined,\n  onExpandedChange: undefined,\n  // Pivoting\n  pivotBy: undefined,\n  // Key Constants\n  pivotValKey: '_pivotVal',\n  pivotIDKey: '_pivotID',\n  subRowsKey: '_subRows',\n  aggregatedKey: '_aggregated',\n  nestingLevelKey: '_nestingLevel',\n  originalKey: '_original',\n  indexKey: '_index',\n  groupedByPivotKey: '_groupedByPivot',\n  // Server-side Callbacks\n  onFetchData: function onFetchData() {\n    return null;\n  },\n  // Classes\n  className: '',\n  style: {},\n  // Component decorators\n  getProps: emptyObj,\n  getTableProps: emptyObj,\n  getTheadGroupProps: emptyObj,\n  getTheadGroupTrProps: emptyObj,\n  getTheadGroupThProps: emptyObj,\n  getTheadProps: emptyObj,\n  getTheadTrProps: emptyObj,\n  getTheadThProps: emptyObj,\n  getTheadFilterProps: emptyObj,\n  getTheadFilterTrProps: emptyObj,\n  getTheadFilterThProps: emptyObj,\n  getTbodyProps: emptyObj,\n  getTrGroupProps: emptyObj,\n  getTrProps: emptyObj,\n  getTdProps: emptyObj,\n  getTfootProps: emptyObj,\n  getTfootTrProps: emptyObj,\n  getTfootTdProps: emptyObj,\n  getPaginationProps: emptyObj,\n  getLoadingProps: emptyObj,\n  getNoDataProps: emptyObj,\n  getResizerProps: emptyObj,\n  // Global Column Defaults\n  column: {\n    // Renderers\n    Cell: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Aggregated: undefined,\n    Pivot: undefined,\n    PivotValue: undefined,\n    Expander: undefined,\n    Filter: undefined,\n    Placeholder: undefined,\n    // All Columns\n    sortable: undefined,\n    // use table default\n    resizable: undefined,\n    // use table default\n    filterable: undefined,\n    // use table default\n    show: true,\n    minWidth: 100,\n    minResizeWidth: 11,\n    // Cells only\n    className: '',\n    style: {},\n    getProps: emptyObj,\n    // Pivot only\n    aggregate: undefined,\n    // Headers only\n    headerClassName: '',\n    headerStyle: {},\n    getHeaderProps: emptyObj,\n    // Footers only\n    footerClassName: '',\n    footerStyle: {},\n    getFooterProps: emptyObj,\n    filterMethod: undefined,\n    filterAll: false,\n    sortMethod: undefined\n  },\n  // Global Expander Column Defaults\n  expanderDefaults: {\n    sortable: false,\n    resizable: false,\n    filterable: false,\n    width: 35\n  },\n  pivotDefaults: {// extend the defaults for pivoted columns here\n  },\n  // Text\n  previousText: 'Previous',\n  nextText: 'Next',\n  loadingText: 'Loading...',\n  noDataText: 'No rows found',\n  pageText: 'Page',\n  ofText: 'of',\n  rowsText: 'rows',\n  pageJumpText: 'jump to page',\n  rowsSelectorText: 'rows per page',\n  // Components\n  TableComponent: function TableComponent(_ref) {\n    var children = _ref.children,\n        className = _ref.className,\n        rest = _objectWithoutProperties(_ref, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-table', className),\n      role: 'grid' // tabIndex='0'\n\n    }, rest), children);\n  },\n  TheadComponent: _.makeTemplateComponent('rt-thead', 'Thead'),\n  TbodyComponent: _.makeTemplateComponent('rt-tbody', 'Tbody'),\n  TrGroupComponent: function TrGroupComponent(_ref2) {\n    var children = _ref2.children,\n        className = _ref2.className,\n        rest = _objectWithoutProperties(_ref2, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-tr-group', className),\n      role: 'rowgroup'\n    }, rest), children);\n  },\n  TrComponent: function TrComponent(_ref3) {\n    var children = _ref3.children,\n        className = _ref3.className,\n        rest = _objectWithoutProperties(_ref3, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-tr', className),\n      role: 'row'\n    }, rest), children);\n  },\n  ThComponent: function ThComponent(_ref4) {\n    var toggleSort = _ref4.toggleSort,\n        className = _ref4.className,\n        children = _ref4.children,\n        rest = _objectWithoutProperties(_ref4, ['toggleSort', 'className', 'children']);\n\n    return (// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n      React.createElement('div', _extends({\n        className: classnames('rt-th', className),\n        onClick: function onClick(e) {\n          return toggleSort && toggleSort(e);\n        },\n        role: 'columnheader',\n        tabIndex: '-1' // Resolves eslint issues without implementing keyboard navigation incorrectly\n\n      }, rest), children)\n    );\n  },\n  TdComponent: function TdComponent(_ref5) {\n    var toggleSort = _ref5.toggleSort,\n        className = _ref5.className,\n        children = _ref5.children,\n        rest = _objectWithoutProperties(_ref5, ['toggleSort', 'className', 'children']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-td', className),\n      role: 'gridcell'\n    }, rest), children);\n  },\n  TfootComponent: _.makeTemplateComponent('rt-tfoot', 'Tfoot'),\n  FilterComponent: function FilterComponent(_ref6) {\n    var filter = _ref6.filter,\n        _onChange = _ref6.onChange,\n        column = _ref6.column;\n    return React.createElement('input', {\n      type: 'text',\n      style: {\n        width: '100%'\n      },\n      placeholder: column.Placeholder,\n      value: filter ? filter.value : '',\n      onChange: function onChange(event) {\n        return _onChange(event.target.value);\n      }\n    });\n  },\n  ExpanderComponent: function ExpanderComponent(_ref7) {\n    var isExpanded = _ref7.isExpanded;\n    return React.createElement('div', {\n      className: classnames('rt-expander', isExpanded && '-open')\n    }, \"\\u2022\");\n  },\n  PivotValueComponent: function PivotValueComponent(_ref8) {\n    var subRows = _ref8.subRows,\n        value = _ref8.value;\n    return React.createElement('span', null, value, ' ', subRows && '(' + subRows.length + ')');\n  },\n  AggregatedComponent: function AggregatedComponent(_ref9) {\n    var subRows = _ref9.subRows,\n        column = _ref9.column;\n    var previewValues = subRows.filter(function (d) {\n      return typeof d[column.id] !== 'undefined';\n    }).map(function (row, i) {\n      return (// eslint-disable-next-line react/no-array-index-key\n        React.createElement('span', {\n          key: i\n        }, row[column.id], i < subRows.length - 1 ? ', ' : '')\n      );\n    });\n    return React.createElement('span', null, previewValues);\n  },\n  PivotComponent: undefined,\n  // this is a computed default generated using\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: Pagination,\n  PreviousComponent: undefined,\n  NextComponent: undefined,\n  LoadingComponent: function LoadingComponent(_ref10) {\n    var className = _ref10.className,\n        loading = _ref10.loading,\n        loadingText = _ref10.loadingText,\n        rest = _objectWithoutProperties(_ref10, ['className', 'loading', 'loadingText']);\n\n    return React.createElement('div', _extends({\n      className: classnames('-loading', {\n        '-active': loading\n      }, className)\n    }, rest), React.createElement('div', {\n      className: '-loading-inner'\n    }, loadingText));\n  },\n  NoDataComponent: _.makeTemplateComponent('rt-noData', 'NoData'),\n  ResizerComponent: _.makeTemplateComponent('rt-resizer', 'Resizer'),\n  PadRowComponent: function PadRowComponent() {\n    return React.createElement('span', null, '\\xA0');\n  }\n};","import PropTypes from 'prop-types';\nexport default {\n  // General\n  data: PropTypes.any,\n  loading: PropTypes.bool,\n  showPagination: PropTypes.bool,\n  showPaginationTop: PropTypes.bool,\n  showPaginationBottom: PropTypes.bool,\n  showPageSizeOptions: PropTypes.bool,\n  pageSizeOptions: PropTypes.array,\n  defaultPageSize: PropTypes.number,\n  showPageJump: PropTypes.bool,\n  collapseOnSortingChange: PropTypes.bool,\n  collapseOnPageChange: PropTypes.bool,\n  collapseOnDataChange: PropTypes.bool,\n  freezeWhenExpanded: PropTypes.bool,\n  sortable: PropTypes.bool,\n  resizable: PropTypes.bool,\n  filterable: PropTypes.bool,\n  defaultSortDesc: PropTypes.bool,\n  defaultSorted: PropTypes.array,\n  defaultFiltered: PropTypes.array,\n  defaultResized: PropTypes.array,\n  defaultExpanded: PropTypes.object,\n  defaultFilterMethod: PropTypes.func,\n  defaultSortMethod: PropTypes.func,\n  // Controlled State Callbacks\n  onPageChange: PropTypes.func,\n  onPageSizeChange: PropTypes.func,\n  onSortedChange: PropTypes.func,\n  onFilteredChange: PropTypes.func,\n  onResizedChange: PropTypes.func,\n  onExpandedChange: PropTypes.func,\n  // Pivoting\n  pivotBy: PropTypes.array,\n  // Key Constants\n  pivotValKey: PropTypes.string,\n  pivotIDKey: PropTypes.string,\n  subRowsKey: PropTypes.string,\n  aggregatedKey: PropTypes.string,\n  nestingLevelKey: PropTypes.string,\n  originalKey: PropTypes.string,\n  indexKey: PropTypes.string,\n  groupedByPivotKey: PropTypes.string,\n  // Server-side Callbacks\n  onFetchData: PropTypes.func,\n  // Classes\n  className: PropTypes.string,\n  style: PropTypes.object,\n  // Component decorators\n  getProps: PropTypes.func,\n  getTableProps: PropTypes.func,\n  getTheadGroupProps: PropTypes.func,\n  getTheadGroupTrProps: PropTypes.func,\n  getTheadGroupThProps: PropTypes.func,\n  getTheadProps: PropTypes.func,\n  getTheadTrProps: PropTypes.func,\n  getTheadThProps: PropTypes.func,\n  getTheadFilterProps: PropTypes.func,\n  getTheadFilterTrProps: PropTypes.func,\n  getTheadFilterThProps: PropTypes.func,\n  getTbodyProps: PropTypes.func,\n  getTrGroupProps: PropTypes.func,\n  getTrProps: PropTypes.func,\n  getTdProps: PropTypes.func,\n  getTfootProps: PropTypes.func,\n  getTfootTrProps: PropTypes.func,\n  getTfootTdProps: PropTypes.func,\n  getPaginationProps: PropTypes.func,\n  getLoadingProps: PropTypes.func,\n  getNoDataProps: PropTypes.func,\n  getResizerProps: PropTypes.func,\n  // Global Column Defaults\n  columns: PropTypes.arrayOf(PropTypes.shape({\n    // Renderers\n    Cell: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Header: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Footer: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Aggregated: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Pivot: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    PivotValue: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Expander: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Filter: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    // All Columns\n    sortable: PropTypes.bool,\n    // use table default\n    resizable: PropTypes.bool,\n    // use table default\n    filterable: PropTypes.bool,\n    // use table default\n    show: PropTypes.bool,\n    minWidth: PropTypes.number,\n    minResizeWidth: PropTypes.number,\n    // Cells only\n    className: PropTypes.string,\n    style: PropTypes.object,\n    getProps: PropTypes.func,\n    // Pivot only\n    aggregate: PropTypes.func,\n    // Headers only\n    headerClassName: PropTypes.string,\n    headerStyle: PropTypes.object,\n    getHeaderProps: PropTypes.func,\n    // Footers only\n    footerClassName: PropTypes.string,\n    footerStyle: PropTypes.object,\n    getFooterProps: PropTypes.func,\n    filterMethod: PropTypes.func,\n    filterAll: PropTypes.bool,\n    sortMethod: PropTypes.func\n  })),\n  // Global Expander Column Defaults\n  expanderDefaults: PropTypes.shape({\n    sortable: PropTypes.bool,\n    resizable: PropTypes.bool,\n    filterable: PropTypes.bool,\n    width: PropTypes.number\n  }),\n  pivotDefaults: PropTypes.object,\n  // Text\n  previousText: PropTypes.node,\n  nextText: PropTypes.node,\n  loadingText: PropTypes.node,\n  noDataText: PropTypes.node,\n  pageText: PropTypes.node,\n  ofText: PropTypes.node,\n  rowsText: PropTypes.node,\n  pageJumpText: PropTypes.node,\n  rowsSelectorText: PropTypes.node,\n  // Components\n  TableComponent: PropTypes.elementType,\n  TheadComponent: PropTypes.elementType,\n  TbodyComponent: PropTypes.elementType,\n  TrGroupComponent: PropTypes.elementType,\n  TrComponent: PropTypes.elementType,\n  ThComponent: PropTypes.elementType,\n  TdComponent: PropTypes.elementType,\n  TfootComponent: PropTypes.elementType,\n  FilterComponent: PropTypes.elementType,\n  ExpanderComponent: PropTypes.elementType,\n  PivotValueComponent: PropTypes.elementType,\n  AggregatedComponent: PropTypes.elementType,\n  // this is a computed default generated using\n  PivotComponent: PropTypes.elementType,\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: PropTypes.elementType,\n  PreviousComponent: PropTypes.elementType,\n  NextComponent: PropTypes.elementType,\n  LoadingComponent: PropTypes.elementType,\n  NoDataComponent: PropTypes.elementType,\n  ResizerComponent: PropTypes.elementType,\n  PadRowComponent: PropTypes.elementType\n};","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport classnames from 'classnames'; //\n\nimport _ from './utils';\nimport Lifecycle from './lifecycle';\nimport Methods from './methods';\nimport defaultProps from './defaultProps';\nimport propTypes from './propTypes';\nexport var ReactTableDefaults = defaultProps;\n\nvar ReactTable = function (_Methods) {\n  _inherits(ReactTable, _Methods);\n\n  function ReactTable(props) {\n    _classCallCheck(this, ReactTable);\n\n    var _this = _possibleConstructorReturn(this, (ReactTable.__proto__ || Object.getPrototypeOf(ReactTable)).call(this, props));\n\n    _this.getResolvedState = _this.getResolvedState.bind(_this);\n    _this.getDataModel = _this.getDataModel.bind(_this);\n    _this.getSortedData = _this.getSortedData.bind(_this);\n    _this.fireFetchData = _this.fireFetchData.bind(_this);\n    _this.getPropOrState = _this.getPropOrState.bind(_this);\n    _this.getStateOrProp = _this.getStateOrProp.bind(_this);\n    _this.filterData = _this.filterData.bind(_this);\n    _this.sortData = _this.sortData.bind(_this);\n    _this.getMinRows = _this.getMinRows.bind(_this);\n    _this.onPageChange = _this.onPageChange.bind(_this);\n    _this.onPageSizeChange = _this.onPageSizeChange.bind(_this);\n    _this.sortColumn = _this.sortColumn.bind(_this);\n    _this.filterColumn = _this.filterColumn.bind(_this);\n    _this.resizeColumnStart = _this.resizeColumnStart.bind(_this);\n    _this.resizeColumnEnd = _this.resizeColumnEnd.bind(_this);\n    _this.resizeColumnMoving = _this.resizeColumnMoving.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTable, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var resolvedState = this.getResolvedState();\n      var children = resolvedState.children,\n          className = resolvedState.className,\n          style = resolvedState.style,\n          getProps = resolvedState.getProps,\n          getTableProps = resolvedState.getTableProps,\n          getTheadGroupProps = resolvedState.getTheadGroupProps,\n          getTheadGroupTrProps = resolvedState.getTheadGroupTrProps,\n          getTheadGroupThProps = resolvedState.getTheadGroupThProps,\n          getTheadProps = resolvedState.getTheadProps,\n          getTheadTrProps = resolvedState.getTheadTrProps,\n          getTheadThProps = resolvedState.getTheadThProps,\n          getTheadFilterProps = resolvedState.getTheadFilterProps,\n          getTheadFilterTrProps = resolvedState.getTheadFilterTrProps,\n          getTheadFilterThProps = resolvedState.getTheadFilterThProps,\n          getTbodyProps = resolvedState.getTbodyProps,\n          getTrGroupProps = resolvedState.getTrGroupProps,\n          getTrProps = resolvedState.getTrProps,\n          getTdProps = resolvedState.getTdProps,\n          getTfootProps = resolvedState.getTfootProps,\n          getTfootTrProps = resolvedState.getTfootTrProps,\n          getTfootTdProps = resolvedState.getTfootTdProps,\n          getPaginationProps = resolvedState.getPaginationProps,\n          getLoadingProps = resolvedState.getLoadingProps,\n          getNoDataProps = resolvedState.getNoDataProps,\n          getResizerProps = resolvedState.getResizerProps,\n          showPagination = resolvedState.showPagination,\n          showPaginationTop = resolvedState.showPaginationTop,\n          showPaginationBottom = resolvedState.showPaginationBottom,\n          manual = resolvedState.manual,\n          loadingText = resolvedState.loadingText,\n          noDataText = resolvedState.noDataText,\n          sortable = resolvedState.sortable,\n          multiSort = resolvedState.multiSort,\n          resizable = resolvedState.resizable,\n          filterable = resolvedState.filterable,\n          pivotIDKey = resolvedState.pivotIDKey,\n          pivotValKey = resolvedState.pivotValKey,\n          pivotBy = resolvedState.pivotBy,\n          subRowsKey = resolvedState.subRowsKey,\n          aggregatedKey = resolvedState.aggregatedKey,\n          originalKey = resolvedState.originalKey,\n          indexKey = resolvedState.indexKey,\n          groupedByPivotKey = resolvedState.groupedByPivotKey,\n          loading = resolvedState.loading,\n          pageSize = resolvedState.pageSize,\n          page = resolvedState.page,\n          sorted = resolvedState.sorted,\n          filtered = resolvedState.filtered,\n          resized = resolvedState.resized,\n          expanded = resolvedState.expanded,\n          pages = resolvedState.pages,\n          onExpandedChange = resolvedState.onExpandedChange,\n          TableComponent = resolvedState.TableComponent,\n          TheadComponent = resolvedState.TheadComponent,\n          TbodyComponent = resolvedState.TbodyComponent,\n          TrGroupComponent = resolvedState.TrGroupComponent,\n          TrComponent = resolvedState.TrComponent,\n          ThComponent = resolvedState.ThComponent,\n          TdComponent = resolvedState.TdComponent,\n          TfootComponent = resolvedState.TfootComponent,\n          PaginationComponent = resolvedState.PaginationComponent,\n          LoadingComponent = resolvedState.LoadingComponent,\n          SubComponent = resolvedState.SubComponent,\n          NoDataComponent = resolvedState.NoDataComponent,\n          ResizerComponent = resolvedState.ResizerComponent,\n          ExpanderComponent = resolvedState.ExpanderComponent,\n          PivotValueComponent = resolvedState.PivotValueComponent,\n          PivotComponent = resolvedState.PivotComponent,\n          AggregatedComponent = resolvedState.AggregatedComponent,\n          FilterComponent = resolvedState.FilterComponent,\n          PadRowComponent = resolvedState.PadRowComponent,\n          resolvedData = resolvedState.resolvedData,\n          allVisibleColumns = resolvedState.allVisibleColumns,\n          headerGroups = resolvedState.headerGroups,\n          hasHeaderGroups = resolvedState.hasHeaderGroups,\n          sortedData = resolvedState.sortedData,\n          currentlyResizing = resolvedState.currentlyResizing; // Pagination\n\n      var startRow = pageSize * page;\n      var endRow = startRow + pageSize;\n      var pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow);\n      var minRows = this.getMinRows();\n\n      var padRows = _.range(Math.max(minRows - pageRows.length, 0));\n\n      var hasColumnFooter = allVisibleColumns.some(function (d) {\n        return d.Footer;\n      });\n      var hasFilters = filterable || allVisibleColumns.some(function (d) {\n        return d.filterable;\n      });\n\n      var recurseRowsViewIndex = function recurseRowsViewIndex(rows) {\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n        return [rows.map(function (row, i) {\n          index += 1;\n\n          var rowWithViewIndex = _extends({}, row, {\n            _viewIndex: index\n          });\n\n          var newPath = path.concat([i]);\n\n          if (rowWithViewIndex[subRowsKey] && _.get(expanded, newPath)) {\n            var _recurseRowsViewIndex = recurseRowsViewIndex(rowWithViewIndex[subRowsKey], newPath, index);\n\n            var _recurseRowsViewIndex2 = _slicedToArray(_recurseRowsViewIndex, 2);\n\n            rowWithViewIndex[subRowsKey] = _recurseRowsViewIndex2[0];\n            index = _recurseRowsViewIndex2[1];\n          }\n\n          return rowWithViewIndex;\n        }), index];\n      };\n\n      var _recurseRowsViewIndex3 = recurseRowsViewIndex(pageRows);\n\n      var _recurseRowsViewIndex4 = _slicedToArray(_recurseRowsViewIndex3, 1);\n\n      pageRows = _recurseRowsViewIndex4[0];\n      var canPrevious = page > 0;\n      var canNext = page + 1 < pages;\n\n      var rowMinWidth = _.sum(allVisibleColumns.map(function (d) {\n        var resizedColumn = resized.find(function (x) {\n          return x.id === d.id;\n        }) || {};\n        return _.getFirstDefined(resizedColumn.value, d.width, d.minWidth);\n      }));\n\n      var rowIndex = -1;\n\n      var finalState = _extends({}, resolvedState, {\n        startRow: startRow,\n        endRow: endRow,\n        pageRows: pageRows,\n        minRows: minRows,\n        padRows: padRows,\n        hasColumnFooter: hasColumnFooter,\n        canPrevious: canPrevious,\n        canNext: canNext,\n        rowMinWidth: rowMinWidth\n      });\n\n      var rootProps = _.splitProps(getProps(finalState, undefined, undefined, this));\n\n      var tableProps = _.splitProps(getTableProps(finalState, undefined, undefined, this));\n\n      var tBodyProps = _.splitProps(getTbodyProps(finalState, undefined, undefined, this));\n\n      var loadingProps = getLoadingProps(finalState, undefined, undefined, this);\n      var noDataProps = getNoDataProps(finalState, undefined, undefined, this); // Visual Components\n\n      var makeHeaderGroup = function makeHeaderGroup(column, i) {\n        var resizedValue = function resizedValue(col) {\n          return (resized.find(function (x) {\n            return x.id === col.id;\n          }) || {}).value;\n        };\n\n        var flex = _.sum(column.columns.map(function (col) {\n          return col.width || resizedValue(col) ? 0 : col.minWidth;\n        }));\n\n        var width = _.sum(column.columns.map(function (col) {\n          return _.getFirstDefined(resizedValue(col), col.width, col.minWidth);\n        }));\n\n        var maxWidth = _.sum(column.columns.map(function (col) {\n          return _.getFirstDefined(resizedValue(col), col.width, col.maxWidth);\n        }));\n\n        var theadGroupThProps = _.splitProps(getTheadGroupThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadGroupThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadGroupThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadGroupThProps.rest, columnHeaderProps.rest);\n\n        var flexStyles = {\n          flex: flex + ' 0 auto',\n          width: _.asPx(width),\n          maxWidth: _.asPx(maxWidth)\n        };\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes),\n          style: _extends({}, styles, flexStyles)\n        }, rest), _.normalizeComponent(column.Header, {\n          data: sortedData,\n          column: column\n        }));\n      };\n\n      var makeHeaderGroups = function makeHeaderGroups() {\n        var theadGroupProps = _.splitProps(getTheadGroupProps(finalState, undefined, undefined, _this2));\n\n        var theadGroupTrProps = _.splitProps(getTheadGroupTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-headerGroups', theadGroupProps.className),\n          style: _extends({}, theadGroupProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadGroupProps.rest), React.createElement(TrComponent, _extends({\n          className: theadGroupTrProps.className,\n          style: theadGroupTrProps.style\n        }, theadGroupTrProps.rest), headerGroups.map(makeHeaderGroup)));\n      };\n\n      var makeHeader = function makeHeader(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var sort = sorted.find(function (d) {\n          return d.id === column.id;\n        });\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var theadThProps = _.splitProps(getTheadThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadThProps.rest, columnHeaderProps.rest);\n\n        var isResizable = _.getFirstDefined(column.resizable, resizable, false);\n\n        var resizer = isResizable ? React.createElement(ResizerComponent, _extends({\n          onMouseDown: function onMouseDown(e) {\n            return _this2.resizeColumnStart(e, column, false);\n          },\n          onTouchStart: function onTouchStart(e) {\n            return _this2.resizeColumnStart(e, column, true);\n          }\n        }, getResizerProps('finalState', undefined, column, _this2))) : null;\n\n        var isSortable = _.getFirstDefined(column.sortable, sortable, false);\n\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, isResizable && 'rt-resizable-header', sort ? sort.desc ? '-sort-desc' : '-sort-asc' : '', isSortable && '-cursor-pointer', !show && '-hidden', pivotBy && pivotBy.slice(0, -1).includes(column.id) && 'rt-header-pivot'),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          }),\n          toggleSort: function toggleSort(e) {\n            if (isSortable) _this2.sortColumn(column, multiSort ? e.shiftKey : false);\n          }\n        }, rest), React.createElement('div', {\n          className: classnames(isResizable && 'rt-resizable-header-content')\n        }, _.normalizeComponent(column.Header, {\n          data: sortedData,\n          column: column\n        })), resizer);\n      };\n\n      var makeHeaders = function makeHeaders() {\n        var theadProps = _.splitProps(getTheadProps(finalState, undefined, undefined, _this2));\n\n        var theadTrProps = _.splitProps(getTheadTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-header', theadProps.className),\n          style: _extends({}, theadProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadProps.rest), React.createElement(TrComponent, _extends({\n          className: theadTrProps.className,\n          style: theadTrProps.style\n        }, theadTrProps.rest), allVisibleColumns.map(makeHeader)));\n      };\n\n      var makeFilter = function makeFilter(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var theadFilterThProps = _.splitProps(getTheadFilterThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadFilterThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadFilterThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadFilterThProps.rest, columnHeaderProps.rest);\n\n        var filter = filtered.find(function (filter) {\n          return filter.id === column.id;\n        });\n        var ResolvedFilterComponent = column.Filter || FilterComponent;\n\n        var isFilterable = _.getFirstDefined(column.filterable, filterable, false);\n\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, rest), isFilterable ? _.normalizeComponent(ResolvedFilterComponent, {\n          column: column,\n          filter: filter,\n          onChange: function onChange(value) {\n            return _this2.filterColumn(column, value);\n          }\n        }, defaultProps.column.Filter) : null);\n      };\n\n      var makeFilters = function makeFilters() {\n        var theadFilterProps = _.splitProps(getTheadFilterProps(finalState, undefined, undefined, _this2));\n\n        var theadFilterTrProps = _.splitProps(getTheadFilterTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-filters', theadFilterProps.className),\n          style: _extends({}, theadFilterProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadFilterProps.rest), React.createElement(TrComponent, _extends({\n          className: theadFilterTrProps.className,\n          style: theadFilterTrProps.style\n        }, theadFilterTrProps.rest), allVisibleColumns.map(makeFilter)));\n      };\n\n      var makePageRow = function makePageRow(row, i) {\n        var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        var rowInfo = {\n          original: row[originalKey],\n          row: row,\n          index: row[indexKey],\n          viewIndex: rowIndex += 1,\n          pageSize: pageSize,\n          page: page,\n          level: path.length,\n          nestingPath: path.concat([i]),\n          aggregated: row[aggregatedKey],\n          groupedByPivot: row[groupedByPivotKey],\n          subRows: row[subRowsKey]\n        };\n\n        var isExpanded = _.get(expanded, rowInfo.nestingPath);\n\n        var trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, _this2);\n\n        var trProps = _.splitProps(getTrProps(finalState, rowInfo, undefined, _this2));\n\n        return React.createElement(TrGroupComponent, _extends({\n          key: rowInfo.nestingPath.join('_')\n        }, trGroupProps), React.createElement(TrComponent, _extends({\n          className: classnames(trProps.className, row._viewIndex % 2 ? '-even' : '-odd'),\n          style: trProps.style\n        }, trProps.rest), allVisibleColumns.map(function (column, i2) {\n          var resizedCol = resized.find(function (x) {\n            return x.id === column.id;\n          }) || {};\n          var show = typeof column.show === 'function' ? column.show() : column.show;\n\n          var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n          var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n          var tdProps = _.splitProps(getTdProps(finalState, rowInfo, column, _this2));\n\n          var columnProps = _.splitProps(column.getProps(finalState, rowInfo, column, _this2));\n\n          var classes = [tdProps.className, column.className, columnProps.className];\n\n          var styles = _extends({}, tdProps.style, column.style, columnProps.style);\n\n          var cellInfo = _extends({}, rowInfo, {\n            isExpanded: isExpanded,\n            column: _extends({}, column),\n            value: rowInfo.row[column.id],\n            pivoted: column.pivoted,\n            expander: column.expander,\n            resized: resized,\n            show: show,\n            width: width,\n            maxWidth: maxWidth,\n            tdProps: tdProps,\n            columnProps: columnProps,\n            classes: classes,\n            styles: styles\n          });\n\n          var value = cellInfo.value;\n          var useOnExpanderClick = void 0;\n          var isBranch = void 0;\n          var isPreview = void 0;\n\n          var onExpanderClick = function onExpanderClick(e) {\n            var newExpanded = _.clone(expanded);\n\n            if (isExpanded) {\n              newExpanded = _.set(newExpanded, cellInfo.nestingPath, false);\n            } else {\n              newExpanded = _.set(newExpanded, cellInfo.nestingPath, {});\n            }\n\n            return _this2.setStateWithData({\n              expanded: newExpanded\n            }, function () {\n              return onExpandedChange && onExpandedChange(newExpanded, cellInfo.nestingPath, e, cellInfo);\n            });\n          }; // Default to a standard cell\n\n\n          var resolvedCell = _.normalizeComponent(column.Cell, cellInfo, value); // Resolve Renderers\n\n\n          var ResolvedAggregatedComponent = column.Aggregated || (!column.aggregate ? AggregatedComponent : column.Cell);\n          var ResolvedExpanderComponent = column.Expander || ExpanderComponent;\n          var ResolvedPivotValueComponent = column.PivotValue || PivotValueComponent;\n\n          var DefaultResolvedPivotComponent = PivotComponent || function (props) {\n            return React.createElement('div', null, React.createElement(ResolvedExpanderComponent, props), React.createElement(ResolvedPivotValueComponent, props));\n          };\n\n          var ResolvedPivotComponent = column.Pivot || DefaultResolvedPivotComponent; // Is this cell expandable?\n\n          if (cellInfo.pivoted || cellInfo.expander) {\n            // Make it expandable by defualt\n            cellInfo.expandable = true;\n            useOnExpanderClick = true; // If pivoted, has no subRows, and does not have a subComponent,\n            // do not make expandable\n\n            if (cellInfo.pivoted && !cellInfo.subRows && !SubComponent) {\n              cellInfo.expandable = false;\n            }\n          }\n\n          if (cellInfo.pivoted) {\n            // Is this column a branch?\n            isBranch = rowInfo.row[pivotIDKey] === column.id && cellInfo.subRows; // Should this column be blank?\n\n            isPreview = pivotBy.indexOf(column.id) > pivotBy.indexOf(rowInfo.row[pivotIDKey]) && cellInfo.subRows; // Pivot Cell Render Override\n\n            if (isBranch) {\n              // isPivot\n              resolvedCell = _.normalizeComponent(ResolvedPivotComponent, _extends({}, cellInfo, {\n                value: row[pivotValKey]\n              }), row[pivotValKey]);\n            } else if (isPreview) {\n              // Show the pivot preview\n              resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n            } else {\n              resolvedCell = null;\n            }\n          } else if (cellInfo.aggregated) {\n            resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n          }\n\n          if (cellInfo.expander) {\n            resolvedCell = _.normalizeComponent(ResolvedExpanderComponent, cellInfo, row[pivotValKey]);\n\n            if (pivotBy) {\n              if (cellInfo.groupedByPivot) {\n                resolvedCell = null;\n              }\n\n              if (!cellInfo.subRows && !SubComponent) {\n                resolvedCell = null;\n              }\n            }\n          }\n\n          var resolvedOnExpanderClick = useOnExpanderClick ? onExpanderClick : function () {}; // If there are multiple onClick events, make sure they don't\n          // override eachother. This should maybe be expanded to handle all\n          // function attributes\n\n          var interactionProps = {\n            onClick: resolvedOnExpanderClick\n          };\n\n          if (tdProps.rest.onClick) {\n            interactionProps.onClick = function (e) {\n              tdProps.rest.onClick(e, function () {\n                return resolvedOnExpanderClick(e);\n              });\n            };\n          }\n\n          if (columnProps.rest.onClick) {\n            interactionProps.onClick = function (e) {\n              columnProps.rest.onClick(e, function () {\n                return resolvedOnExpanderClick(e);\n              });\n            };\n          } // Return the cell\n\n\n          return React.createElement(TdComponent // eslint-disable-next-line react/no-array-index-key\n          , _extends({\n            key: i2 + '-' + column.id,\n            className: classnames(classes, !cellInfo.expandable && !show && 'hidden', cellInfo.expandable && 'rt-expandable', (isBranch || isPreview) && 'rt-pivot'),\n            style: _extends({}, styles, {\n              flex: width + ' 0 auto',\n              width: _.asPx(width),\n              maxWidth: _.asPx(maxWidth)\n            })\n          }, tdProps.rest, columnProps.rest, interactionProps), resolvedCell);\n        })), rowInfo.subRows && isExpanded && rowInfo.subRows.map(function (d, i) {\n          return makePageRow(d, i, rowInfo.nestingPath);\n        }), SubComponent && !rowInfo.subRows && isExpanded && SubComponent(rowInfo, function () {\n          var newExpanded = _.clone(expanded);\n\n          _.set(newExpanded, rowInfo.nestingPath, false);\n        }));\n      };\n\n      var makePadColumn = function makePadColumn(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var flex = width;\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var tdProps = _.splitProps(getTdProps(finalState, undefined, column, _this2));\n\n        var columnProps = _.splitProps(column.getProps(finalState, undefined, column, _this2));\n\n        var classes = [tdProps.className, column.className, columnProps.className];\n\n        var styles = _extends({}, tdProps.style, column.style, columnProps.style);\n\n        return React.createElement(TdComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, !show && 'hidden'),\n          style: _extends({}, styles, {\n            flex: flex + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, tdProps.rest), _.normalizeComponent(PadRowComponent));\n      };\n\n      var makePadRow = function makePadRow(row, i) {\n        var trGroupProps = getTrGroupProps(finalState, undefined, undefined, _this2);\n\n        var trProps = _.splitProps(getTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TrGroupComponent, _extends({\n          key: 'pad-' + i\n        }, trGroupProps), React.createElement(TrComponent, {\n          className: classnames('-padRow', (pageRows.length + i) % 2 ? '-even' : '-odd', trProps.className),\n          style: trProps.style || {}\n        }, allVisibleColumns.map(makePadColumn)));\n      };\n\n      var makeColumnFooter = function makeColumnFooter(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var tFootTdProps = _.splitProps(getTfootTdProps(finalState, undefined, column, _this2));\n\n        var columnProps = _.splitProps(column.getProps(finalState, undefined, column, _this2));\n\n        var columnFooterProps = _.splitProps(column.getFooterProps(finalState, undefined, column, _this2));\n\n        var classes = [tFootTdProps.className, column.className, columnProps.className, columnFooterProps.className];\n\n        var styles = _extends({}, tFootTdProps.style, column.style, columnProps.style, columnFooterProps.style);\n\n        return React.createElement(TdComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, !show && 'hidden'),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, columnProps.rest, tFootTdProps.rest, columnFooterProps.rest), _.normalizeComponent(column.Footer, {\n          data: sortedData,\n          column: column\n        }));\n      };\n\n      var makeColumnFooters = function makeColumnFooters() {\n        var tFootProps = _.splitProps(getTfootProps(finalState, undefined, undefined, _this2));\n\n        var tFootTrProps = _.splitProps(getTfootTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TfootComponent, _extends({\n          className: tFootProps.className,\n          style: _extends({}, tFootProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, tFootProps.rest), React.createElement(TrComponent, _extends({\n          className: classnames(tFootTrProps.className),\n          style: tFootTrProps.style\n        }, tFootTrProps.rest), allVisibleColumns.map(makeColumnFooter)));\n      };\n\n      var makePagination = function makePagination(isTop) {\n        var paginationProps = _.splitProps(getPaginationProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(PaginationComponent, _extends({}, resolvedState, {\n          pages: pages,\n          canPrevious: canPrevious,\n          canNext: canNext,\n          onPageChange: _this2.onPageChange,\n          onPageSizeChange: _this2.onPageSizeChange,\n          className: paginationProps.className,\n          style: paginationProps.style,\n          isTop: isTop\n        }, paginationProps.rest));\n      };\n\n      var makeTable = function makeTable() {\n        return React.createElement('div', _extends({\n          className: classnames('ReactTable', className, rootProps.className),\n          style: _extends({}, style, rootProps.style)\n        }, rootProps.rest), showPagination && showPaginationTop ? React.createElement('div', {\n          className: 'pagination-top'\n        }, makePagination(true)) : null, React.createElement(TableComponent, _extends({\n          className: classnames(tableProps.className, currentlyResizing ? 'rt-resizing' : ''),\n          style: tableProps.style\n        }, tableProps.rest), hasHeaderGroups ? makeHeaderGroups() : null, makeHeaders(), hasFilters ? makeFilters() : null, React.createElement(TbodyComponent, _extends({\n          className: classnames(tBodyProps.className),\n          style: _extends({}, tBodyProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, tBodyProps.rest), pageRows.map(function (d, i) {\n          return makePageRow(d, i);\n        }), padRows.map(makePadRow)), hasColumnFooter ? makeColumnFooters() : null), showPagination && showPaginationBottom ? React.createElement('div', {\n          className: 'pagination-bottom'\n        }, makePagination(false)) : null, !pageRows.length && React.createElement(NoDataComponent, noDataProps, _.normalizeComponent(noDataText)), React.createElement(LoadingComponent, _extends({\n          loading: loading,\n          loadingText: loadingText\n        }, loadingProps)));\n      }; // childProps are optionally passed to a function-as-a-child\n\n\n      return children ? children(finalState, makeTable, this) : makeTable();\n    }\n  }]);\n\n  return ReactTable;\n}(Methods(Lifecycle(Component)));\n\nReactTable.propTypes = propTypes;\nReactTable.defaultProps = defaultProps;\nexport default ReactTable;","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.math.log10\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component } from 'react';\nimport ReactTable from 'react-table';\nimport '../react-table.css';\n\nfunction getPercent(score) {\n  var logScore = Math.min(Math.max(Math.log10(score) - 5, 0), 5);\n  var percent = Math.min(Math.max(logScore * 33.3333333, 5), 100);\n  return percent;\n}\n\nvar GREEN = '#85cc00';\nvar ORANGE = '#ffbf00';\nvar RED = '#ff2e00';\n\nfunction Star() {\n  return React.createElement(\"span\", {\n    style: {\n      fontSize: '100%',\n      color: 'yellow'\n    }\n  }, \"\\u2605\");\n}\n\nfunction BarCell(_ref) {\n  var color = _ref.color,\n      percent = _ref.percent,\n      _ref$stars = _ref.stars,\n      stars = _ref$stars === void 0 ? 0 : _ref$stars,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? [] : _ref$children;\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: '100%',\n      backgroundColor: '#dadada',\n      borderRadius: '2px'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      width: \"\".concat(percent, \"%\"),\n      height: '100%',\n      backgroundColor: color,\n      borderRadius: '2px',\n      transition: 'all .2s ease-out'\n    }\n  }, new Array(stars).fill(null).map(function (_, i) {\n    return React.createElement(Star, {\n      key: \"\".concat(i)\n    });\n  }), children));\n}\n\nfunction PerformanceBarCell(_ref2) {\n  var row = _ref2.row;\n  var score = row.score;\n  var percent = getPercent(score);\n  var stars = Math.floor((score || 0) / 5e7);\n  var color = GREEN;\n\n  if (percent < getPercent(1e7)) {\n    color = ORANGE;\n  }\n\n  if (percent < getPercent(1e6)) {\n    color = RED;\n  }\n\n  return percent ? React.createElement(BarCell, {\n    color: color,\n    percent: percent,\n    stars: stars\n  }) : null;\n}\n\nexport var BenchResults = function (_Component) {\n  _inherits(BenchResults, _Component);\n\n  var _super = _createSuper(BenchResults);\n\n  function BenchResults() {\n    _classCallCheck(this, BenchResults);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BenchResults, [{\n    key: \"_renderTable\",\n    value: function _renderTable() {\n      var log = this.props.log;\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          height: 22\n        }\n      }, React.createElement(BarCell, {\n        color: RED,\n        percent: 100\n      }, ' ', \"< 1M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: ORANGE,\n        percent: 100\n      }, \"1M - 10M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: GREEN,\n        percent: 100\n      }, \"> 10M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: GREEN,\n        percent: 100\n      }, React.createElement(Star, null), \"50M iterations/s\")), React.createElement(ReactTable, {\n        data: log,\n        columns: [{\n          Header: 'Id',\n          accessor: 'id',\n          Cell: function Cell(_ref3) {\n            var row = _ref3.row;\n            return row.formattedValue ? row.id : React.createElement(\"h3\", null, row.id.replace(/@math\\.gl\\/[a-zA-Z]*: /, ''));\n          }\n        }, {\n          Header: 'iter/s',\n          accessor: 'formattedValue',\n          maxWidth: 85\n        }, {\n          Header: 'Score',\n          accessor: 'value',\n          id: 'score',\n          Cell: PerformanceBarCell,\n          maxWidth: 300\n        }],\n        showPagination: false,\n        manual: true,\n        className: \"-striped -highlight\"\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, this._renderTable());\n    }\n  }]);\n\n  return BenchResults;\n}(Component);","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.find\";\nexport function autobind(obj) {\n  var predefined = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['constructor'];\n  var proto = Object.getPrototypeOf(obj);\n  var propNames = Object.getOwnPropertyNames(proto);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function _loop() {\n      var key = _step.value;\n\n      if (typeof obj[key] === 'function') {\n        if (!predefined.find(function (name) {\n          return key === name;\n        })) {\n          obj[key] = obj[key].bind(obj);\n        }\n      }\n    };\n\n    for (var _iterator = propNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}","import checkIfBrowser from '../env/is-browser';\nexport { self, window, global, document, process, console } from '../env/globals';\nexport var VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\nexport var isBrowser = checkIfBrowser();","import \"core-js/modules/es6.date.now\";\nimport { window, process, isBrowser } from './globals';\nexport default function getHiResTimestamp() {\n  var timestamp;\n\n  if (isBrowser && window.performance) {\n    timestamp = window.performance.now();\n  } else if (process.hrtime) {\n    var timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}","import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction getStorage(type) {\n  try {\n    var storage = window[type];\n    var x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return storage;\n  } catch (e) {\n    return null;\n  }\n}\n\nvar LocalStorage = function () {\n  function LocalStorage(id, defaultSettings) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'sessionStorage';\n\n    _classCallCheck(this, LocalStorage);\n\n    this.storage = getStorage(type);\n    this.id = id;\n    this.config = {};\n    Object.assign(this.config, defaultSettings);\n\n    this._loadConfiguration();\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"getConfiguration\",\n    value: function getConfiguration() {\n      return this.config;\n    }\n  }, {\n    key: \"setConfiguration\",\n    value: function setConfiguration(configuration) {\n      this.config = {};\n      return this.updateConfiguration(configuration);\n    }\n  }, {\n    key: \"updateConfiguration\",\n    value: function updateConfiguration(configuration) {\n      Object.assign(this.config, configuration);\n\n      if (this.storage) {\n        var serialized = JSON.stringify(this.config);\n        this.storage.setItem(this.id, serialized);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_loadConfiguration\",\n    value: function _loadConfiguration() {\n      var configuration = {};\n\n      if (this.storage) {\n        var serializedConfiguration = this.storage.getItem(this.id);\n        configuration = serializedConfiguration ? JSON.parse(serializedConfiguration) : {};\n      }\n\n      Object.assign(this.config, configuration);\n      return this;\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nexport { LocalStorage as default };","export function formatSI(number) {\n  var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n\n  var _splitIntoBaseAndExpo = splitIntoBaseAndExponent(number),\n      base = _splitIntoBaseAndExpo.base,\n      exponent = _splitIntoBaseAndExpo.exponent;\n\n  var multipleOf3 = Math.floor(exponent / 3);\n  var remaining = exponent - multipleOf3 * 3;\n  var digits = base * Math.pow(10, remaining);\n  return \"\".concat(digits.toPrecision(precision)).concat(getSISuffix(multipleOf3));\n}\n\nfunction getSISuffix(multipleOf3) {\n  var SI_SUFFIXES = {\n    0: '',\n    1: 'K',\n    2: 'M',\n    3: 'G',\n    '-1': 'm',\n    '-2': 'µ',\n    '-3': 'n'\n  };\n  var key = String(multipleOf3);\n  return key in SI_SUFFIXES ? SI_SUFFIXES[key] : \"e\".concat(multipleOf3 * 3);\n}\n\nfunction splitIntoBaseAndExponent(number) {\n  var base = number;\n  var exponent = 0;\n\n  if (number !== 0) {\n    while (base >= 10 || base <= -10) {\n      base /= 10;\n      exponent++;\n    }\n\n    while (base < 1 && base > -1) {\n      base *= 10;\n      exponent--;\n    }\n  }\n\n  return {\n    base: base,\n    exponent: exponent\n  };\n}","import \"core-js/modules/es6.array.reduce\";\nexport function mean(numbers) {\n  return numbers.reduce(function (sum, x) {\n    return sum + x;\n  }, 0) / numbers.length;\n}\nexport function std(numbers, _mean) {\n  if (numbers.length <= 1) {\n    return 0;\n  }\n\n  if (_mean === undefined) {\n    _mean = mean(numbers);\n  }\n\n  return Math.sqrt(numbers.reduce(function (d, x) {\n    return d + (x - _mean) * (x - _mean);\n  }, 0) / (numbers.length - 1));\n}\nexport function cv(numbers) {\n  var _mean = mean(numbers);\n\n  var _std = std(numbers, _mean);\n\n  return _std / _mean;\n}","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.string.repeat\";\nexport function formatTime(ms) {\n  var formatted;\n\n  if (ms < 10) {\n    formatted = \"\".concat(ms.toFixed(2), \"ms\");\n  } else if (ms < 100) {\n    formatted = \"\".concat(ms.toFixed(1), \"ms\");\n  } else if (ms < 1000) {\n    formatted = \"\".concat(ms.toFixed(0), \"ms\");\n  } else {\n    formatted = \"\".concat((ms / 1000).toFixed(2), \"s\");\n  }\n\n  return formatted;\n}\nexport function leftPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(' '.repeat(padLength)).concat(string);\n}\nexport function rightPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(string).concat(' '.repeat(padLength));\n}\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n\nfunction formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatImage(image, message, scale) {\n  var maxWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 600;\n  var imageUrl = image.src.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n\n  if (image.width > maxWidth) {\n    scale = Math.min(scale, maxWidth / image.width);\n  }\n\n  var width = image.width * scale;\n  var height = image.height * scale;\n  var style = ['font-size:1px;', \"padding:\".concat(Math.floor(height / 2), \"px \").concat(Math.floor(width / 2), \"px;\"), \"line-height:\".concat(height, \"px;\"), \"background:url(\".concat(imageUrl, \");\"), \"background-size:\".concat(width, \"px \").concat(height, \"px;\"), 'color:transparent;'].join('');\n  return [\"\".concat(message, \" %c+\"), style];\n}","import { rightPad } from 'probe.gl';\nvar LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\nexport function logResultsAsMarkdownTable(_ref) {\n  var entry = _ref.entry,\n      id = _ref.id,\n      itersPerSecond = _ref.itersPerSecond,\n      error = _ref.error,\n      time = _ref.time;\n  var COL1 = 50;\n  var COL2 = 12;\n\n  switch (entry) {\n    case LOG_ENTRY.GROUP:\n      console.log('');\n      console.log(\"| \".concat(rightPad(id, COL1), \" | iterations/s | error |\"));\n      console.log(\"| \".concat(rightPad('---', COL1), \" | ---          | --- |\"));\n      break;\n\n    case LOG_ENTRY.TEST:\n      console.log(\"| \".concat(rightPad(id, COL1), \" | \").concat(rightPad(itersPerSecond, COL2), \" | \\xB1\").concat((error * 100).toFixed(2), \"% |\"));\n      break;\n\n    case LOG_ENTRY.COMPLETE:\n      console.log('');\n      console.log(\"Completed benchmark in \".concat(time, \"s\"));\n      break;\n\n    default:\n  }\n}\nexport function logResultsAsTree(_ref2) {\n  var entry = _ref2.entry,\n      id = _ref2.id,\n      itersPerSecond = _ref2.itersPerSecond,\n      error = _ref2.error,\n      time = _ref2.time;\n\n  switch (entry) {\n    case LOG_ENTRY.GROUP:\n      console.log('');\n      console.log(\"\".concat(id));\n      break;\n\n    case LOG_ENTRY.TEST:\n      console.log(\"\\u251C\\u2500 \".concat(id, \": \").concat(itersPerSecond, \" iterations/s \\xB1\").concat((error * 100).toFixed(2), \"%\"));\n      break;\n\n    case LOG_ENTRY.COMPLETE:\n      console.log('');\n      console.log(\"Completed benchmark in \".concat(time, \"s\"));\n      break;\n\n    default:\n  }\n}\nexport function logResultsAsTreeWithElapsed(_ref3) {\n  var entry = _ref3.entry,\n      id = _ref3.id,\n      itersPerSecond = _ref3.itersPerSecond,\n      error = _ref3.error,\n      time = _ref3.time;\n\n  switch (entry) {\n    case LOG_ENTRY.TEST:\n      console.log(\"\\u251C\\u2500 \".concat(id, \": \").concat(itersPerSecond, \" iterations/s \\xB1\").concat((error * 100).toFixed(2), \"% (\").concat(time.toFixed(2), \"s elapsed)\"));\n      break;\n\n    default:\n      logResultsAsTree({\n        entry: entry,\n        id: id,\n        itersPerSecond: itersPerSecond,\n        time: time\n      });\n  }\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.seal\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { global, assert, autobind, LocalStorage, getHiResTimestamp } from 'probe.gl';\nimport { formatSI } from './format-utils';\nimport { mean, cv } from './stat-utils';\nimport { logResultsAsMarkdownTable, logResultsAsTree } from './bench-loggers';\n\nvar noop = function noop() {};\n\nvar TIME_THRESHOLD_MS = 80;\nvar TIME_COOLDOWN_MS = 5;\nvar MIN_ITERATIONS = 3;\nexport var LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\n\nvar Bench = function () {\n  function Bench() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref.id,\n        log = _ref.log,\n        _ref$time = _ref.time,\n        time = _ref$time === void 0 ? TIME_THRESHOLD_MS : _ref$time,\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? TIME_COOLDOWN_MS : _ref$delay,\n        _ref$minIterations = _ref.minIterations,\n        minIterations = _ref$minIterations === void 0 ? MIN_ITERATIONS : _ref$minIterations;\n\n    _classCallCheck(this, Bench);\n\n    if (!log) {\n      var markdown = global.probe && global.probe.markdown;\n      log = markdown ? logResultsAsMarkdownTable : logResultsAsTree;\n    }\n\n    this.id = id;\n    this.opts = {\n      log: log,\n      time: time,\n      delay: delay,\n      minIterations: minIterations\n    };\n    this.tests = {};\n    this.results = {};\n    this.table = {};\n    autobind(this);\n    Object.seal(this);\n  }\n\n  _createClass(Bench, [{\n    key: \"calibrate\",\n    value: function calibrate(id, func1, func2, opts) {\n      return this;\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      var _this = this;\n\n      var timeStart = getHiResTimestamp();\n      var tests = this.tests,\n          onBenchmarkComplete = this.onBenchmarkComplete;\n      var promise = runTests({\n        tests: tests,\n        onBenchmarkComplete: onBenchmarkComplete\n      });\n      promise.then(function () {\n        var elapsed = (getHiResTimestamp() - timeStart) / 1000;\n        logEntry(_this, {\n          entry: LOG_ENTRY.COMPLETE,\n          time: elapsed,\n          message: 'Complete'\n        });\n\n        _this.onSuiteComplete();\n      });\n      return promise;\n    }\n  }, {\n    key: \"group\",\n    value: function group(id) {\n      assert(!this.tests[id], 'tests need unique id strings');\n      this.tests[id] = {\n        id: id,\n        group: true,\n        opts: this.opts\n      };\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(priority, id, func1, func2) {\n      this._add(priority, id, func1, func2);\n\n      return this;\n    }\n  }, {\n    key: \"addAsync\",\n    value: function addAsync(priority, id, func1, func2) {\n      var test = this._add(priority, id, func1, func2);\n\n      test.async = true;\n      return this;\n    }\n  }, {\n    key: \"onBenchmarkComplete\",\n    value: function onBenchmarkComplete(_ref2) {\n      var id = _ref2.id,\n          time = _ref2.time,\n          iterations = _ref2.iterations,\n          itersPerSecond = _ref2.itersPerSecond;\n      var current = Math.round(iterations / time);\n      this.table[id] = {\n        percent: '',\n        iterations: \"\".concat(itersPerSecond, \"/s\"),\n        current: current,\n        max: ''\n      };\n    }\n  }, {\n    key: \"onSuiteComplete\",\n    value: function onSuiteComplete() {\n      var localStorage = new LocalStorage({\n        id: this.id\n      });\n      var saved = localStorage.getConfiguration();\n      var current = this.updateTable(this.table, saved);\n      localStorage.updateConfiguration(current);\n      console.table(current);\n    }\n  }, {\n    key: \"updateTable\",\n    value: function updateTable(current, saved) {\n      for (var id in this.table) {\n        if (saved[id] && saved[id].max !== undefined) {\n          current[id].max = Math.max(current[id].current, saved[id].max);\n          var delta = current[id].current / saved[id].max;\n          current[id].percent = \"\".concat(Math.round(delta * 100 - 100), \"%\");\n        } else {\n          current[id].max = current[id].current;\n        }\n      }\n\n      return current;\n    }\n  }, {\n    key: \"_add\",\n    value: function _add(priority, id, func1, func2) {\n      if (typeof priority === 'string') {\n        func2 = func1;\n        func1 = id;\n        id = priority;\n        priority = 0;\n      }\n\n      assert(id);\n      assert(typeof func1 === 'function');\n      var initFunc = null;\n      var testFunc = func1;\n\n      if (typeof func2 === 'function') {\n        initFunc = func1;\n        testFunc = func2;\n      }\n\n      assert(!this.tests[id], 'tests need unique id strings');\n      this.tests[id] = {\n        id: id,\n        priority: priority,\n        initFunc: initFunc,\n        testFunc: testFunc,\n        opts: this.opts\n      };\n      return this.tests[id];\n    }\n  }]);\n\n  return Bench;\n}();\n\nexport { Bench as default };\n\nfunction addDelay(timeout, func) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      return resolve();\n    }, timeout);\n  });\n}\n\nfunction runCalibrationTests(_ref3) {\n  var tests = _ref3.tests;\n\n  for (var id in tests) {\n    var test = tests[id];\n\n    if (!test.group) {\n      runBenchTestIterations(test, 1);\n    }\n  }\n}\n\nfunction logEntry(test, opts) {\n  var priority = (global.probe && global.probe.priority) | 10;\n\n  if ((opts.priority | 0) <= priority) {\n    test.opts.log(opts);\n  }\n}\n\nfunction runTests(_x) {\n  return _runTests.apply(this, arguments);\n}\n\nfunction _runTests() {\n  _runTests = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(_ref4) {\n    var tests, _ref4$onBenchmarkComp, onBenchmarkComplete, id, test;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            tests = _ref4.tests, _ref4$onBenchmarkComp = _ref4.onBenchmarkComplete, onBenchmarkComplete = _ref4$onBenchmarkComp === void 0 ? noop : _ref4$onBenchmarkComp;\n            runCalibrationTests({\n              tests: tests,\n              onBenchmarkComplete: onBenchmarkComplete\n            });\n            _context.t0 = _regeneratorRuntime.keys(tests);\n\n          case 3:\n            if ((_context.t1 = _context.t0()).done) {\n              _context.next = 14;\n              break;\n            }\n\n            id = _context.t1.value;\n            test = tests[id];\n\n            if (!test.group) {\n              _context.next = 10;\n              break;\n            }\n\n            logEntry(test, {\n              entry: LOG_ENTRY.GROUP,\n              id: test.id,\n              message: test.id\n            });\n            _context.next = 12;\n            break;\n\n          case 10:\n            _context.next = 12;\n            return runTest({\n              test: test,\n              onBenchmarkComplete: onBenchmarkComplete\n            });\n\n          case 12:\n            _context.next = 3;\n            break;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _runTests.apply(this, arguments);\n}\n\nfunction runTest(_x2) {\n  return _runTest.apply(this, arguments);\n}\n\nfunction _runTest() {\n  _runTest = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(_ref5) {\n    var test, onBenchmarkComplete, _ref5$silent, silent, result, iterationsPerSecond, time, iterations, error, itersPerSecond;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            test = _ref5.test, onBenchmarkComplete = _ref5.onBenchmarkComplete, _ref5$silent = _ref5.silent, silent = _ref5$silent === void 0 ? false : _ref5$silent;\n            _context2.next = 3;\n            return addDelay(test.opts.delay);\n\n          case 3:\n            if (!test.async) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 6;\n            return runBenchTestAsync(test);\n\n          case 6:\n            _context2.t0 = _context2.sent;\n            _context2.next = 10;\n            break;\n\n          case 9:\n            _context2.t0 = runBenchTest(test);\n\n          case 10:\n            result = _context2.t0;\n            iterationsPerSecond = result.iterationsPerSecond, time = result.time, iterations = result.iterations, error = result.error;\n            itersPerSecond = formatSI(iterationsPerSecond);\n\n            if (!silent) {\n              logEntry(test, {\n                entry: LOG_ENTRY.TEST,\n                id: test.id,\n                priority: test.priority,\n                itersPerSecond: itersPerSecond,\n                time: time,\n                error: error,\n                message: \"\".concat(test.id, \" \").concat(itersPerSecond, \"/s \\xB1\").concat((error * 100).toFixed(2), \"%\")\n              });\n            }\n\n            if (onBenchmarkComplete) {\n              onBenchmarkComplete({\n                id: test.id,\n                time: time,\n                iterations: iterations,\n                iterationsPerSecond: iterationsPerSecond,\n                itersPerSecond: itersPerSecond\n              });\n            }\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _runTest.apply(this, arguments);\n}\n\nfunction runBenchTest(test) {\n  var results = [];\n  var totalTime = 0;\n  var totalIterations = 0;\n\n  for (var i = 0; i < test.opts.minIterations; i++) {\n    var _runBenchTestTimed = runBenchTestTimed(test, test.opts.time),\n        time = _runBenchTestTimed.time,\n        iterations = _runBenchTestTimed.iterations;\n\n    var iterationsPerSecond = iterations / time;\n    results.push(iterationsPerSecond);\n    totalTime += time;\n    totalIterations += iterations;\n  }\n\n  return {\n    time: totalTime,\n    iterations: totalIterations,\n    iterationsPerSecond: mean(results),\n    error: cv(results)\n  };\n}\n\nfunction runBenchTestTimed(test, minTime) {\n  var iterations = 1;\n  var elapsedMillis = 0;\n\n  while (elapsedMillis < minTime) {\n    var multiplier = 10;\n\n    if (elapsedMillis > 10) {\n      multiplier = test.opts.time / elapsedMillis * 1.25;\n    }\n\n    iterations *= multiplier;\n    var timeStart = getHiResTimestamp();\n    runBenchTestIterations(test, iterations);\n    elapsedMillis = getHiResTimestamp() - timeStart;\n  }\n\n  var time = elapsedMillis / 1000;\n  return {\n    time: time,\n    iterations: iterations\n  };\n}\n\nfunction runBenchTestIterations(test, iterations) {\n  var testArgs = test.initFunc && test.initFunc();\n  var context = test.context,\n      testFunc = test.testFunc;\n\n  if (context && testArgs) {\n    for (var i = 0; i < iterations; i++) {\n      testFunc.call(context, testArgs);\n    }\n  } else {\n    for (var _i = 0; _i < iterations; _i++) {\n      testFunc.call(context);\n    }\n  }\n}\n\nfunction runBenchTestAsync(_x3) {\n  return _runBenchTestAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestAsync() {\n  _runBenchTestAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3(test) {\n    var results, totalTime, totalIterations, i, _ref6, time, iterations, iterationsPerSecond;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            results = [];\n            totalTime = 0;\n            totalIterations = 0;\n            i = 0;\n\n          case 4:\n            if (!(i < test.opts.minIterations)) {\n              _context3.next = 17;\n              break;\n            }\n\n            _context3.next = 7;\n            return runBenchTestTimedAsync(test, test.opts.time);\n\n          case 7:\n            _ref6 = _context3.sent;\n            time = _ref6.time;\n            iterations = _ref6.iterations;\n            iterationsPerSecond = iterations / time;\n            results.push(iterationsPerSecond);\n            totalTime += time;\n            totalIterations += iterations;\n\n          case 14:\n            i++;\n            _context3.next = 4;\n            break;\n\n          case 17:\n            return _context3.abrupt(\"return\", {\n              time: totalTime,\n              iterations: totalIterations,\n              iterationsPerSecond: mean(results),\n              error: cv(results)\n            });\n\n          case 18:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _runBenchTestAsync.apply(this, arguments);\n}\n\nfunction runBenchTestTimedAsync(_x4, _x5) {\n  return _runBenchTestTimedAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestTimedAsync() {\n  _runBenchTestTimedAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee4(test, minTime) {\n    var iterations, elapsedMillis, multiplier, timeStart, time;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            iterations = 1;\n            elapsedMillis = 0;\n\n          case 2:\n            if (!(elapsedMillis < minTime)) {\n              _context4.next = 12;\n              break;\n            }\n\n            multiplier = 10;\n\n            if (elapsedMillis > 10) {\n              multiplier = test.opts.time / elapsedMillis * 1.25;\n            }\n\n            iterations *= multiplier;\n            timeStart = getHiResTimestamp();\n            _context4.next = 9;\n            return runBenchTestIterationsAsync(test, iterations);\n\n          case 9:\n            elapsedMillis = getHiResTimestamp() - timeStart;\n            _context4.next = 2;\n            break;\n\n          case 12:\n            time = elapsedMillis / 1000;\n            return _context4.abrupt(\"return\", {\n              time: time,\n              iterations: iterations\n            });\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _runBenchTestTimedAsync.apply(this, arguments);\n}\n\nfunction runBenchTestIterationsAsync(_x6, _x7) {\n  return _runBenchTestIterationsAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestIterationsAsync() {\n  _runBenchTestIterationsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee5(test, iterations) {\n    var testArgs, context, testFunc, i, _i2;\n\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            testArgs = test.initFunc && test.initFunc();\n            context = test.context, testFunc = test.testFunc;\n\n            if (!(context && testArgs)) {\n              _context5.next = 12;\n              break;\n            }\n\n            i = 0;\n\n          case 4:\n            if (!(i < iterations)) {\n              _context5.next = 10;\n              break;\n            }\n\n            _context5.next = 7;\n            return testFunc.call(context, testArgs);\n\n          case 7:\n            i++;\n            _context5.next = 4;\n            break;\n\n          case 10:\n            _context5.next = 19;\n            break;\n\n          case 12:\n            _i2 = 0;\n\n          case 13:\n            if (!(_i2 < iterations)) {\n              _context5.next = 19;\n              break;\n            }\n\n            _context5.next = 16;\n            return testFunc.call(context);\n\n          case 16:\n            _i2++;\n            _context5.next = 13;\n            break;\n\n          case 19:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _runBenchTestIterationsAsync.apply(this, arguments);\n}","// CLASS INHERITANCE\n//\n// This class identifies\n\nconst IDENTITY = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nclass ClassNoConstructor {}\nclass ClassWithConstructor {\n  constructor() {\n    this.data = null;\n  }\n}\nclass ClassWithConstructorXYZ {\n  constructor() {\n    this.x = -0;\n    this.y = -0;\n    this.z = -0;\n    this.w = -0;\n  }\n}\nclass ClassWithConstructor04 {\n  constructor() {\n    this[0] = -0;\n    this[1] = -0;\n    this[2] = -0;\n    this[3] = -0;\n  }\n}\n\nclass ArrayExtenderNoConstructor extends Array {}\nclass ArrayExtenderEmptyConstructor extends Array {\n  // eslint-disable-next-line no-useless-constructor\n  constructor() {\n    super();\n  }\n}\nclass ArrayExtender extends Array {\n  constructor() {\n    super(16);\n    for (let i = 0; i < 16; i++) {\n      this[i] = IDENTITY[i];\n    }\n  }\n}\n\n// DEFAULT PARAMETERS\n\nclass XYZVector {\n  constructor(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nclass XYZVectorLogicalOr {\n  constructor(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n}\n\nclass XYZVectorBitwiseOr {\n  constructor(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n}\n\n// COMBINED BENCH\n\nexport default function javascriptBench(suite, addReferenceBenchmarks) {\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Class/Array inheritance construction cost')\n      .add('new Array', () => new Array()) // eslint-disable-line\n      .add('new ArrayExtender', () => new ArrayExtender())\n      .add('new ArrayExtenderNoConstructor', () => new ArrayExtenderNoConstructor())\n      .add('new ArrayExtenderEmptyConstructor', () => new ArrayExtenderEmptyConstructor())\n      .add('new ClassNoConstructor', () => new ClassNoConstructor())\n      .add('new ClassWithConstructor', () => new ClassWithConstructor())\n      .add('new ClassWithConstructorXYZ', () => new ClassWithConstructorXYZ())\n      .add('new ClassWithConstructor0-4', () => new ClassWithConstructor04());\n\n    suite\n      .group('Default parameter cost')\n      .add('new XYZVector#default params', () => new XYZVector())\n      .add('new XYZVector#logical or', () => new XYZVectorLogicalOr())\n      .add('new XYZVector#bitwise or', () => new XYZVectorBitwiseOr());\n  }\n\n  return suite;\n}\n","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(`math.gl assertion ${message}`);\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport assert from './assert';\n\nconst RADIANS_TO_DEGREES = (1 / Math.PI) * 180;\nconst DEGREES_TO_RADIANS = (1 / 180) * Math.PI;\n\n// TODO - remove\n/* eslint-disable no-shadow */\nconst config = {};\nconfig.EPSILON = 1e-12;\nconfig.debug = false;\nconfig.precision = 4;\nconfig.printTypes = false;\nconfig.printDegrees = false;\nconfig.printRowMajor = true;\n\nexport {config};\n\nexport function configure(options = {}) {\n  // Only copy existing keys\n  for (const key in options) {\n    assert(key in config);\n    config[key] = options[key];\n  }\n  return config;\n}\n\nfunction round(value) {\n  return Math.round(value / config.EPSILON) * config.EPSILON;\n}\n\nexport function formatValue(value, {precision = config.precision || 4} = {}) {\n  value = round(value);\n  // get rid of trailing zeros\n  return `${parseFloat(value.toPrecision(precision))}`;\n}\n\n// Returns true if value is either an array or a typed array\n// Note: does not return true for ArrayBuffers and DataViews\nexport function isArray(value) {\n  return Array.isArray(value) || (ArrayBuffer.isView(value) && !(value instanceof DataView));\n}\n\n// If the array has a clone function, calls it, otherwise returns a copy\nfunction duplicateArray(array) {\n  return array.clone ? array.clone() : new Array(array.length);\n}\n\nexport function clone(array) {\n  return array.clone ? array.clone() : new Array(...array);\n}\n\n// If the argument value is an array, applies the func element wise,\n// otherwise applies func to the argument value\nfunction map(value, func, result) {\n  if (isArray(value)) {\n    result = result || duplicateArray(value);\n    for (let i = 0; i < result.length && i < value.length; ++i) {\n      result[i] = func(value[i], i, result);\n    }\n    return result;\n  }\n  return func(value);\n}\n\nexport function toRadians(degrees) {\n  return radians(degrees);\n}\n\nexport function toDegrees(radians) {\n  return degrees(radians);\n}\n\n//\n// GLSL math function equivalents\n// Works on both single values and vectors\n//\n\nexport function radians(degrees, result) {\n  return map(degrees, degrees => degrees * DEGREES_TO_RADIANS, result);\n}\n\nexport function degrees(radians, result) {\n  return map(radians, radians => radians * RADIANS_TO_DEGREES, result);\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function sin(radians) {\n  return map(radians, angle => Math.sin(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function cos(radians) {\n  return map(radians, angle => Math.cos(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function tan(radians) {\n  return map(radians, angle => Math.tan(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function asin(radians) {\n  return map(radians, angle => Math.asin(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function acos(radians) {\n  return map(radians, angle => Math.acos(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function atan(radians) {\n  return map(radians, angle => Math.atan(angle));\n}\n\nexport function clamp(value, min, max) {\n  return map(value, value => Math.max(min, Math.min(max, value)));\n}\n\n// Interpolate between two numbers or two arrays\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map((ai, i) => lerp(ai, b[i], t));\n  }\n  return t * b + (1 - t) * a;\n}\n\n// eslint-disable-next-line complexity\nexport function equals(a, b, epsilon) {\n  const oldEpsilon = config.EPSILON;\n  if (epsilon) {\n    config.EPSILON = epsilon;\n  }\n  try {\n    if (a === b) {\n      return true;\n    }\n    if (isArray(a) && isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n      for (let i = 0; i < a.length; ++i) {\n        // eslint-disable-next-line max-depth\n        if (!equals(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (a && a.equals) {\n      return a.equals(b);\n    }\n    if (b && b.equals) {\n      return b.equals(a);\n    }\n    if (Number.isFinite(a) && Number.isFinite(b)) {\n      return Math.abs(a - b) <= config.EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n    }\n    return false;\n  } finally {\n    config.EPSILON = oldEpsilon;\n  }\n}\n\n// eslint-disable-next-line complexity\nexport function exactEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a && typeof a === 'object' && b && typeof b === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n    if (a.exactEquals) {\n      return a.exactEquals(b);\n    }\n  }\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; ++i) {\n      if (!exactEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function withEpsilon(EPSILON, func) {\n  const oldPrecision = config.EPSILON;\n  config.EPSILON = EPSILON;\n  let value;\n  try {\n    value = func();\n  } finally {\n    config.EPSILON = oldPrecision;\n  }\n  return value;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {config, formatValue, equals, isArray} from '../../lib/common';\nimport assert from '../../lib/assert';\n\nexport default class MathArray extends Array {\n  // Defined by derived class\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  // Defined by derived class\n  get RANK() {\n    assert(false);\n    return 0;\n  }\n\n  clone() {\n    // @ts-ignore error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    return new this.constructor().copy(this);\n  }\n\n  from(arrayOrObject) {\n    // @ts-ignore error TS2339: Property 'copy' does not exist on type 'MathArray'.\n    return Array.isArray(arrayOrObject) ? this.copy(arrayOrObject) : this.fromObject(arrayOrObject);\n  }\n\n  fromArray(array, offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = array[i + offset];\n    }\n    return this.check();\n  }\n\n  to(arrayOrObject) {\n    if (arrayOrObject === this) {\n      return this;\n    }\n    // @ts-ignore error TS2339: Property 'toObject' does not exist on type 'MathArray'.\n    return isArray(arrayOrObject) ? this.toArray(arrayOrObject) : this.toObject(arrayOrObject);\n  }\n\n  toTarget(target) {\n    return target ? this.to(target) : this;\n  }\n\n  toArray(array = [], offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      array[offset + i] = this[i];\n    }\n    return array;\n  }\n\n  toFloat32Array() {\n    return new Float32Array(this);\n  }\n\n  toString() {\n    return this.formatString(config);\n  }\n\n  formatString(opts) {\n    let string = '';\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      string += (i > 0 ? ', ' : '') + formatValue(this[i], opts);\n    }\n    return `${opts.printTypes ? this.constructor.name : ''}[${string}]`;\n  }\n\n  equals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (!equals(this[i], array[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  exactEquals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (this[i] !== array[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // Modifiers\n\n  negate() {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = -this[i];\n    }\n    return this.check();\n  }\n\n  lerp(a, b, t) {\n    if (t === undefined) {\n      t = b;\n      b = a;\n      a = this; // eslint-disable-line\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      const ai = a[i];\n      this[i] = ai + t * (b[i] - ai);\n    }\n    return this.check();\n  }\n\n  min(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  max(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.max(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  clamp(minVector, maxVector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], minVector[i]), maxVector[i]);\n    }\n    return this.check();\n  }\n\n  add(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] += vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  subtract(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] -= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  scale(scale) {\n    if (Array.isArray(scale)) {\n      // @ts-ignore error TS2339: Property 'multiply' does not exist on type 'MathArray'.\n      return this.multiply(scale);\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scale;\n    }\n    return this.check();\n  }\n\n  // three.js compatibility\n\n  sub(a) {\n    return this.subtract(a);\n  }\n\n  setScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = a;\n    }\n    return this.check();\n  }\n\n  addScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] += a;\n    }\n    return this.check();\n  }\n\n  subScalar(a) {\n    return this.addScalar(-a);\n  }\n\n  multiplyScalar(scalar) {\n    // Multiplies all elements\n    // `Matrix4.scale` only scales its 3x3 \"minor\"\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scalar;\n    }\n    return this.check();\n  }\n\n  divideScalar(a) {\n    return this.scale(1 / a);\n  }\n\n  clampScalar(min, max) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], min), max);\n    }\n    return this.check();\n  }\n\n  // Cesium compatibility\n\n  multiplyByScalar(scalar) {\n    return this.scale(scalar);\n  }\n\n  // THREE.js compatibility\n  get elements() {\n    return this;\n  }\n\n  // Debug checks\n\n  check() {\n    if (config.debug && !this.validate()) {\n      throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);\n    }\n    return this;\n  }\n\n  validate() {\n    let valid = this.length === this.ELEMENTS;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      valid = valid && Number.isFinite(this[i]);\n    }\n    return valid;\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {config} from './common';\n\nexport function validateVector(v, length) {\n  if (v.length !== length) {\n    return false;\n  }\n  // Could be arguments \"array\" (v.every not availasble)\n  for (let i = 0; i < v.length; ++i) {\n    if (!Number.isFinite(v[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function checkNumber(value) {\n  if (!Number.isFinite(value)) {\n    throw new Error(`Invalid number ${value}`);\n  }\n  return value;\n}\n\nexport function checkVector(v, length, callerName = '') {\n  if (config.debug && !validateVector(v, length)) {\n    throw new Error(`math.gl: ${callerName} some fields set to invalid numbers'`);\n  }\n  return v;\n}\n\nconst map = {};\n\nexport function deprecated(method, version) {\n  if (!map[method]) {\n    map[method] = true;\n    // eslint-disable-next-line\n    console.warn(\n      `${method} has been removed in version ${version}, see upgrade guide for more information`\n    );\n  }\n}\n","import MathArray from './math-array';\nimport {checkNumber} from '../../lib/validators';\nimport assert from '../../lib/assert';\n\nexport default class Vector extends MathArray {\n  // VIRTUAL METHODS\n  copy(vector) {\n    assert(false);\n    return this;\n  }\n\n  // ACCESSORS\n\n  get x() {\n    return this[0];\n  }\n  set x(value) {\n    this[0] = checkNumber(value);\n  }\n\n  get y() {\n    return this[1];\n  }\n  set y(value) {\n    this[1] = checkNumber(value);\n  }\n\n  // NOTE: `length` is a reserved word for Arrays, so we can't use `v.length()`\n  // Offer `len` and `magnitude`\n  len() {\n    return Math.sqrt(this.lengthSquared());\n  }\n\n  magnitude() {\n    return this.len();\n  }\n\n  lengthSquared() {\n    let length = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      length += this[i] * this[i];\n    }\n    return length;\n  }\n\n  magnitudeSquared() {\n    return this.lengthSquared();\n  }\n\n  distance(mathArray) {\n    return Math.sqrt(this.distanceSquared(mathArray));\n  }\n\n  distanceSquared(mathArray) {\n    let length = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      const dist = this[i] - mathArray[i];\n      length += dist * dist;\n    }\n    return checkNumber(length);\n  }\n\n  dot(mathArray) {\n    let product = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      product += this[i] * mathArray[i];\n    }\n    return checkNumber(product);\n  }\n\n  // MODIFIERS\n\n  normalize() {\n    const length = this.magnitude();\n    if (length !== 0) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] /= length;\n      }\n    }\n    return this.check();\n  }\n\n  // negate() {\n  //   for (let i = 0; i < this.ELEMENTS; ++i) {\n  //     this[i] = -this[i];\n  //   }\n  //   return this.check();\n  // }\n\n  // inverse() {\n  //   for (let i = 0; i < this.ELEMENTS; ++i) {\n  //     this[i] = 1 / this[i];\n  //   }\n  //   return this.check();\n  // }\n\n  multiply(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  divide(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] /= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  // THREE.js compatibility\n  lengthSq() {\n    return this.lengthSquared();\n  }\n\n  distanceTo(vector) {\n    return this.distance(vector);\n  }\n\n  distanceToSquared(vector) {\n    return this.distanceSquared(vector);\n  }\n\n  getComponent(i) {\n    assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n    return checkNumber(this[i]);\n  }\n\n  setComponent(i, value) {\n    assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n    this[i] = value;\n    return this.check();\n  }\n\n  addVectors(a, b) {\n    return this.copy(a).add(b);\n  }\n\n  subVectors(a, b) {\n    return this.copy(a).subtract(b);\n  }\n\n  multiplyVectors(a, b) {\n    return this.copy(a).multiply(b);\n  }\n\n  addScaledVector(a, b) {\n    // @ts-ignore error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    return this.add(new this.constructor(a).multiplyScalar(b));\n  }\n}\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","// vec2 additions\n\nexport function vec2_transformMat4AsVector(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const w = m[3] * x + m[7] * y || 1.0;\n  out[0] = (m[0] * x + m[4] * y) / w;\n  out[1] = (m[1] * x + m[5] * y) / w;\n  return out;\n}\n\n// vec3 additions\n\n// Transform as vector, only uses 3x3 minor matrix\nexport function vec3_transformMat4AsVector(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const z = a[2];\n  const w = m[3] * x + m[7] * y + m[11] * z || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n  return out;\n}\n\nexport function vec3_transformMat2(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  return out;\n}\n\n// vec4 additions\n\nexport function vec4_transformMat2(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nexport function vec4_transformMat3(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const z = a[2];\n  out[0] = m[0] * x + m[3] * y + m[6] * z;\n  out[1] = m[1] * x + m[4] * y + m[7] * z;\n  out[2] = m[2] * x + m[5] * y + m[8] * z;\n  out[3] = a[3];\n  return out;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\nimport {vec3_transformMat2, vec3_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\nconst ORIGIN = [0, 0, 0];\nconst constants = {};\n\nexport default class Vector3 extends Vector {\n  static get ZERO() {\n    return (constants.ZERO = constants.ZERO || Object.freeze(new Vector3(0, 0, 0, 0)));\n  }\n\n  /**\n   * @class\n   * @param {Number | [Number, Number, Number]} x\n   * @param {Number} y - rotation around X (latitude)\n   * @param {Number} z - rotation around X (latitude)\n   */\n  constructor(x = 0, y = 0, z = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0);\n    if (arguments.length === 1 && isArray(x)) {\n      this.copy(x);\n    } else {\n      // this.set(x, y, z);\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n      }\n      // @ts-ignore TS2412: Property '0' of type 'number | [number, number, number]' is not assignable to numeric index type 'number'\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n    }\n  }\n\n  set(x, y, z) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n      checkNumber(object.z);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    this[2] = object.z;\n    return this.check();\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    object.z = this[2];\n    return object;\n  }\n\n  // Getters/setters\n  /* eslint-disable no-multi-spaces, brace-style, no-return-assign */\n  get ELEMENTS() {\n    return 3;\n  }\n\n  // x,y inherited from Vector\n\n  get z() {\n    return this[2];\n  }\n  set z(value) {\n    this[2] = checkNumber(value);\n  }\n  /* eslint-enable no-multi-spaces, brace-style, no-return-assign */\n\n  angle(vector) {\n    return vec3.angle(this, vector);\n  }\n\n  // MODIFIERS\n\n  cross(vector) {\n    vec3.cross(this, this, vector);\n    return this.check();\n  }\n\n  rotateX({radians, origin = ORIGIN}) {\n    vec3.rotateX(this, this, origin, radians);\n    return this.check();\n  }\n\n  rotateY({radians, origin = ORIGIN}) {\n    vec3.rotateY(this, this, origin, radians);\n    return this.check();\n  }\n\n  rotateZ({radians, origin = ORIGIN}) {\n    vec3.rotateZ(this, this, origin, radians);\n    return this.check();\n  }\n\n  // Transforms\n\n  // transforms as point (4th component is implicitly 1)\n  transform(matrix4) {\n    return this.transformAsPoint(matrix4);\n  }\n\n  // transforms as point (4th component is implicitly 1)\n  transformAsPoint(matrix4) {\n    vec3.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  // transforms as vector  (4th component is implicitly 0, ignores translation. slightly faster)\n  transformAsVector(matrix4) {\n    vec3_transformMat4AsVector(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec3.transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec3_transformMat2(this, this, matrix2);\n    return this.check();\n  }\n\n  transformByQuaternion(quaternion) {\n    vec3.transformQuat(this, this, quaternion);\n    return this.check();\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector3, toRadians, radians} from '@math.gl/core';\nimport {isArray} from '@math.gl/core';\n\nconst classicArray = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nconst float32Array = new Float32Array([1, 0, 0]);\nconst float64Array = new Float64Array([1, 0, 0]);\nconst vector3 = new Vector3();\n\nexport default function commonBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Global Functions')\n    .add('isArray(Vector3)', () => isArray(vector3))\n    .add('isArray(Float32Array)', () => isArray(float32Array));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('isArray(array)', () => isArray(classicArray))\n      .add('isArray(Float64Array)', () => isArray(float64Array));\n  }\n\n  suite\n    .add('toRadians(Number)', () => toRadians(100))\n    .add('radians(Vector3)', () => radians(vector3, vector3));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('toRadians(array)', () => toRadians(classicArray))\n      .add('toRadians(Float32Array)', () => toRadians(float32Array))\n      .add('toRadians(Float64Array)', () => toRadians(float64Array));\n  }\n}\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\nimport {vec2_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\nexport default class Vector2 extends Vector {\n  // Creates a new, empty vec2\n  constructor(x = 0, y = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(2); // -0, -0);\n    if (isArray(x) && arguments.length === 1) {\n      this.copy(x);\n    } else {\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n      }\n      this[0] = x;\n      this[1] = y;\n    }\n  }\n\n  set(x, y) {\n    this[0] = x;\n    this[1] = y;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    return this.check();\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    return object;\n  }\n\n  // Getters/setters\n  get ELEMENTS() {\n    return 2;\n  }\n\n  // x,y inherited from Vector\n\n  horizontalAngle() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  verticalAngle() {\n    return Math.atan2(this.x, this.y);\n  }\n\n  // Transforms\n\n  transform(matrix4) {\n    return this.transformAsPoint(matrix4);\n  }\n\n  // transforms as point (4th component is implicitly 1)\n  transformAsPoint(matrix4) {\n    vec2.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  // transforms as vector  (4th component is implicitly 0, ignores translation. slightly faster)\n  transformAsVector(matrix4) {\n    vec2_transformMat4AsVector(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec2.transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2x3(matrix2x3) {\n    vec2.transformMat2d(this, this, matrix2x3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec2.transformMat2(this, this, matrix2);\n    return this.check();\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector2} from '@math.gl/core';\n\nconst array = [0, 0];\nconst float32Array = new Float32Array([0, 0]);\nconst vector2 = new Vector2();\n\nexport default function vector2Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector2')\n    .add('Vector2#new()', () => new Vector2(1, 2))\n    .add('Vector2#set()', () => vector2.set(1, 2))\n    .add('Vector2#copy()', () => vector2.copy([1, 2]));\n  // .add('Vector2#from(Vector2)', () => vector2.from(arrayVector))\n  // .add('Vector2#to(Vector2)', () => vector2.to(arrayVector))\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector2 Type Conversion Cost')\n      .add('Vector2.from#Array', () => vector2.from(array))\n      .add('Vector2.from#Float32Array', () => vector2.from(float32Array))\n      .add('Vector2.to#Array', () => vector2.to(array))\n      .add('Vector2.to#Float32Array', () => vector2.to(float32Array));\n  }\n\n  return suite;\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector3} from '@math.gl/core';\n\nclass ObjectVector {\n  constructor(x = -0, y = -0, z = -0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nconst array = [0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0]);\nconst objectVector = new ObjectVector();\nconst arrayVector = new Vector3();\nconst vector3 = new Vector3();\n\nexport default function vector3Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector3')\n    .add('Vector3#new()', () => new Vector3(1, 2, 3))\n    .add('Vector3#set()', () => vector3.set(1, 2, 3))\n    .add('Vector3#copy()', () => vector3.copy([1, 2, 3]))\n    .add('Vector3#from(Vector3)', () => vector3.from(arrayVector))\n    .add('Vector3#to(Vector3)', () => vector3.to(arrayVector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector3 Type Conversion Cost')\n      .add('Vector3#from(Object)', () => vector3.from(objectVector))\n      .add('Vector3#to(Object)', () => vector3.to(objectVector))\n      .add('Vector3.from#Array', () => vector3.from(array))\n      .add('Vector3.from#Float32Array', () => vector3.from(float32Array))\n      .add('Vector3.to#Array', () => vector3.to(array))\n      .add('Vector3.to#Float32Array', () => vector3.to(float32Array));\n  }\n\n  return suite;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec4 from 'gl-matrix/vec3';\nimport {vec4_transformMat2, vec4_transformMat3} from '../lib/gl-matrix-extras';\n\nconst constants = {};\n\nexport default class Vector4 extends Vector {\n  static get ZERO() {\n    return (constants.ZERO = constants.ZERO || Object.freeze(new Vector4(0, 0, 0, 0)));\n  }\n\n  constructor(x = 0, y = 0, z = 0, w = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0);\n    if (isArray(x) && arguments.length === 1) {\n      this.copy(x);\n    } else {\n      // this.set(x, y, z, w);\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n        checkNumber(w);\n      }\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n      this[3] = w;\n    }\n  }\n\n  set(x, y, z, w) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    this[3] = w;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n      checkNumber(object.z);\n      checkNumber(object.w);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    this[2] = object.z;\n    this[3] = object.w;\n    return this;\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    object.z = this[2];\n    object.w = this[3];\n    return object;\n  }\n\n  // Getters/setters\n  /* eslint-disable no-multi-spaces, brace-style, no-return-assign */\n  get ELEMENTS() {\n    return 4;\n  }\n\n  // x,y inherited from Vector\n\n  get z() {\n    return this[2];\n  }\n\n  set z(value) {\n    this[2] = checkNumber(value);\n  }\n\n  get w() {\n    return this[3];\n  }\n\n  set w(value) {\n    this[3] = checkNumber(value);\n  }\n  /* eslint-enable no-multi-spaces, brace-style, no-return-assign */\n\n  transform(matrix4) {\n    vec4.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec4_transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec4_transformMat2(this, this, matrix2);\n    return this.check();\n  }\n\n  transformByQuaternion(quaternion) {\n    vec4.transformQuat(this, this, quaternion);\n    return this.check();\n  }\n\n  // three.js compatibility\n  applyMatrix4(m) {\n    m.transform(this, this);\n    return this;\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector4} from '@math.gl/core';\n\nconst array = [0, 0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0, 0]);\nconst vector4 = new Vector4();\n\nexport default function vector4Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector4')\n    .add('Vector4#new()', () => new Vector4(1, 2, 3, 4))\n    .add('Vector4#set()', () => vector4.set(1, 2, 3, 4))\n    .add('Vector4#copy()', () => vector4.copy([1, 2, 3, 4]));\n  // .add('Vector4#from(Vector4)', () => vector4.from(arrayVector))\n  // .add('Vector4#to(Vector4)', () => vector4.to(arrayVector))\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector4 Type Conversion Cost')\n      .add('Vector4.from#Array', () => vector4.from(array))\n      .add('Vector4.from#Float32Array', () => vector4.from(float32Array))\n      .add('Vector4.to#Array', () => vector4.to(array))\n      .add('Vector4.to#Float32Array', () => vector4.to(float32Array));\n  }\n\n  return suite;\n}\n","import MathArray from './math-array';\nimport {checkNumber} from '../../lib/validators';\nimport {config} from '../../lib/common';\n\nexport default class Matrix extends MathArray {\n  // fromObject(object) {\n  //   const array = object.elements;\n  //   return this.fromRowMajor(array);\n  // }\n\n  // toObject(object) {\n  //   const array = object.elements;\n  //   this.toRowMajor(array);\n  //   return object;\n  // }\n\n  toString() {\n    let string = '[';\n    if (config.printRowMajor) {\n      string += 'row-major:';\n      for (let row = 0; row < this.RANK; ++row) {\n        for (let col = 0; col < this.RANK; ++col) {\n          string += ` ${this[col * this.RANK + row]}`;\n        }\n      }\n    } else {\n      string += 'column-major:';\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        string += ` ${this[i]}`;\n      }\n    }\n    string += ']';\n    return string;\n  }\n\n  getElementIndex(row, col) {\n    return col * this.RANK + row;\n  }\n\n  // By default assumes row major indices\n  getElement(row, col) {\n    return this[col * this.RANK + row];\n  }\n\n  // By default assumes row major indices\n  setElement(row, col, value) {\n    this[col * this.RANK + row] = checkNumber(value);\n    return this;\n  }\n\n  getColumn(columnIndex, result = new Array(this.RANK).fill(-0)) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      result[i] = this[firstIndex + i];\n    }\n    return result;\n  }\n\n  setColumn(columnIndex, columnVector) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      this[firstIndex + i] = columnVector[i];\n    }\n    return this;\n  }\n}\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {checkVector, deprecated} from '../lib/validators';\nimport Matrix from './base/matrix';\n\nimport {vec2_transformMat4AsVector, vec3_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as mat4 from 'gl-matrix/mat4';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec4 from 'gl-matrix/vec4';\n\nconst IDENTITY = Object.freeze([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nconst ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nconst INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL0ROW3: 3,\n  COL1ROW0: 4,\n  COL1ROW1: 5,\n  COL1ROW2: 6,\n  COL1ROW3: 7,\n  COL2ROW0: 8,\n  COL2ROW1: 9,\n  COL2ROW2: 10,\n  COL2ROW3: 11,\n  COL3ROW0: 12,\n  COL3ROW1: 13,\n  COL3ROW2: 14,\n  COL3ROW3: 15\n});\n\nconst constants = {};\n\nexport default class Matrix4 extends Matrix {\n  static get IDENTITY() {\n    constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix4(IDENTITY));\n    return constants.IDENTITY;\n  }\n\n  static get ZERO() {\n    constants.ZERO = constants.ZERO || Object.freeze(new Matrix4(ZERO));\n    return constants.ZERO;\n  }\n\n  get INDICES() {\n    return INDICES;\n  }\n\n  get ELEMENTS() {\n    return 16;\n  }\n\n  get RANK() {\n    return 4;\n  }\n\n  constructor(array) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0);\n    if (arguments.length === 1 && Array.isArray(array)) {\n      this.copy(array);\n    } else {\n      this.identity();\n    }\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    this[4] = array[4];\n    this[5] = array[5];\n    this[6] = array[6];\n    this[7] = array[7];\n    this[8] = array[8];\n    this[9] = array[9];\n    this[10] = array[10];\n    this[11] = array[11];\n    this[12] = array[12];\n    this[13] = array[13];\n    this[14] = array[14];\n    this[15] = array[15];\n    return this.check();\n  }\n\n  // eslint-disable-next-line max-params\n  set(m00, m10, m20, m30, m01, m11, m21, m31, m02, m12, m22, m32, m03, m13, m23, m33) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m30;\n    this[4] = m01;\n    this[5] = m11;\n    this[6] = m21;\n    this[7] = m31;\n    this[8] = m02;\n    this[9] = m12;\n    this[10] = m22;\n    this[11] = m32;\n    this[12] = m03;\n    this[13] = m13;\n    this[14] = m23;\n    this[15] = m33;\n    return this.check();\n  }\n\n  // accepts row major order, stores as column major\n  // eslint-disable-next-line max-params\n  setRowMajor(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m30;\n    this[4] = m01;\n    this[5] = m11;\n    this[6] = m21;\n    this[7] = m31;\n    this[8] = m02;\n    this[9] = m12;\n    this[10] = m22;\n    this[11] = m32;\n    this[12] = m03;\n    this[13] = m13;\n    this[14] = m23;\n    this[15] = m33;\n    return this.check();\n  }\n\n  toRowMajor(result) {\n    result[0] = this[0];\n    result[1] = this[4];\n    result[2] = this[8];\n    result[3] = this[12];\n    result[4] = this[1];\n    result[5] = this[5];\n    result[6] = this[9];\n    result[7] = this[13];\n    result[8] = this[2];\n    result[9] = this[6];\n    result[10] = this[10];\n    result[11] = this[14];\n    result[12] = this[3];\n    result[13] = this[7];\n    result[14] = this[11];\n    result[15] = this[15];\n    return result;\n  }\n\n  // Constructors\n\n  identity() {\n    return this.copy(IDENTITY);\n  }\n\n  // Calculates a 4x4 matrix from the given quaternion\n  // q quat  Quaternion to create matrix from\n  fromQuaternion(q) {\n    mat4.fromQuat(this, q);\n    return this.check();\n  }\n\n  // Generates a frustum matrix with the given bounds\n  // left  Number  Left bound of the frustum\n  // right Number  Right bound of the frustum\n  // bottom  Number  Bottom bound of the frustum\n  // top Number  Top bound of the frustum\n  // near  Number  Near bound of the frustum\n  // far Number  Far bound of the frustum\n  frustum({left, right, bottom, top, near, far}) {\n    if (far === Infinity) {\n      Matrix4._computeInfinitePerspectiveOffCenter(this, left, right, bottom, top, near);\n    } else {\n      mat4.frustum(this, left, right, bottom, top, near, far);\n    }\n    return this.check();\n  }\n\n  // eslint-disable-next-line max-params\n  static _computeInfinitePerspectiveOffCenter(result, left, right, bottom, top, near) {\n    const column0Row0 = (2.0 * near) / (right - left);\n    const column1Row1 = (2.0 * near) / (top - bottom);\n    const column2Row0 = (right + left) / (right - left);\n    const column2Row1 = (top + bottom) / (top - bottom);\n    const column2Row2 = -1.0;\n    const column2Row3 = -1.0;\n    const column3Row2 = -2.0 * near;\n\n    result[0] = column0Row0;\n    result[1] = 0.0;\n    result[2] = 0.0;\n    result[3] = 0.0;\n    result[4] = 0.0;\n    result[5] = column1Row1;\n    result[6] = 0.0;\n    result[7] = 0.0;\n    result[8] = column2Row0;\n    result[9] = column2Row1;\n    result[10] = column2Row2;\n    result[11] = column2Row3;\n    result[12] = 0.0;\n    result[13] = 0.0;\n    result[14] = column3Row2;\n    result[15] = 0.0;\n    return result;\n  }\n\n  // Generates a look-at matrix with the given eye position, focal point,\n  // and up axis\n  // eye vec3  Position of the viewer\n  // center  vec3  Point the viewer is looking at\n  // up  vec3  vec3 pointing up\n  lookAt(eye, center, up) {\n    // Signature: lookAt({eye, center = [0, 0, 0], up = [0, 1, 0]}))\n    if (arguments.length === 1) {\n      ({eye, center, up} = eye);\n    }\n\n    center = center || [0, 0, 0];\n    up = up || [0, 1, 0];\n\n    mat4.lookAt(this, eye, center, up);\n    return this.check();\n  }\n\n  // Generates a orthogonal projection matrix with the given bounds\n  // from \"traditional\" view space parameters\n  // left  number  Left bound of the frustum\n  // right number  Right bound of the frustum\n  // bottom  number  Bottom bound of the frustum\n  // top number  Top bound of the frustum\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  ortho({left, right, bottom, top, near = 0.1, far = 500}) {\n    mat4.ortho(this, left, right, bottom, top, near, far);\n    return this.check();\n  }\n\n  // Generates an orthogonal projection matrix with the same parameters\n  // as a perspective matrix (plus focalDistance)\n  // fovy  number  Vertical field of view in radians\n  // aspect  number  Aspect ratio. typically viewport width/height\n  // focalDistance distance in the view frustum used for extent calculations\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  orthographic({\n    fovy = (45 * Math.PI) / 180,\n    aspect = 1,\n    focalDistance = 1,\n    near = 0.1,\n    far = 500\n  }) {\n    if (fovy > Math.PI * 2) {\n      throw Error('radians');\n    }\n    const halfY = fovy / 2;\n    const top = focalDistance * Math.tan(halfY); // focus_plane is the distance from the camera\n    const right = top * aspect;\n\n    return new Matrix4().ortho({\n      left: -right,\n      right,\n      bottom: -top,\n      top,\n      near,\n      far\n    });\n  }\n\n  // Generates a perspective projection matrix with the given bounds\n  // fovy  number  Vertical field of view in radians\n  // aspect  number  Aspect ratio. typically viewport width/height\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  perspective({\n    fovy = undefined,\n    fov = (45 * Math.PI) / 180, // DEPRECATED\n    aspect = 1,\n    near = 0.1,\n    far = 500\n  } = {}) {\n    fovy = fovy || fov;\n    if (fovy > Math.PI * 2) {\n      throw Error('radians');\n    }\n    mat4.perspective(this, fovy, aspect, near, far);\n    return this.check();\n  }\n\n  // Accessors\n\n  determinant() {\n    return mat4.determinant(this);\n  }\n\n  // Extracts the non-uniform scale assuming the matrix is an affine transformation.\n  // The scales are the \"lengths\" of the column vectors in the upper-left 3x3 matrix.\n  getScale(result = [-0, -0, -0]) {\n    // explicit is faster than hypot...\n    result[0] = Math.sqrt(this[0] * this[0] + this[1] * this[1] + this[2] * this[2]);\n    result[1] = Math.sqrt(this[4] * this[4] + this[5] * this[5] + this[6] * this[6]);\n    result[2] = Math.sqrt(this[8] * this[8] + this[9] * this[9] + this[10] * this[10]);\n    // result[0] = Math.hypot(this[0], this[1], this[2]);\n    // result[1] = Math.hypot(this[4], this[5], this[6]);\n    // result[2] = Math.hypot(this[8], this[9], this[10]);\n    return result;\n  }\n\n  // Gets the translation portion, assuming the matrix is a affine transformation matrix.\n  getTranslation(result = [-0, -0, -0]) {\n    result[0] = this[12];\n    result[1] = this[13];\n    result[2] = this[14];\n    return result;\n  }\n\n  // Gets upper left 3x3 pure rotation matrix (non-scaling), assume affine transformation matrix\n  getRotation(\n    result = [-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0],\n    scaleResult = null\n  ) {\n    const scale = this.getScale(scaleResult || [-0, -0, -0]);\n\n    const inverseScale0 = 1 / scale[0];\n    const inverseScale1 = 1 / scale[1];\n    const inverseScale2 = 1 / scale[2];\n\n    result[0] = this[0] * inverseScale0;\n    result[1] = this[1] * inverseScale1;\n    result[2] = this[2] * inverseScale2;\n    result[3] = 0;\n    result[4] = this[4] * inverseScale0;\n    result[5] = this[5] * inverseScale1;\n    result[6] = this[6] * inverseScale2;\n    result[7] = 0;\n    result[8] = this[8] * inverseScale0;\n    result[9] = this[9] * inverseScale1;\n    result[10] = this[10] * inverseScale2;\n    result[11] = 0;\n    result[12] = 0;\n    result[13] = 0;\n    result[14] = 0;\n    result[15] = 1;\n    return result;\n  }\n\n  getRotationMatrix3(result = [-0, -0, -0, -0, -0, -0, -0, -0, -0], scaleResult = null) {\n    const scale = this.getScale(scaleResult || [-0, -0, -0]);\n\n    const inverseScale0 = 1 / scale[0];\n    const inverseScale1 = 1 / scale[1];\n    const inverseScale2 = 1 / scale[2];\n\n    result[0] = this[0] * inverseScale0;\n    result[1] = this[1] * inverseScale1;\n    result[2] = this[2] * inverseScale2;\n    result[3] = this[4] * inverseScale0;\n    result[4] = this[5] * inverseScale1;\n    result[5] = this[6] * inverseScale2;\n    result[6] = this[8] * inverseScale0;\n    result[7] = this[9] * inverseScale1;\n    result[8] = this[10] * inverseScale2;\n    return result;\n  }\n\n  // Modifiers\n\n  transpose() {\n    mat4.transpose(this, this);\n    return this.check();\n  }\n\n  invert() {\n    mat4.invert(this, this);\n    return this.check();\n  }\n\n  // Operations\n\n  multiplyLeft(a) {\n    mat4.multiply(this, a, this);\n    return this.check();\n  }\n\n  multiplyRight(a) {\n    mat4.multiply(this, this, a);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the X axis\n  rotateX(radians) {\n    mat4.rotateX(this, this, radians);\n    // mat4.rotate(this, this, radians, [1, 0, 0]);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the Y axis.\n  rotateY(radians) {\n    mat4.rotateY(this, this, radians);\n    // mat4.rotate(this, this, radians, [0, 1, 0]);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the Z axis.\n  rotateZ(radians) {\n    mat4.rotateZ(this, this, radians);\n    // mat4.rotate(this, this, radians, [0, 0, 1]);\n    return this.check();\n  }\n\n  rotateXYZ([rx, ry, rz]) {\n    return this.rotateX(rx)\n      .rotateY(ry)\n      .rotateZ(rz);\n  }\n\n  rotateAxis(radians, axis) {\n    mat4.rotate(this, this, radians, axis);\n    return this.check();\n  }\n\n  scale(factor) {\n    if (Array.isArray(factor)) {\n      mat4.scale(this, this, factor);\n    } else {\n      mat4.scale(this, this, [factor, factor, factor]);\n    }\n\n    return this.check();\n  }\n\n  translate(vec) {\n    mat4.translate(this, this, vec);\n    return this.check();\n  }\n\n  // Transforms\n\n  // Transforms any 2, 3 or 4 element vector. 2 and 3 elements are treated as points\n  transform(vector, result) {\n    if (vector.length === 4) {\n      result = vec4.transformMat4(result || [-0, -0, -0, -0], vector, this);\n      checkVector(result, 4);\n      return result;\n    }\n    return this.transformAsPoint(vector, result);\n  }\n\n  // Transforms any 2 or 3 element array as point (w implicitly 1)\n  transformAsPoint(vector, result) {\n    const {length} = vector;\n    switch (length) {\n      case 2:\n        result = vec2.transformMat4(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3.transformMat4(result || [-0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // Transforms any 2 or 3 element array as vector (w implicitly 0)\n  transformAsVector(vector, result) {\n    switch (vector.length) {\n      case 2:\n        result = vec2_transformMat4AsVector(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3_transformMat4AsVector(result || [-0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // three.js math API compatibility\n  makeRotationX(radians) {\n    return this.identity().rotateX(radians);\n  }\n\n  makeTranslation(x, y, z) {\n    return this.identity().translate([x, y, z]);\n  }\n\n  // DEPRECATED in 3.0\n\n  transformPoint(vector, result) {\n    deprecated('Matrix4.transformPoint', '3.0');\n    return this.transformAsPoint(vector, result);\n  }\n\n  transformVector(vector, result) {\n    deprecated('Matrix4.transformVector', '3.0');\n    return this.transformAsPoint(vector, result);\n  }\n\n  transformDirection(vector, result) {\n    deprecated('Matrix4.transformDirection', '3.0');\n    return this.transformAsVector(vector, result);\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {configure, Vector4, Matrix4} from '@math.gl/core';\nimport * as mat4 from 'gl-matrix/mat4';\n\n/*\nclass CesiumMatrix4 {\n  constructor(x = -0, y = -0, z = -0) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    this[3] = z;\n    this[4] = z;\n    this[5] = z;\n    this[6] = z;\n    this[7] = z;\n    this[8] = z;\n    this[9] = z;\n    this[10] = z;\n    this[11] = z;\n    this[12] = z;\n    this[13] = z;\n    this[14] = z;\n    this[15] = z;\n  }\n}\n\nfunction THREEMatrix4() {\n  this.elements = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ];\n}\n*/\n\nconst array = [0, 0, 0];\n// const arrayVector = new CesiumMatrix4();\n// const objectVector = new THREEMatrix4();\nconst matrix4 = new Matrix4();\n\nconst IDENTITY = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nconst classicArray = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nconst float32Array = new Float32Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nconst float64Array = new Float64Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n\nconst mathglVector4 = new Vector4();\nconst dirVector4 = new Vector4(0, 0, 0, 0);\nconst pointVector4 = new Vector4(0, 0, 0, 1);\nconst vector3 = [0, 0, 0];\n\nexport default function matrix4Bench(suite, addReferenceBenchmarks) {\n  suite\n    // add tests\n    .group('@math.gl/core: Matrix4 constructors')\n    .add('Matrix4#new Matrix4()', () => configure({debug: false}), () => new Matrix4())\n    .add('Matrix4#new Matrix4(debug)', () => configure({debug: true}), () => new Matrix4())\n    .add('Matrix4#copy()', () => configure({debug: false}), () => matrix4.copy(IDENTITY))\n    .add('Matrix4#copy(debug)', () => configure({debug: true}), () => matrix4.copy(IDENTITY))\n    .add(\n      'Matrix4#set()',\n      () => configure({debug: false}),\n      () => matrix4.set(1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n    )\n    .add('Matrix4#setRowMajor()', () =>\n      matrix4.setRowMajor(1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n    )\n    .add('Matrix4#identity', () => matrix4.identity())\n    .add('Matrix4#fromQuaternion', () => matrix4.fromQuaternion([1, 1, 1, 1]));\n  // .add('Matrix4#from(Matrix4)', () => matrix4.from(arrayVector))\n  // .add('Matrix4#from(Object)', () => matrix4.from(objectVector))\n  // .add('Matrix4#to(Matrix4)', () => matrix4.to(arrayVector))\n  // .add('Matrix4#to(Object)', () => matrix4.to(objectVector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('Array(16)', () => new Array(16))\n      .add('[1, 0, 0, 0, ...]', () => [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1])\n      .add('new Float32Array(16)', () => new Float32Array(16))\n      .add('new Float32Array(IDENTITY)', () => new Float32Array(IDENTITY))\n      .add('new Float64Array(16)', () => new Float64Array(16))\n      .add('new Float64Array(IDENTITY)', () => new Float64Array(IDENTITY));\n  }\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('Matrix4#from(Array)', () => matrix4.from(array))\n      .add('Matrix4#from(Float32Array)', () => matrix4.from(float32Array))\n      .add('Matrix4#to(Array)', () => matrix4.to(array))\n      .add('Matrix4#to(Float32Array)', () => matrix4.to(float32Array));\n    // .group('debug validation cost')\n    // .add('Matrix4#validate (debug)', () => configure({debug: true}), () => matrix4.check())\n    // .add('Matrix4#validate ', () => configure({debug: false}), () => matrix4.check())\n  }\n\n  suite\n    .group('@math.gl/core: Matrix4 Multiplication')\n    .add('Matrix4#multiplyRight(Matrix4)', () => matrix4.multiplyRight(matrix4))\n    .add('gl-matrix#multiply(Matrix4)', () => mat4.multiply(matrix4, matrix4, matrix4))\n    .add('Matrix4#transform(dir4)', () => matrix4.transform(dirVector4, mathglVector4))\n    .add('Matrix4#transform(point4)', () => matrix4.transform(pointVector4, mathglVector4))\n    .add('Matrix4#transformAsVector(v3)', () => matrix4.transformAsVector(vector3, vector3))\n    .add('Matrix4#transformAsPoint(v3)', () => matrix4.transformAsVector(vector3, vector3));\n\n  suite\n    .group('@math.gl/core: Matrix4 accessors')\n    .add('Matrix4#determinant()', () => matrix4.determinant())\n    .add('Matrix4#getScale()', () => matrix4.getScale())\n    .add('Matrix4#getTranslation()', () => matrix4.getTranslation())\n    .add('Matrix4#getRotation()', () => matrix4.getRotation())\n    .add('Matrix4#getRotationMatrix3()', () => matrix4.getRotationMatrix3());\n\n  suite\n    .group('@math.gl/core: Matrix4 operations')\n    .add('Matrix4#transpose()', () => matrix4.transpose())\n    .add('Matrix4#invert()', () => matrix4.invert())\n\n    .add('Matrix4#scale()', () => matrix4.scale(2))\n    .add('Matrix4#translate()', () => matrix4.translate([1, 1, 1]));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('gl-matrix#multiply(array)', () =>\n        mat4.multiply(classicArray, classicArray, classicArray)\n      )\n      .add('gl-matrix#multiply(float32Array)', () =>\n        mat4.multiply(float32Array, float32Array, float32Array)\n      )\n      .add('gl-matrix#multiply(float64Array)', () =>\n        mat4.multiply(float64Array, float64Array, float64Array)\n      );\n  }\n\n  return suite;\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport javascriptBench from './lib/javascript.bench';\nimport commonBench from './lib/common.bench';\n\n// import classesBench from './classes/classes.bench';\nimport vector2Bench from './classes/vector2.bench';\nimport vector3Bench from './classes/vector3.bench';\nimport vector4Bench from './classes/vector4.bench';\nimport matrix4Bench from './classes/matrix4.bench';\n\nexport default function coreBench(suite, addReferenceBenchmarks) {\n  // classesBench(suite, addReferenceBenchmarks);\n  commonBench(suite, addReferenceBenchmarks);\n  javascriptBench(suite, addReferenceBenchmarks);\n\n  matrix4Bench(suite, addReferenceBenchmarks);\n\n  vector2Bench(suite, addReferenceBenchmarks);\n  vector3Bench(suite, addReferenceBenchmarks);\n  vector4Bench(suite, addReferenceBenchmarks);\n\n  return suite;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nexport const WGS84_RADIUS_X = 6378137.0;\nexport const WGS84_RADIUS_Y = 6378137.0;\nexport const WGS84_RADIUS_Z = 6356752.3142451793;\n\n// Pre-calculated ellipsoid defaults to avoid utils depending on `ellipsoid.js`\n\nexport const WGS84_CONSTANTS = {\n  radii: [WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z],\n  radiiSquared: [\n    WGS84_RADIUS_X * WGS84_RADIUS_X,\n    WGS84_RADIUS_Y * WGS84_RADIUS_Y,\n    WGS84_RADIUS_Z * WGS84_RADIUS_Z\n  ],\n  oneOverRadii: [1.0 / WGS84_RADIUS_X, 1.0 / WGS84_RADIUS_Y, 1.0 / WGS84_RADIUS_Z],\n  oneOverRadiiSquared: [\n    1.0 / (WGS84_RADIUS_X * WGS84_RADIUS_X),\n    1.0 / (WGS84_RADIUS_Y * WGS84_RADIUS_Y),\n    1.0 / (WGS84_RADIUS_Z * WGS84_RADIUS_Z)\n  ],\n  maximumRadius: Math.max(WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z),\n  centerToleranceSquared: 1e-1 // EPSILON1;\n};\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, isArray, toRadians, toDegrees, config} from '@math.gl/core';\nimport {WGS84_CONSTANTS} from './constants';\n\nconst noop = x => x;\n\nconst scratchVector = new Vector3();\n\nexport function fromCartographic(cartographic, result, map = noop) {\n  if (isArray(cartographic)) {\n    result[0] = map(cartographic[0]);\n    result[1] = map(cartographic[1]);\n    result[2] = cartographic[2];\n  } else if ('longitude' in cartographic) {\n    result[0] = map(cartographic.longitude);\n    result[1] = map(cartographic.latitude);\n    result[2] = cartographic.height;\n  } else {\n    result[0] = map(cartographic.x);\n    result[1] = map(cartographic.y);\n    result[2] = cartographic.z;\n  }\n  return result;\n}\n\nexport function fromCartographicToRadians(cartographic, vector = scratchVector) {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? noop : toRadians);\n}\n\nexport function fromCartographicToDegrees(cartographic, vector = scratchVector) {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? toDegrees : noop);\n}\n\nexport function toCartographic(vector, cartographic, map = noop) {\n  if (isArray(cartographic)) {\n    cartographic[0] = map(vector[0]);\n    cartographic[1] = map(vector[1]);\n    cartographic[2] = vector[2];\n  } else if ('longitude' in cartographic) {\n    cartographic.longitude = map(vector[0]);\n    cartographic.latitude = map(vector[1]);\n    cartographic.height = vector[2];\n  } else {\n    cartographic.x = map(vector[0]);\n    cartographic.y = map(vector[1]);\n    cartographic.z = vector[2];\n  }\n  return cartographic;\n}\n\nexport function toCartographicFromRadians(vector, cartographic) {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? noop : toDegrees);\n}\n\nexport function toCartographicFromDegrees(vector, cartographic) {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? toRadians : noop);\n}\n\nexport function isWGS84(vector) {\n  if (!vector) {\n    return false;\n  }\n  scratchVector.from(vector);\n  const {oneOverRadiiSquared, centerToleranceSquared} = WGS84_CONSTANTS;\n  const x2 = vector[0] * vector[0] * oneOverRadiiSquared[0];\n  const y2 = vector[1] * vector[1] * oneOverRadiiSquared[1];\n  const z2 = vector[2] * vector[2] * oneOverRadiiSquared[2];\n  return Math.abs(x2 + y2 + z2 - 1) < centerToleranceSquared;\n}\n","// NOTE: Added to make Cesium-derived test cases work\n// TODO: Determine if/how to keep\nexport default {\n  EPSILON1: 1e-1,\n  EPSILON2: 1e-2,\n  EPSILON3: 1e-3,\n  EPSILON4: 1e-4,\n  EPSILON5: 1e-5,\n  EPSILON6: 1e-6,\n  EPSILON7: 1e-7,\n  EPSILON8: 1e-8,\n  EPSILON9: 1e-9,\n  EPSILON10: 1e-10,\n  EPSILON11: 1e-11,\n  EPSILON12: 1e-12,\n  EPSILON13: 1e-13,\n  EPSILON14: 1e-14,\n  EPSILON15: 1e-15,\n  EPSILON16: 1e-16,\n  EPSILON17: 1e-17,\n  EPSILON18: 1e-18,\n  EPSILON19: 1e-19,\n  EPSILON20: 1e-20,\n\n  PI_OVER_TWO: Math.PI / 2,\n  PI_OVER_FOUR: Math.PI / 4,\n  PI_OVER_SIX: Math.PI / 6,\n\n  TWO_PI: Math.PI * 2\n};\n","/* eslint-disable */\nimport {Vector3, assert, _MathUtils} from '@math.gl/core';\nimport * as vec3 from 'gl-matrix/vec3';\n\nconst scratchVector = new Vector3();\nconst scaleToGeodeticSurfaceIntersection = new Vector3();\nconst scaleToGeodeticSurfaceGradient = new Vector3();\n\n// Scales the provided Cartesian position along the geodetic surface normal\n// so that it is on the surface of this ellipsoid.  If the position is\n// at the center of the ellipsoid, this function returns undefined.\nexport default function scaleToGeodeticSurface(cartesian, ellipsoid, result = new Vector3()) {\n  const {oneOverRadii, oneOverRadiiSquared, centerToleranceSquared} = ellipsoid;\n\n  scratchVector.from(cartesian);\n\n  const positionX = cartesian.x;\n  const positionY = cartesian.y;\n  const positionZ = cartesian.z;\n\n  const oneOverRadiiX = oneOverRadii.x;\n  const oneOverRadiiY = oneOverRadii.y;\n  const oneOverRadiiZ = oneOverRadii.z;\n\n  const x2 = positionX * positionX * oneOverRadiiX * oneOverRadiiX;\n  const y2 = positionY * positionY * oneOverRadiiY * oneOverRadiiY;\n  const z2 = positionZ * positionZ * oneOverRadiiZ * oneOverRadiiZ;\n\n  // Compute the squared ellipsoid norm.\n  const squaredNorm = x2 + y2 + z2;\n  const ratio = Math.sqrt(1.0 / squaredNorm);\n\n  // When very close to center or at center\n  if (!Number.isFinite(ratio)) {\n    return undefined;\n  }\n\n  // As an initial approximation, assume that the radial intersection is the projection point.\n  const intersection = scaleToGeodeticSurfaceIntersection;\n  intersection.copy(cartesian).scale(ratio);\n\n  // If the position is near the center, the iteration will not converge.\n  if (squaredNorm < centerToleranceSquared) {\n    return intersection.to(result);\n  }\n\n  const oneOverRadiiSquaredX = oneOverRadiiSquared.x;\n  const oneOverRadiiSquaredY = oneOverRadiiSquared.y;\n  const oneOverRadiiSquaredZ = oneOverRadiiSquared.z;\n\n  // Use the gradient at the intersection point in place of the true unit normal.\n  // The difference in magnitude will be absorbed in the multiplier.\n  const gradient = scaleToGeodeticSurfaceGradient;\n  gradient.set(\n    intersection.x * oneOverRadiiSquaredX * 2.0,\n    intersection.y * oneOverRadiiSquaredY * 2.0,\n    intersection.z * oneOverRadiiSquaredZ * 2.0\n  );\n\n  // Compute the initial guess at the normal vector multiplier, lambda.\n  let lambda = ((1.0 - ratio) * cartesian.len()) / (0.5 * gradient.len());\n  let correction = 0.0;\n\n  let xMultiplier;\n  let yMultiplier;\n  let zMultiplier;\n  let func;\n\n  do {\n    lambda -= correction;\n\n    xMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredX);\n    yMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredY);\n    zMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredZ);\n\n    const xMultiplier2 = xMultiplier * xMultiplier;\n    const yMultiplier2 = yMultiplier * yMultiplier;\n    const zMultiplier2 = zMultiplier * zMultiplier;\n\n    const xMultiplier3 = xMultiplier2 * xMultiplier;\n    const yMultiplier3 = yMultiplier2 * yMultiplier;\n    const zMultiplier3 = zMultiplier2 * zMultiplier;\n\n    func = x2 * xMultiplier2 + y2 * yMultiplier2 + z2 * zMultiplier2 - 1.0;\n\n    // \"denominator\" here refers to the use of this expression in the velocity and acceleration\n    // computations in the sections to follow.\n    const denominator =\n      x2 * xMultiplier3 * oneOverRadiiSquaredX +\n      y2 * yMultiplier3 * oneOverRadiiSquaredY +\n      z2 * zMultiplier3 * oneOverRadiiSquaredZ;\n\n    const derivative = -2.0 * denominator;\n\n    correction = func / derivative;\n  } while (Math.abs(func) > _MathUtils.EPSILON12);\n\n  return scratchVector.scale([xMultiplier, yMultiplier, zMultiplier]).to(result);\n}\n","import {Vector3, assert, equals as equalsEpsilon} from '@math.gl/core';\n\nconst EPSILON14 = 1e-14;\n\nconst scratchOrigin = new Vector3();\n\n// Caclulate third axis from given two axii\nconst VECTOR_PRODUCT_LOCAL_FRAME = {\n  up: {\n    south: 'east',\n    north: 'west',\n    west: 'south',\n    east: 'north'\n  },\n  down: {\n    south: 'west',\n    north: 'east',\n    west: 'north',\n    east: 'south'\n  },\n  south: {\n    up: 'west',\n    down: 'east',\n    west: 'down',\n    east: 'up'\n  },\n  north: {\n    up: 'east',\n    down: 'west',\n    west: 'up',\n    east: 'down'\n  },\n  west: {\n    up: 'north',\n    down: 'south',\n    north: 'down',\n    south: 'up'\n  },\n  east: {\n    up: 'south',\n    down: 'north',\n    north: 'up',\n    south: 'down'\n  }\n};\n\nconst degeneratePositionLocalFrame = {\n  north: [-1, 0, 0],\n  east: [0, 1, 0],\n  up: [0, 0, 1],\n  south: [1, 0, 0],\n  west: [0, -1, 0],\n  down: [0, 0, -1]\n};\n\nconst scratchAxisVectors = {\n  east: new Vector3(),\n  north: new Vector3(),\n  up: new Vector3(),\n  west: new Vector3(),\n  south: new Vector3(),\n  down: new Vector3()\n};\n\nconst scratchVector1 = new Vector3();\nconst scratchVector2 = new Vector3();\nconst scratchVector3 = new Vector3();\n\n// Computes a 4x4 transformation matrix from a reference frame\n// centered at the provided origin to the provided ellipsoid's fixed reference frame.\n// eslint-disable-next-line max-statements, max-params, complexity\nexport default function localFrameToFixedFrame(\n  ellipsoid,\n  firstAxis,\n  secondAxis,\n  thirdAxis,\n  cartesianOrigin,\n  result\n) {\n  const thirdAxisInferred =\n    VECTOR_PRODUCT_LOCAL_FRAME[firstAxis] && VECTOR_PRODUCT_LOCAL_FRAME[firstAxis][secondAxis];\n  // firstAxis and secondAxis must be east, north, up, west, south or down.');\n  assert(thirdAxisInferred && (!thirdAxis || thirdAxis === thirdAxisInferred));\n\n  let firstAxisVector;\n  let secondAxisVector;\n  let thirdAxisVector;\n\n  const origin = scratchOrigin.copy(cartesianOrigin);\n\n  // If x and y are zero, assume origin is at a pole, which is a special case.\n  const atPole = equalsEpsilon(origin.x, 0.0, EPSILON14) && equalsEpsilon(origin.y, 0.0, EPSILON14);\n\n  if (atPole) {\n    // Look up axis value and adjust\n    const sign = Math.sign(origin.z);\n\n    firstAxisVector = scratchVector1.fromArray(degeneratePositionLocalFrame[firstAxis]);\n    if (firstAxis !== 'east' && firstAxis !== 'west') {\n      firstAxisVector.scale(sign);\n    }\n\n    secondAxisVector = scratchVector2.fromArray(degeneratePositionLocalFrame[secondAxis]);\n    if (secondAxis !== 'east' && secondAxis !== 'west') {\n      secondAxisVector.scale(sign);\n    }\n\n    thirdAxisVector = scratchVector3.fromArray(degeneratePositionLocalFrame[thirdAxis]);\n    if (thirdAxis !== 'east' && thirdAxis !== 'west') {\n      thirdAxisVector.scale(sign);\n    }\n  } else {\n    // Calculate all axis\n    const {up, east, north} = scratchAxisVectors;\n\n    east.set(-origin.y, origin.x, 0.0).normalize();\n    ellipsoid.geodeticSurfaceNormal(origin, up);\n    north.copy(up).cross(east);\n\n    const {down, west, south} = scratchAxisVectors;\n\n    down.copy(up).scale(-1);\n    west.copy(east).scale(-1);\n    south.copy(north).scale(-1);\n\n    // Pick three axis based on desired orientation\n    firstAxisVector = scratchAxisVectors[firstAxis];\n    secondAxisVector = scratchAxisVectors[secondAxis];\n    thirdAxisVector = scratchAxisVectors[thirdAxis];\n  }\n\n  // TODO - assuming the result is column-major\n  result[0] = firstAxisVector.x;\n  result[1] = firstAxisVector.y;\n  result[2] = firstAxisVector.z;\n  result[3] = 0.0;\n  result[4] = secondAxisVector.x;\n  result[5] = secondAxisVector.y;\n  result[6] = secondAxisVector.z;\n  result[7] = 0.0;\n  result[8] = thirdAxisVector.x;\n  result[9] = thirdAxisVector.y;\n  result[10] = thirdAxisVector.z;\n  result[11] = 0.0;\n  result[12] = origin.x;\n  result[13] = origin.y;\n  result[14] = origin.z;\n  result[15] = 1.0;\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Matrix4, toRadians, toDegrees, assert, equals, _MathUtils} from '@math.gl/core';\nimport * as vec3 from 'gl-matrix/vec3';\n\nimport {WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z} from '../constants';\nimport {fromCartographicToRadians, toCartographicFromRadians} from '../type-utils';\n\nimport scaleToGeodeticSurface from './helpers/scale-to-geodetic-surface';\nimport localFrameToFixedFrame from './helpers/ellipsoid-transform';\n\nconst scratchVector = new Vector3();\nconst scratchNormal = new Vector3();\nconst scratchK = new Vector3();\nconst scratchPosition = new Vector3();\nconst scratchHeight = new Vector3();\nconst scratchCartesian = new Vector3();\n\nlet wgs84;\n\n// A quadratic surface defined in Cartesian coordinates by the equation\n// <code>(x / a)^2 + (y / b)^2 + (z / c)^2 = 1</code>.  Primarily used\n// to represent the shape of planetary bodies.\nexport default class Ellipsoid {\n  // An Ellipsoid instance initialized to the WGS84 standard.\n  static get WGS84() {\n    wgs84 = wgs84 || new Ellipsoid(WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z);\n    return wgs84;\n  }\n\n  // Creates an Ellipsoid from a Cartesian specifying the radii in x, y, and z directions.\n  constructor(x = 0.0, y = 0.0, z = 0.0) {\n    assert(x >= 0.0);\n    assert(y >= 0.0);\n    assert(z >= 0.0);\n\n    this.radii = new Vector3(x, y, z);\n\n    this.radiiSquared = new Vector3(x * x, y * y, z * z);\n\n    this.radiiToTheFourth = new Vector3(x * x * x * x, y * y * y * y, z * z * z * z);\n\n    this.oneOverRadii = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / x,\n      y === 0.0 ? 0.0 : 1.0 / y,\n      z === 0.0 ? 0.0 : 1.0 / z\n    );\n\n    this.oneOverRadiiSquared = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / (x * x),\n      y === 0.0 ? 0.0 : 1.0 / (y * y),\n      z === 0.0 ? 0.0 : 1.0 / (z * z)\n    );\n\n    this.minimumRadius = Math.min(x, y, z);\n\n    this.maximumRadius = Math.max(x, y, z);\n\n    this.centerToleranceSquared = _MathUtils.EPSILON1;\n\n    if (this.radiiSquared.z !== 0) {\n      this.squaredXOverSquaredZ = this.radiiSquared.x / this.radiiSquared.z;\n    }\n\n    Object.freeze(this);\n  }\n\n  // Compares this Ellipsoid against the provided Ellipsoid componentwise and returns\n  equals(right) {\n    return this === right || Boolean(right && this.radii.equals(right.radii));\n  }\n\n  // Creates a string representing this Ellipsoid in the format '(radii.x, radii.y, radii.z)'.\n  toString() {\n    return this.radii.toString();\n  }\n\n  // Converts the provided cartographic to Cartesian representation.\n  cartographicToCartesian(cartographic, result = [0, 0, 0]) {\n    const normal = scratchNormal;\n    const k = scratchK;\n\n    const [, , height] = cartographic;\n    this.geodeticSurfaceNormalCartographic(cartographic, normal);\n    k.copy(this.radiiSquared).scale(normal);\n\n    const gamma = Math.sqrt(normal.dot(k));\n    k.scale(1 / gamma);\n\n    normal.scale(height);\n\n    k.add(normal);\n\n    return k.to(result);\n  }\n\n  // Converts the provided cartesian to cartographic (lng/lat/z) representation.\n  // The cartesian is undefined at the center of the ellipsoid.\n  cartesianToCartographic(cartesian, result = [0, 0, 0]) {\n    scratchCartesian.from(cartesian);\n    const point = this.scaleToGeodeticSurface(scratchCartesian, scratchPosition);\n\n    if (!point) {\n      return undefined;\n    }\n\n    const normal = this.geodeticSurfaceNormal(point, scratchNormal);\n\n    const h = scratchHeight;\n    h.copy(scratchCartesian).subtract(point);\n\n    const longitude = Math.atan2(normal.y, normal.x);\n    const latitude = Math.asin(normal.z);\n    const height = Math.sign(vec3.dot(h, scratchCartesian)) * vec3.length(h);\n\n    return toCartographicFromRadians([longitude, latitude, height], result);\n  }\n\n  // Computes a 4x4 transformation matrix from a reference frame with an east-north-up axes\n  // centered at the provided origin to the provided ellipsoid's fixed reference frame.\n  eastNorthUpToFixedFrame(origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, 'east', 'north', 'up', origin, result);\n  }\n\n  // Computes a 4x4 transformation matrix from a reference frame centered at\n  // the provided origin to the ellipsoid's fixed reference frame.\n  localFrameToFixedFrame(firstAxis, secondAxis, thirdAxis, origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, firstAxis, secondAxis, thirdAxis, origin, result);\n  }\n\n  // Computes the unit vector directed from the center of this ellipsoid toward\n  // the provided Cartesian position.\n  geocentricSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector\n      .from(cartesian)\n      .normalize()\n      .to(result);\n  }\n\n  // Computes the normal of the plane tangent to the surface of the ellipsoid at provided position.\n  geodeticSurfaceNormalCartographic(cartographic, result = [0, 0, 0]) {\n    const cartographicVectorRadians = fromCartographicToRadians(cartographic);\n\n    const longitude = cartographicVectorRadians[0];\n    const latitude = cartographicVectorRadians[1];\n\n    const cosLatitude = Math.cos(latitude);\n\n    scratchVector\n      .set(cosLatitude * Math.cos(longitude), cosLatitude * Math.sin(longitude), Math.sin(latitude))\n      .normalize();\n\n    return scratchVector.to(result);\n  }\n\n  // Computes the normal of the plane tangent to the surface of the ellipsoid at the provided position.\n  geodeticSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector\n      .from(cartesian)\n      .scale(this.oneOverRadiiSquared)\n      .normalize()\n      .to(result);\n  }\n\n  // Scales the provided Cartesian position along the geodetic surface normal\n  // so that it is on the surface of this ellipsoid.  If the position is\n  // at the center of the ellipsoid, this function returns undefined.\n  scaleToGeodeticSurface(cartesian, result) {\n    return scaleToGeodeticSurface(cartesian, this, result);\n  }\n\n  // Scales the provided Cartesian position along the geocentric surface normal\n  // so that it is on the surface of this ellipsoid.\n  scaleToGeocentricSurface(cartesian, result = [0, 0, 0]) {\n    scratchPosition.from(cartesian);\n\n    const positionX = scratchPosition.x;\n    const positionY = scratchPosition.y;\n    const positionZ = scratchPosition.z;\n    const oneOverRadiiSquared = this.oneOverRadiiSquared;\n\n    const beta =\n      1.0 /\n      Math.sqrt(\n        positionX * positionX * oneOverRadiiSquared.x +\n          positionY * positionY * oneOverRadiiSquared.y +\n          positionZ * positionZ * oneOverRadiiSquared.z\n      );\n\n    return scratchPosition.multiplyScalar(beta).to(result);\n  }\n\n  // Transforms a Cartesian X, Y, Z position to the ellipsoid-scaled space by multiplying\n  // its components by the result of `Ellipsoid#oneOverRadii`\n  transformPositionToScaledSpace(position, result = [0, 0, 0]) {\n    return scratchPosition\n      .from(position)\n      .scale(this.oneOverRadii)\n      .to(result);\n  }\n\n  // Transforms a Cartesian X, Y, Z position from the ellipsoid-scaled space by multiplying\n  // its components by the result of `Ellipsoid#radii`.\n  transformPositionFromScaledSpace(position, result = [0, 0, 0]) {\n    return scratchPosition\n      .from(position)\n      .scale(this.radii)\n      .to(result);\n  }\n\n  // Computes a point which is the intersection of the surface normal with the z-axis.\n  getSurfaceNormalIntersectionWithZAxis(position, buffer = 0.0, result = [0, 0, 0]) {\n    // Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)\n    assert(equals(this.radii.x, this.radii.y, _MathUtils.EPSILON15));\n    assert(this.radii.z > 0);\n\n    scratchPosition.from(position);\n    const z = scratchPosition.z * (1 - this.squaredXOverSquaredZ);\n\n    if (Math.abs(z) >= this.radii.z - buffer) {\n      return undefined;\n    }\n\n    return scratchPosition.set(0.0, 0.0, z).to(result);\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix4} from '@math.gl/core';\nimport {Ellipsoid} from '@math.gl/geospatial';\n// import {externalVector3ToArray, setExternalVector3} from '@math.gl/geospatial/type-utils';\n// import * as vec3 from 'gl-matrix/vec3';\n\nconst ellipsoid = Ellipsoid.WGS84;\nconst spaceCartesian = new Vector3(4582719.8827300891, -4582719.8827300882, 1725510.4250797231);\nconst spaceCartographic = new Vector3(-45.0, 15.0, 330000.0);\n// const spaceCartographicObject = {x: -45.0, y: 15.0, z: 330000.0};\nconst resultVector = new Vector3();\n// const resultArray = [0, 0, 0];\n// const resultObject = {x: 0, y: 0, z: 0};\n\nconst origin = new Vector3(1.0, 0.0, 0.0);\n// const northPole = new Vector3(0.0, 0.0, 1.0);\nconst resultMatrix = new Matrix4();\n\nexport default function ellipsoidBench(suite) {\n  // const spaceCartesian = new Vector3(4582719.8827300891, -4582719.8827300882, 1725510.4250797231);\n\n  suite\n    .group('@math.gl/geospatial Ellipsoid')\n    .add('#cartographicToCartesian(=>Vector3)', () =>\n      ellipsoid.cartographicToCartesian(spaceCartographic, resultVector)\n    )\n    .add('#cartesianToCartographic(=>Vector3)', () =>\n      ellipsoid.cartesianToCartographic(spaceCartesian, resultVector)\n    )\n    .add('#eastNorthUpToFixedFrame()', () =>\n      Ellipsoid.WGS84.eastNorthUpToFixedFrame(origin, resultMatrix)\n    )\n    // .add('#eastNorthUpToFixedFrame(Pole)', () =>\n    //   Ellipsoid.WGS84.eastNorthUpToFixedFrame(northPole, resultMatrix)\n    // )\n\n    // .add('#cartographicToCartesian(=>Object)', () =>\n    //   ellipsoid.cartographicToCartesian(spaceCartographic, resultObject)\n    // )\n    // .add('#geodSurfNormalCarto(=>Object)', () =>\n    //   ellipsoid.geodeticSurfaceNormalCartographic(spaceCartographicObject, resultObject)\n    // )\n\n    .add('#geodSurfNormal(=>Vector3)', () =>\n      ellipsoid.geodeticSurfaceNormalCartographic(spaceCartographic, resultVector)\n    )\n    // .add('#geodSurfNormalCarto() Opt', () =>\n    //   geodeticSurfaceNormalCartographicOptimized(spaceCartographic, resultArray)\n    // )\n\n    .add('#geodeticSurfaceNormal(=>Vector3)', () =>\n      ellipsoid.geodeticSurfaceNormal(spaceCartesian, resultVector)\n    )\n\n    .add('#scaleToGeocentricSurface(=>Vector3)', () =>\n      ellipsoid.scaleToGeocentricSurface(spaceCartesian, resultVector)\n    );\n  // .add('#scaleToGeocentricSurface(=>Object)', () =>\n  //   ellipsoid.scaleToGeocentricSurface(spaceCartesian, resultObject)\n  // )\n\n  return suite;\n}\n\n/*\n// Hand optimized version of Ellipsoid.geodeticSurfaceNormalCartographic\n// Computes the normal of the plane tangent to the surface of the ellipsoid at provided position.\nfunction geodeticSurfaceNormalCartographicOptimized(cartographic, result = new Vector3()) {\n  // const longitude = cartographic.longitude;\n  // const latitude = cartographic.latitude;\n\n  // const longitude = toRadians(cartographic[0]);\n  // const latitude = toRadians(cartographic[1]);\n  const longitude = cartographic[0];\n  const latitude = cartographic[1];\n\n  const cosLatitude = Math.cos(latitude);\n\n  const x = cosLatitude * Math.cos(longitude);\n  const y = cosLatitude * Math.sin(longitude);\n  const z = Math.sin(latitude);\n\n  result.x = x;\n  result.y = y;\n  result.z = z;\n\n  return vec3.normalize(result, result);\n}\n*/\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3} from '@math.gl/core';\nimport {\n  fromCartographic,\n  fromCartographicToRadians,\n  toCartographicFromRadians\n} from '../src/type-utils';\n\nimport ellipsoidBench from '@math.gl/geospatial/test/ellipsoid/ellipsoid.bench';\n\nclass ObjectVector {\n  constructor(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nconst array = [0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0]);\nconst objectVector = new ObjectVector();\nconst vector = new Vector3();\nconst vector3 = new Vector3();\n\nexport default function geospatialBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('Cartographic Type Conversion Cost')\n    .add('fromCartographic#Vector3', () => fromCartographic(vector3, vector))\n    .add('fromCartographicToRadians#Vector3', () => fromCartographicToRadians(vector3, vector))\n    .add('toCartographicFromRadians#Vector3', () => toCartographicFromRadians(vector3, vector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      // .add('fromCartographicToRadians#Object', () =>\n      //   fromCartographicToRadians(vector3, objectVector)\n      // )\n      .add('toCartographicFromRadians#Object', () =>\n        toCartographicFromRadians(vector3, objectVector)\n      )\n      .add('fromCartographicToRadians#Array', () => fromCartographicToRadians(vector3, array))\n      .add('fromCartographicToRadians#Float32Array', () =>\n        fromCartographicToRadians(vector3, float32Array)\n      )\n      .add('toCartographicFromRadians#Array', () => toCartographicFromRadians(vector3, array))\n      .add('toCartographicFromRadians#Float32Array', () =>\n        toCartographicFromRadians(vector3, float32Array)\n      );\n  }\n\n  ellipsoidBench(suite);\n\n  return suite;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nexport const INTERSECTION = Object.freeze({\n  OUTSIDE: -1, // Represents that an object is not contained within the frustum.\n  INTERSECTING: 0, // Represents that an object intersects one of the frustum's planes.\n  INSIDE: 1 // Represents that an object is fully within the frustum.\n});\n","import {Vector3} from '@math.gl/core';\nimport {INTERSECTION} from '../constants';\n\nconst scratchVector = new Vector3();\nconst scratchNormal = new Vector3();\n\nexport default class AxisAlignedBoundingBox {\n  constructor(minimum = [0, 0, 0], maximum = [0, 0, 0], center = null) {\n    // If center was not defined, compute it.\n    center =\n      center ||\n      scratchVector\n        .copy(minimum)\n        .add(maximum)\n        .scale(0.5);\n\n    /**\n     * The minimum point defining the bounding box.\n     * @type {Vector3}\n     * @default {@link 0, 0, 0}\n     */\n    this.minimum = new Vector3(minimum);\n\n    /**\n     * The maximum point defining the bounding box.\n     * @type {Vector3}\n     * @default {@link 0, 0, 0}\n     */\n    this.maximum = new Vector3(maximum);\n\n    /**\n     * The center point of the bounding box.\n     * @type {Vector3}\n     */\n    this.center = new Vector3(center);\n  }\n\n  /**\n   * Computes an instance of an AxisAlignedBoundingBox. The box is determined by\n   * finding the points spaced the farthest apart on the x, y, and z axes.\n   *\n   * @param {Vector3[]} positions List of points that the bounding box will enclose.  Each point must have a <code>x</code>, <code>y</code>, and <code>z</code> properties.\n   * @returns {AxisAlignedBoundingBox} The modified result parameter or a new AxisAlignedBoundingBox instance if one was not provided.\n   *\n   * @example\n   * // Compute an axis aligned bounding box enclosing two points.\n   * const box = Cesium.AxisAlignedBoundingBox.fromPoints([new Cesium.Vector3(2, 0, 0), new Cesium.Vector3(-2, 0, 0)]);\n   */\n  // eslint-disable-next-line\n  fromPoints(positions) {\n    if (!positions || positions.length === 0) {\n      this.minimum.set(0, 0, 0);\n      this.maximum.set(0, 0, 0);\n      this.center.set(0, 0, 0);\n      return this;\n    }\n\n    let minimumX = positions[0][0];\n    let minimumY = positions[0][1];\n    let minimumZ = positions[0][2];\n\n    let maximumX = positions[0][0];\n    let maximumY = positions[0][1];\n    let maximumZ = positions[0][2];\n\n    for (const p of positions) {\n      const x = p[0];\n      const y = p[1];\n      const z = p[2];\n\n      minimumX = Math.min(x, minimumX);\n      maximumX = Math.max(x, maximumX);\n      minimumY = Math.min(y, minimumY);\n      maximumY = Math.max(y, maximumY);\n      minimumZ = Math.min(z, minimumZ);\n      maximumZ = Math.max(z, maximumZ);\n    }\n\n    this.minimum.set(minimumX, minimumY, minimumZ);\n    this.maximum.set(maximumX, maximumY, maximumZ);\n    this.center\n      .copy(this.minimum)\n      .add(this.maximum)\n      .scale(0.5);\n\n    return this;\n  }\n\n  /**\n   * Duplicates a AxisAlignedBoundingBox instance.\n   *\n   * @returns {AxisAlignedBoundingBox} A new AxisAlignedBoundingBox instance.\n   */\n  clone() {\n    return new AxisAlignedBoundingBox(this.minimum, this.maximum, this.center);\n  }\n\n  /**\n   * Compares the provided AxisAlignedBoundingBox componentwise and returns\n   * <code>true</code> if they are equal, <code>false</code> otherwise.\n   *\n   * @param {AxisAlignedBoundingBox} [right] The second AxisAlignedBoundingBox to compare with.\n   * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\n   */\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) &&\n        this.center.equals(right.center) &&\n        this.minimum.equals(right.minimum) &&\n        this.maximum.equals(right.maximum))\n    );\n  }\n\n  /**\n   * Determines which side of a plane a box is located.\n   */\n  intersectPlane(plane) {\n    const h = scratchVector\n      .copy(this.maximum)\n      .subtract(this.minimum)\n      .scale(0.5); // The positive half diagonal\n    const normal = scratchNormal.from(plane.normal);\n    const e = h.x * Math.abs(normal.x) + h.y * Math.abs(normal.y) + h.z * Math.abs(normal.z);\n    const s = this.center.dot(normal) + plane.distance; // signed distance from center\n\n    if (s - e > 0) {\n      return INTERSECTION.INSIDE;\n    }\n\n    if (s + e < 0) {\n      // Not in front because normals point inward\n      return INTERSECTION.OUTSIDE;\n    }\n\n    return INTERSECTION.INTERSECTING;\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Matrix4} from '@math.gl/core';\nimport * as mat4 from 'gl-matrix/mat4';\nimport {INTERSECTION} from '../constants';\n\n// import Rectangle from './rectangle';\n\n// const defaultProjection = new GeographicProjection();\n// const fromRectangle2DLowerLeft = new Vector3();\n// const fromRectangle2DUpperRight = new Vector3();\n// const fromRectangle2DSouthwest = new Cartographic();\n// const fromRectangle2DNortheast = new Cartographic();\n\n// const fromRectangle3DScratch = [];\n\nconst scratchVector = new Vector3();\nconst scratchVector2 = new Vector3();\n\nexport default class BoundingSphere {\n  constructor(center = [0, 0, 0], radius = 0.0) {\n    this.radius = -0;\n    this.center = new Vector3();\n    this.fromCenterRadius(center, radius);\n  }\n\n  fromCenterRadius(center, radius) {\n    this.center.from(center);\n    this.radius = radius;\n    return this;\n  }\n\n  // Computes a bounding sphere from the corner points of an axis-aligned bounding box.  The sphere\n  // tighly and fully encompases the box.\n  fromCornerPoints(corner, oppositeCorner) {\n    oppositeCorner = scratchVector.from(oppositeCorner);\n    this.center = new Vector3()\n      .from(corner)\n      .add(oppositeCorner)\n      .scale(0.5);\n    this.radius = this.center.distance(oppositeCorner);\n    return this;\n  }\n\n  // Compares the provided BoundingSphere componentwise\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.center.equals(right.center) && this.radius === right.radius)\n    );\n  }\n\n  // Duplicates a BoundingSphere instance.\n  clone() {\n    return new BoundingSphere(this.center, this.radius);\n  }\n\n  // Computes a bounding sphere that contains both the left and right bounding spheres.\n  union(boundingSphere) {\n    const leftCenter = this.center;\n    const leftRadius = this.radius;\n    const rightCenter = boundingSphere.center;\n    const rightRadius = boundingSphere.radius;\n\n    const toRightCenter = scratchVector.copy(rightCenter).subtract(leftCenter);\n    const centerSeparation = toRightCenter.magnitude();\n\n    if (leftRadius >= centerSeparation + rightRadius) {\n      // Left sphere wins.\n      return this.clone();\n    }\n\n    if (rightRadius >= centerSeparation + leftRadius) {\n      // Right sphere wins.\n      return boundingSphere.clone();\n    }\n\n    // There are two tangent points, one on far side of each sphere.\n    const halfDistanceBetweenTangentPoints = (leftRadius + centerSeparation + rightRadius) * 0.5;\n\n    // Compute the center point halfway between the two tangent points.\n    scratchVector2\n      .copy(toRightCenter)\n      .scale((-leftRadius + halfDistanceBetweenTangentPoints) / centerSeparation)\n      .add(leftCenter);\n\n    this.center.copy(scratchVector2);\n    this.radius = halfDistanceBetweenTangentPoints;\n\n    return this;\n  }\n\n  // Computes a bounding sphere by enlarging the provided sphere to contain the provided point.\n  expand(point) {\n    point = scratchVector.from(point);\n    const radius = point.subtract(this.center).magnitude();\n    if (radius > this.radius) {\n      this.radius = radius;\n    }\n    return this;\n  }\n\n  // Determines which side of a plane a sphere is located.\n  intersectPlane(plane) {\n    var center = this.center;\n    var radius = this.radius;\n    var normal = plane.normal;\n    var distanceToPlane = normal.dot(center) + plane.distance;\n\n    // The center point is negative side of the plane normal\n    if (distanceToPlane < -radius) {\n      return INTERSECTION.OUTSIDE;\n    }\n    // The center point is positive side of the plane, but radius extends beyond it; partial overlap\n    if (distanceToPlane < radius) {\n      return INTERSECTION.INTERSECTING;\n    }\n    // The center point and radius is positive side of the plane\n    return INTERSECTION.INSIDE;\n  }\n\n  // Applies a 4x4 affine transformation matrix to a bounding sphere.\n  //    *\n  // @param {BoundingSphere} sphere The bounding sphere to apply the transformation to.\n  // @param {Matrix4} transform The transformation matrix to apply to the bounding sphere.\n  // @returns {BoundingSphere} The modified this parameter or a new BoundingSphere instance if none was provided.\n  transform(transform) {\n    this.center.transform(transform);\n    const scale = mat4.getScaling(scratchVector, transform);\n    this.radius = Math.max(scale[0], Math.max(scale[1], scale[2])) * this.radius;\n    return this;\n  }\n\n  // Computes the estimated distance squared from the closest point on a bounding sphere to a point.\n  distanceSquaredTo(point) {\n    point = scratchVector.from(point);\n    const delta = point.subtract(this.center);\n    return delta.lengthSquared() - this.radius * this.radius;\n  }\n\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n}\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Matrix from './base/matrix';\nimport {checkVector, deprecated} from '../lib/validators';\nimport {vec4_transformMat3} from '../lib/gl-matrix-extras';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as mat3 from 'gl-matrix/mat3';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\n\nconst IDENTITY = Object.freeze([1, 0, 0, 0, 1, 0, 0, 0, 1]);\nconst ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nconst INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL1ROW0: 3,\n  COL1ROW1: 4,\n  COL1ROW2: 5,\n  COL2ROW0: 6,\n  COL2ROW1: 7,\n  COL2ROW2: 8\n});\n\nconst constants = {};\n\nexport default class Matrix3 extends Matrix {\n  static get IDENTITY() {\n    constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix3(IDENTITY));\n    return constants.IDENTITY;\n  }\n\n  static get ZERO() {\n    constants.ZERO = constants.ZERO || Object.freeze(new Matrix3(ZERO));\n    return constants.ZERO;\n  }\n\n  get ELEMENTS() {\n    return 9;\n  }\n\n  get RANK() {\n    return 3;\n  }\n\n  get INDICES() {\n    return INDICES;\n  }\n\n  constructor(array) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0, -0, -0, -0, -0, -0);\n    if (arguments.length === 1 && Array.isArray(array)) {\n      this.copy(array);\n    } else {\n      this.identity();\n    }\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    this[4] = array[4];\n    this[5] = array[5];\n    this[6] = array[6];\n    this[7] = array[7];\n    this[8] = array[8];\n    return this.check();\n  }\n\n  // accepts column major order, stores in column major order\n  // eslint-disable-next-line max-params\n  set(m00, m10, m20, m01, m11, m21, m02, m12, m22) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m01;\n    this[4] = m11;\n    this[5] = m21;\n    this[6] = m02;\n    this[7] = m12;\n    this[8] = m22;\n    return this.check();\n  }\n\n  // accepts row major order, stores as column major\n  // eslint-disable-next-line max-params\n  setRowMajor(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m01;\n    this[4] = m11;\n    this[5] = m21;\n    this[6] = m02;\n    this[7] = m12;\n    this[8] = m22;\n    return this.check();\n  }\n\n  // Accessors\n\n  determinant() {\n    return mat3.determinant(this);\n  }\n\n  // Constructors\n\n  identity() {\n    return this.copy(IDENTITY);\n  }\n\n  // Calculates a 3x3 matrix from the given quaternion\n  // q quat  Quaternion to create matrix from\n  fromQuaternion(q) {\n    mat3.fromQuat(this, q);\n    return this.check();\n  }\n\n  // Modifiers\n\n  transpose() {\n    mat3.transpose(this, this);\n    return this.check();\n  }\n\n  invert() {\n    mat3.invert(this, this);\n    return this.check();\n  }\n\n  // Operations\n\n  multiplyLeft(a) {\n    mat3.multiply(this, a, this);\n    return this.check();\n  }\n\n  multiplyRight(a) {\n    mat3.multiply(this, this, a);\n    return this.check();\n  }\n\n  rotate(radians) {\n    mat3.rotate(this, this, radians);\n    return this.check();\n  }\n\n  scale(factor) {\n    if (Array.isArray(factor)) {\n      mat3.scale(this, this, factor);\n    } else {\n      mat3.scale(this, this, [factor, factor, factor]);\n    }\n\n    return this.check();\n  }\n\n  translate(vec) {\n    mat3.translate(this, this, vec);\n    return this.check();\n  }\n\n  // Transforms\n\n  transform(vector, result) {\n    switch (vector.length) {\n      case 2:\n        result = vec2.transformMat3(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3.transformMat3(result || [-0, -0, -0], vector, this);\n        break;\n      case 4:\n        result = vec4_transformMat3(result || [-0, -0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // DEPRECATED IN 3.0\n\n  transformVector(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n\n  transformVector2(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n\n  transformVector3(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Matrix3, _MathUtils} from '@math.gl/core';\n\nconst scratchMatrix = new Matrix3();\nconst scratchUnitary = new Matrix3();\nconst scratchDiagonal = new Matrix3();\n\nconst jMatrix = new Matrix3();\nconst jMatrixTranspose = new Matrix3();\n\nexport default function computeEigenDecomposition(matrix, result = {}) {\n  const EIGEN_TOLERANCE = _MathUtils.EPSILON20;\n  const EIGEN_MAX_SWEEPS = 10;\n\n  let count = 0;\n  let sweep = 0;\n\n  const unitaryMatrix = scratchUnitary;\n  const diagonalMatrix = scratchDiagonal;\n\n  unitaryMatrix.identity();\n  diagonalMatrix.copy(matrix);\n\n  const epsilon = EIGEN_TOLERANCE * computeFrobeniusNorm(diagonalMatrix);\n\n  while (sweep < EIGEN_MAX_SWEEPS && offDiagonalFrobeniusNorm(diagonalMatrix) > epsilon) {\n    shurDecomposition(diagonalMatrix, jMatrix);\n\n    jMatrixTranspose.copy(jMatrix).transpose();\n\n    diagonalMatrix.multiplyRight(jMatrix);\n    diagonalMatrix.multiplyLeft(jMatrixTranspose);\n    unitaryMatrix.multiplyRight(jMatrix);\n\n    if (++count > 2) {\n      ++sweep;\n      count = 0;\n    }\n  }\n\n  result.unitary = unitaryMatrix.toTarget(result.unitary);\n  result.diagonal = diagonalMatrix.toTarget(result.diagonal);\n\n  return result;\n}\n\nfunction computeFrobeniusNorm(matrix) {\n  let norm = 0.0;\n  for (let i = 0; i < 9; ++i) {\n    const temp = matrix[i];\n    norm += temp * temp;\n  }\n  return Math.sqrt(norm);\n}\n\nconst rowVal = [1, 0, 0];\nconst colVal = [2, 2, 1];\n\n// Computes the \"off-diagonal\" Frobenius norm.\n// Assumes matrix is symmetric.\nfunction offDiagonalFrobeniusNorm(matrix) {\n  let norm = 0.0;\n  for (let i = 0; i < 3; ++i) {\n    const temp = matrix[scratchMatrix.getElementIndex(colVal[i], rowVal[i])];\n    norm += 2.0 * temp * temp;\n  }\n  return Math.sqrt(norm);\n}\n\n// The routine takes a matrix, which is assumed to be symmetric, and\n// finds the largest off-diagonal term, and then creates\n// a matrix (result) which can be used to help reduce it\n//\n// This routine was created based upon Matrix Computations, 3rd ed., by Golub and Van Loan,\n// section 8.4.2 The 2by2 Symmetric Schur Decomposition.\n//\n// eslint-disable-next-line max-statements\nfunction shurDecomposition(matrix, result) {\n  const tolerance = _MathUtils.EPSILON15;\n\n  let maxDiagonal = 0.0;\n  let rotAxis = 1;\n\n  // find pivot (rotAxis) based on max diagonal of matrix\n  for (let i = 0; i < 3; ++i) {\n    const temp = Math.abs(matrix[scratchMatrix.getElementIndex(colVal[i], rowVal[i])]);\n    if (temp > maxDiagonal) {\n      rotAxis = i;\n      maxDiagonal = temp;\n    }\n  }\n\n  const p = rowVal[rotAxis];\n  const q = colVal[rotAxis];\n\n  let c = 1.0;\n  let s = 0.0;\n\n  if (Math.abs(matrix[scratchMatrix.getElementIndex(q, p)]) > tolerance) {\n    const qq = matrix[scratchMatrix.getElementIndex(q, q)];\n    const pp = matrix[scratchMatrix.getElementIndex(p, p)];\n    const qp = matrix[scratchMatrix.getElementIndex(q, p)];\n\n    const tau = (qq - pp) / 2.0 / qp;\n    let t;\n\n    if (tau < 0.0) {\n      t = -1.0 / (-tau + Math.sqrt(1.0 + tau * tau));\n    } else {\n      t = 1.0 / (tau + Math.sqrt(1.0 + tau * tau));\n    }\n\n    c = 1.0 / Math.sqrt(1.0 + t * t);\n    s = t * c;\n  }\n\n  // Copy into result\n  Matrix3.IDENTITY.to(result);\n  result[scratchMatrix.getElementIndex(p, p)] = result[scratchMatrix.getElementIndex(q, q)] = c;\n  result[scratchMatrix.getElementIndex(q, p)] = s;\n  result[scratchMatrix.getElementIndex(p, q)] = -s;\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix3} from '@math.gl/core';\nimport computeEigenDecomposition from './compute-eigen-decomposition';\n\nconst scratchVector2 = new Vector3();\n\nconst scratchVector3 = new Vector3();\n\nconst scratchVector4 = new Vector3();\n\nconst scratchVector5 = new Vector3();\n\nconst scratchVector6 = new Vector3();\n\nconst scratchCovarianceResult = new Matrix3();\n\nconst scratchEigenResult = {\n  diagonal: new Matrix3(),\n  unitary: new Matrix3()\n};\n\n// eslint-disable-next-line max-statements\nexport default function makeOrientedBoundingBoxfromPoints(positions, result) {\n  if (!positions || positions.length === 0) {\n    result.halfAxes = new Matrix3([0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    result.center = new Vector3();\n    return result;\n  }\n\n  const length = positions.length;\n  const meanPoint = new Vector3(0, 0, 0);\n  for (const position of positions) {\n    meanPoint.add(position);\n  }\n  const invLength = 1.0 / length;\n  meanPoint.multiplyByScalar(invLength);\n\n  let exx = 0.0;\n  let exy = 0.0;\n  let exz = 0.0;\n  let eyy = 0.0;\n  let eyz = 0.0;\n  let ezz = 0.0;\n\n  for (const position of positions) {\n    const p = scratchVector2.copy(position).subtract(meanPoint);\n    exx += p.x * p.x;\n    exy += p.x * p.y;\n    exz += p.x * p.z;\n    eyy += p.y * p.y;\n    eyz += p.y * p.z;\n    ezz += p.z * p.z;\n  }\n\n  exx *= invLength;\n  exy *= invLength;\n  exz *= invLength;\n  eyy *= invLength;\n  eyz *= invLength;\n  ezz *= invLength;\n\n  const covarianceMatrix = scratchCovarianceResult;\n  covarianceMatrix[0] = exx;\n  covarianceMatrix[1] = exy;\n  covarianceMatrix[2] = exz;\n  covarianceMatrix[3] = exy;\n  covarianceMatrix[4] = eyy;\n  covarianceMatrix[5] = eyz;\n  covarianceMatrix[6] = exz;\n  covarianceMatrix[7] = eyz;\n  covarianceMatrix[8] = ezz;\n\n  const {unitary} = computeEigenDecomposition(covarianceMatrix, scratchEigenResult);\n  const rotation = result.halfAxes.copy(unitary);\n\n  let v1 = rotation.getColumn(0, scratchVector4);\n  let v2 = rotation.getColumn(1, scratchVector5);\n  let v3 = rotation.getColumn(2, scratchVector6);\n\n  let u1 = -Number.MAX_VALUE;\n  let u2 = -Number.MAX_VALUE;\n  let u3 = -Number.MAX_VALUE;\n  let l1 = Number.MAX_VALUE;\n  let l2 = Number.MAX_VALUE;\n  let l3 = Number.MAX_VALUE;\n\n  for (const position of positions) {\n    u1 = Math.max(position.dot(v1), u1);\n    u2 = Math.max(position.dot(v2), u2);\n    u3 = Math.max(position.dot(v3), u3);\n\n    l1 = Math.min(position.dot(v1), l1);\n    l2 = Math.min(position.dot(v2), l2);\n    l3 = Math.min(position.dot(v3), l3);\n  }\n\n  v1 = v1.multiplyByScalar(0.5 * (l1 + u1));\n  v2 = v2.multiplyByScalar(0.5 * (l2 + u2));\n  v3 = v3.multiplyByScalar(0.5 * (l3 + u3));\n\n  result.center\n    .copy(v1)\n    .add(v2)\n    .add(v3);\n\n  const scale = scratchVector3.set(u1 - l1, u2 - l2, u3 - l3).multiplyByScalar(0.5);\n  result.halfAxes.multiplyByScalar(scale);\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix3} from '@math.gl/core';\nimport BoundingSphere from './bounding-sphere';\nimport {INTERSECTION} from '../constants';\nimport makeOrientedBoundingBoxfromPoints from '../algorithms/bounding-box-from-points';\n\nconst scratchVector = new Vector3();\nconst scratchOffset = new Vector3();\nconst scratchVectorU = new Vector3();\nconst scratchVectorV = new Vector3();\nconst scratchVectorW = new Vector3();\nconst scratchPPrime = new Vector3();\nconst scratchCorner = new Vector3();\nconst scratchToCenter = new Vector3();\n\nconst fromOrientedBoundingBoxScratchU = new Vector3();\nconst fromOrientedBoundingBoxScratchV = new Vector3();\nconst fromOrientedBoundingBoxScratchW = new Vector3();\n\nconst MATRIX3 = {\n  COLUMN0ROW0: 0,\n  COLUMN0ROW1: 1,\n  COLUMN0ROW2: 2,\n  COLUMN1ROW0: 3,\n  COLUMN1ROW1: 4,\n  COLUMN1ROW2: 5,\n  COLUMN2ROW0: 6,\n  COLUMN2ROW1: 7,\n  COLUMN2ROW2: 8\n};\n\nexport default class OrientedBoundingBox {\n  constructor(center = [0, 0, 0], halfAxes = [0, 0, 0, 0, 0, 0, 0, 0, 0]) {\n    this.center = new Vector3().from(center);\n    this.halfAxes = new Matrix3(halfAxes);\n  }\n\n  // Duplicates a OrientedBoundingBox instance.\n  clone() {\n    return new OrientedBoundingBox(this.center, this.halfAxes);\n  }\n\n  fromPoints(points, result = new OrientedBoundingBox()) {\n    return makeOrientedBoundingBoxfromPoints(points, result);\n  }\n\n  // Compares the provided OrientedBoundingBox componentwise and returns\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.center.equals(right.center) && this.halfAxes.equals(right.halfAxes))\n    );\n  }\n\n  // Computes a tight-fitting bounding sphere enclosing the provided oriented bounding box.\n  getBoundingSphere(result = new BoundingSphere()) {\n    const halfAxes = this.halfAxes;\n    const u = halfAxes.getColumn(0, fromOrientedBoundingBoxScratchU);\n    const v = halfAxes.getColumn(1, fromOrientedBoundingBoxScratchV);\n    const w = halfAxes.getColumn(2, fromOrientedBoundingBoxScratchW);\n\n    // Calculate \"corner\" vector\n    const cornerVector = scratchVector\n      .copy(u)\n      .add(v)\n      .add(w);\n\n    result.center.copy(this.center);\n    result.radius = cornerVector.magnitude();\n\n    return result;\n  }\n\n  /**\n   * Determines which side of a plane the oriented bounding box is located.\n   *\n   * @param plane The plane to test against.\n   * @returns\n   *  - `INTERSECTION.INSIDE` if the entire box is on the side of the plane the normal is pointing.\n   *  - `INTERSECTION.OUTSIDE` if the entire box is on the opposite side.\n   *  - `INTERSECTION.INTERSECTING` if the box intersects the plane.\n   */\n  intersectPlane(plane) {\n    const center = this.center;\n    const normal = plane.normal;\n    const halfAxes = this.halfAxes;\n\n    const normalX = normal.x;\n    const normalY = normal.y;\n    const normalZ = normal.z;\n\n    // Plane is used as if it is its normal; the first three components are assumed to be normalized\n    const radEffective =\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN0ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN0ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN0ROW2]\n      ) +\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN1ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN1ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN1ROW2]\n      ) +\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN2ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN2ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN2ROW2]\n      );\n    const distanceToPlane = normal.dot(center) + plane.distance;\n\n    if (distanceToPlane <= -radEffective) {\n      // The entire box is on the negative side of the plane normal\n      return INTERSECTION.OUTSIDE;\n    } else if (distanceToPlane >= radEffective) {\n      // The entire box is on the positive side of the plane normal\n      return INTERSECTION.INSIDE;\n    }\n    return INTERSECTION.INTERSECTING;\n  }\n\n  // Computes the estimated distance from the closest point on a bounding box to a point.\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n\n  // Computes the estimated distance squared from the closest point on a bounding box to a point.\n  // See Geometric Tools for Computer Graphics 10.4.2\n\n  // eslint-disable-next-line max-statements\n  distanceSquaredTo(point) {\n    const offset = scratchOffset.from(point).subtract(this.center);\n\n    const halfAxes = this.halfAxes;\n    const u = halfAxes.getColumn(0, scratchVectorU);\n    const v = halfAxes.getColumn(1, scratchVectorV);\n    const w = halfAxes.getColumn(2, scratchVectorW);\n\n    const uHalf = u.magnitude();\n    const vHalf = v.magnitude();\n    const wHalf = w.magnitude();\n\n    u.normalize();\n    v.normalize();\n    w.normalize();\n\n    const pPrime = scratchPPrime;\n    pPrime.x = offset.dot(u);\n    pPrime.y = offset.dot(v);\n    pPrime.z = offset.dot(w);\n\n    let distanceSquared = 0.0;\n    let d;\n\n    if (pPrime.x < -uHalf) {\n      d = pPrime.x + uHalf;\n      distanceSquared += d * d;\n    } else if (pPrime.x > uHalf) {\n      d = pPrime.x - uHalf;\n      distanceSquared += d * d;\n    }\n\n    if (pPrime.y < -vHalf) {\n      d = pPrime.y + vHalf;\n      distanceSquared += d * d;\n    } else if (pPrime.y > vHalf) {\n      d = pPrime.y - vHalf;\n      distanceSquared += d * d;\n    }\n\n    if (pPrime.z < -wHalf) {\n      d = pPrime.z + wHalf;\n      distanceSquared += d * d;\n    } else if (pPrime.z > wHalf) {\n      d = pPrime.z - wHalf;\n      distanceSquared += d * d;\n    }\n\n    return distanceSquared;\n  }\n\n  // The distances calculated by the vector from the center of the bounding box\n  // to position projected onto direction.\n\n  // eslint-disable-next-line max-statements\n  computePlaneDistances(position, direction, result = [-0, -0]) {\n    let minDist = Number.POSITIVE_INFINITY;\n    let maxDist = Number.NEGATIVE_INFINITY;\n\n    const center = this.center;\n    const halfAxes = this.halfAxes;\n\n    const u = halfAxes.getColumn(0, scratchVectorU);\n    const v = halfAxes.getColumn(1, scratchVectorV);\n    const w = halfAxes.getColumn(2, scratchVectorW);\n\n    // project first corner\n    const corner = scratchCorner\n      .copy(u)\n      .add(v)\n      .add(w)\n      .add(center);\n\n    const toCenter = scratchToCenter.copy(corner).subtract(position);\n    let mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project second corner\n    corner\n      .copy(center)\n      .add(u)\n      .add(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project third corner\n    corner\n      .copy(center)\n      .add(u)\n      .subtract(v)\n      .add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project fourth corner\n    corner\n      .copy(center)\n      .add(u)\n      .subtract(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project fifth corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .add(v)\n      .add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project sixth corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .add(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project seventh corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .subtract(v)\n      .add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project eighth corner\n    center\n      .copy(corner)\n      .subtract(u)\n      .subtract(v)\n      .subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    result[0] = minDist;\n    result[1] = maxDist;\n    return result;\n  }\n\n  getTransform() {\n    // const modelMatrix = Matrix4.fromRotationTranslation(this.boundingVolume.halfAxes, this.boundingVolume.center);\n    // return modelMatrix;\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, equals, assert} from '@math.gl/core';\n\nconst scratchPosition = new Vector3();\nconst scratchNormal = new Vector3();\n\n// A plane in Hessian Normal Form\nexport default class Plane {\n  constructor(normal = [0, 0, 1], distance = 0) {\n    this.normal = new Vector3();\n    this.distance = -0;\n    this.fromNormalDistance(normal, distance);\n  }\n\n  fromNormalDistance(normal, distance) {\n    assert(Number.isFinite(distance));\n    this.normal.from(normal).normalize();\n    this.distance = distance;\n    return this;\n  }\n\n  // Creates a plane from a normal and a point on the plane.\n  fromPointNormal(point, normal) {\n    point = scratchPosition.from(point);\n    this.normal.from(normal).normalize();\n    const distance = -this.normal.dot(point);\n    this.distance = distance;\n\n    return this;\n  }\n\n  // Creates a plane from the general equation\n  fromCoefficients(a, b, c, d) {\n    this.normal.set(a, b, c);\n    assert(equals(this.normal.len(), 1));\n    this.distance = d;\n    return this;\n  }\n\n  // Duplicates a Plane instance.\n  clone(plane) {\n    return new Plane(this.normal, this.distance);\n  }\n\n  // Compares the provided Planes by normal and distance\n  equals(right) {\n    return equals(this.distance, right.distance) && equals(this.normal, right.normal);\n  }\n\n  // Computes the signed shortest distance of a point to a plane.\n  // The sign of the distance determines which side of the plane the point is on.\n  getPointDistance(point) {\n    return this.normal.dot(point) + this.distance;\n  }\n\n  // Transforms the plane by the given transformation matrix.\n  transform(matrix4) {\n    const normal = scratchNormal\n      .copy(this.normal)\n      .transformAsVector(matrix4)\n      .normalize();\n    const point = this.normal.scale(-this.distance).transform(matrix4);\n    return this.fromPointNormal(point, normal);\n  }\n\n  // Projects a point onto the plane.\n  projectPointOntoPlane(point, result = [0, 0, 0]) {\n    point = scratchPosition.from(point);\n    // projectedPoint = point - (normal.point + scale) * normal\n    const pointDistance = this.getPointDistance(point);\n    const scaledNormal = scratchNormal.copy(this.normal).scale(pointDistance);\n\n    return point.subtract(scaledNormal).to(result);\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Vector4, assert} from '@math.gl/core';\nimport {INTERSECTION} from '../constants';\nimport Plane from './plane';\n\n// X, Y, Z Unit vectors\nconst faces = [new Vector3([1, 0, 0]), new Vector3([0, 1, 0]), new Vector3([0, 0, 1])];\n\nconst scratchPlaneCenter = new Vector3();\nconst scratchPlaneNormal = new Vector3();\nconst scratchPlane = new Plane(new Vector3(1.0, 0.0, 0.0), 0.0);\n\n// A culling volume defined by planes.\nexport default class CullingVolume {\n  // For plane masks (as used in {@link CullingVolume#computeVisibilityWithPlaneMask}), this special value\n  // represents the case where the object bounding volume is entirely outside the culling volume.\n  static get MASK_OUTSIDE() {\n    return 0xffffffff;\n  }\n\n  // For plane masks (as used in {@link CullingVolume.prototype.computeVisibilityWithPlaneMask}), this value\n  // represents the case where the object bounding volume is entirely inside the culling volume.\n  static get MASK_INSIDE() {\n    return 0x00000000;\n  }\n\n  // For plane masks (as used in {@link CullingVolume.prototype.computeVisibilityWithPlaneMask}), this value\n  // represents the case where the object bounding volume (may) intersect all planes of the culling volume.\n  static get MASK_INDETERMINATE() {\n    return 0x7fffffff;\n  }\n\n  constructor(planes = []) {\n    // {Cartesian4[]} [planes] An array of clipping planes.\n    this.planes = planes;\n    assert(this.planes.every(plane => plane instanceof Plane));\n  }\n\n  // Constructs a culling volume from a bounding sphere. Creates six planes that create a box containing the sphere.\n  // The planes are aligned to the x, y, and z axes in world coordinates.\n  fromBoundingSphere(boundingSphere) {\n    this.planes.length = 2 * faces.length;\n\n    const center = boundingSphere.center;\n    const radius = boundingSphere.radius;\n\n    let planeIndex = 0;\n\n    for (const faceNormal of faces) {\n      let plane0 = this.planes[planeIndex];\n      let plane1 = this.planes[planeIndex + 1];\n\n      if (!plane0) {\n        plane0 = this.planes[planeIndex] = new Plane();\n      }\n      if (!plane1) {\n        plane1 = this.planes[planeIndex + 1] = new Plane();\n      }\n\n      const plane0Center = scratchPlaneCenter\n        .copy(faceNormal)\n        .scale(-radius)\n        .add(center);\n      const plane0Distance = -faceNormal.dot(plane0Center);\n\n      plane0.fromPointNormal(plane0Center, faceNormal);\n\n      const plane1Center = scratchPlaneCenter\n        .copy(faceNormal)\n        .scale(radius)\n        .add(center);\n\n      const negatedFaceNormal = scratchPlaneNormal.copy(faceNormal).negate();\n\n      const plane1Distance = -negatedFaceNormal.dot(plane1Center);\n\n      plane1.fromPointNormal(plane1Center, negatedFaceNormal);\n\n      planeIndex += 2;\n    }\n\n    return this;\n  }\n\n  // Determines whether a bounding volume intersects the culling volume.\n  computeVisibility(boundingVolume) {\n    assert(boundingVolume);\n    // const planes = this.planes;\n    let intersect = INTERSECTION.INSIDE;\n    for (const plane of this.planes) {\n      const result = boundingVolume.intersectPlane(plane);\n      switch (result) {\n        case INTERSECTION.OUTSIDE:\n          // We are done\n          return INTERSECTION.OUTSIDE;\n\n        case INTERSECTION.INTERSECTING:\n          // If no other intersection is outside, return INTERSECTING\n          intersect = INTERSECTION.INTERSECTING;\n          break;\n\n        default:\n      }\n    }\n\n    return intersect;\n  }\n\n  // Determines whether a bounding volume intersects the culling volume.\n  /*\n   * @param {Number} parentPlaneMask A bit mask from the boundingVolume's parent's check against the same culling\n   *                                 volume, such that if (planeMask & (1 << planeIndex) === 0), for k < 31, then\n   *                                 the parent (and therefore this) volume is completely inside plane[planeIndex]\n   *                                 and that plane check can be skipped.\n   */\n  computeVisibilityWithPlaneMask(boundingVolume, parentPlaneMask) {\n    assert(boundingVolume, 'boundingVolume is required.');\n    assert(Number.isFinite(parentPlaneMask), 'parentPlaneMask is required.');\n\n    if (\n      parentPlaneMask === CullingVolume.MASK_OUTSIDE ||\n      parentPlaneMask === CullingVolume.MASK_INSIDE\n    ) {\n      // parent is completely outside or completely inside, so this child is as well.\n      return parentPlaneMask;\n    }\n\n    // Start with MASK_INSIDE (all zeros) so that after the loop, the return value can be compared with MASK_INSIDE.\n    // (Because if there are fewer than 31 planes, the upper bits wont be changed.)\n    let mask = CullingVolume.MASK_INSIDE;\n\n    const planes = this.planes;\n    for (let k = 0; k < this.planes.length; ++k) {\n      // For k greater than 31 (since 31 is the maximum number of INSIDE/INTERSECTING bits we can store), skip the optimization.\n      const flag = k < 31 ? 1 << k : 0;\n      if (k < 31 && (parentPlaneMask & flag) === 0) {\n        // boundingVolume is known to be INSIDE this plane.\n        continue;\n      }\n\n      const plane = planes[k];\n      const result = boundingVolume.intersectPlane(plane);\n      if (result === INTERSECTION.OUTSIDE) {\n        return CullingVolume.MASK_OUTSIDE;\n      } else if (result === INTERSECTION.INTERSECTING) {\n        mask |= flag;\n      }\n    }\n\n    return mask;\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// Note: This class is still an experimental export, mainly used by other test cases\n// - It has not been fully adapted to math.gl conventions\n// - Documentation has not been ported\n\n// @ts-nocheck\n\nimport {Vector3, Matrix4, assert} from '@math.gl/core';\nimport CullingVolume from './culling-volume';\nimport Plane from './plane';\n\nconst scratchPlaneUpVector = new Vector3();\nconst scratchPlaneRightVector = new Vector3();\nconst scratchPlaneNearCenter = new Vector3();\nconst scratchPlaneFarCenter = new Vector3();\nconst scratchPlaneNormal = new Vector3();\n\nexport default class PerspectiveOffCenterFrustum {\n  /**\n   * The viewing frustum is defined by 6 planes.\n   * Each plane is represented by a {@link Vector4} object, where the x, y, and z components\n   * define the unit vector normal to the plane, and the w component is the distance of the\n   * plane from the origin/camera position.\n   *\n   * @alias PerspectiveOffCenterFrustum\n   * @constructor\n   *\n   * @param {Object} [options] An object with the following properties:\n   * @param {Number} [options.left] The left clipping plane distance.\n   * @param {Number} [options.right] The right clipping plane distance.\n   * @param {Number} [options.top] The top clipping plane distance.\n   * @param {Number} [options.bottom] The bottom clipping plane distance.\n   * @param {Number} [options.near=1.0] The near clipping plane distance.\n   * @param {Number} [options.far=500000000.0] The far clipping plane distance.\n   *\n   * @example\n   * const frustum = new PerspectiveOffCenterFrustum({\n   *     left : -1.0,\n   *     right : 1.0,\n   *     top : 1.0,\n   *     bottom : -1.0,\n   *     near : 1.0,\n   *     far : 100.0\n   * });\n   *\n   * @see PerspectiveFrustum\n   */\n  constructor(options = {}) {\n    options = {near: 1.0, far: 500000000.0, ...options};\n\n    /**\n     * Defines the left clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.left = options.left;\n    this._left = undefined;\n\n    /**\n     * Defines the right clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.right = options.right;\n    this._right = undefined;\n\n    /**\n     * Defines the top clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.top = options.top;\n    this._top = undefined;\n\n    /**\n     * Defines the bottom clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.bottom = options.bottom;\n    this._bottom = undefined;\n\n    /**\n     * The distance of the near plane.\n     * @type {Number}\n     * @default 1.0\n     */\n    this.near = options.near;\n    this._near = this.near;\n\n    /**\n     * The distance of the far plane.\n     * @type {Number}\n     * @default 500000000.0\n     */\n    this.far = options.far;\n    this._far = this.far;\n\n    this._cullingVolume = new CullingVolume([\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane()\n    ]);\n    this._perspectiveMatrix = new Matrix4();\n    this._infinitePerspective = new Matrix4();\n  }\n\n  /**\n   * Returns a duplicate of a PerspectiveOffCenterFrustum instance.\n   * @returns {PerspectiveOffCenterFrustum} A new PerspectiveFrustum instance.\n   * */\n  clone() {\n    return new PerspectiveOffCenterFrustum({\n      right: this.right,\n      left: this.left,\n      top: this.top,\n      bottom: this.bottom,\n      near: this.near,\n      far: this.far\n    });\n  }\n\n  /**\n   * Compares the provided PerspectiveOffCenterFrustum componentwise and returns\n   * <code>true</code> if they are equal, <code>false</code> otherwise.\n   *\n   * @param {PerspectiveOffCenterFrustum} [other] The right hand side PerspectiveOffCenterFrustum.\n   * @returns {Boolean} <code>true</code> if they are equal, <code>false</code> otherwise.\n   */\n  equals(other) {\n    return (\n      other &&\n      other instanceof PerspectiveOffCenterFrustum &&\n      this.right === other.right &&\n      this.left === other.left &&\n      this.top === other.top &&\n      this.bottom === other.bottom &&\n      this.near === other.near &&\n      this.far === other.far\n    );\n  }\n\n  /**\n   * Gets the perspective projection matrix computed from the view frustum.\n   * @memberof PerspectiveOffCenterFrustum.prototype\n   * @type {Matrix4}\n   * @readonly\n   *\n   * @see PerspectiveOffCenterFrustum#infiniteProjectionMatrix\n   */\n  get projectionMatrix() {\n    update(this);\n    return this._perspectiveMatrix;\n  }\n\n  /**\n   * Gets the perspective projection matrix computed from the view frustum with an infinite far plane.\n   * @memberof PerspectiveOffCenterFrustum.prototype\n   * @type {Matrix4}\n   * @readonly\n   *\n   * @see PerspectiveOffCenterFrustum#projectionMatrix\n   */\n  get infiniteProjectionMatrix() {\n    update(this);\n    return this._infinitePerspective;\n  }\n\n  /**\n   * Creates a culling volume for this frustum.\n   *\n   * @param {Vector3} position The eye position.\n   * @param {Vector3} direction The view direction.\n   * @param {Vector3} up The up direction.\n   * @returns {CullingVolume} A culling volume at the given position and orientation.\n   *\n   * @example\n   * // Check if a bounding volume intersects the frustum.\n   * const cullingVolume = frustum.computeCullingVolume(cameraPosition, cameraDirection, cameraUp);\n   * const intersect = cullingVolume.computeVisibility(boundingVolume);\n   */\n  // eslint-disable-next-line complexity, max-statements\n  computeCullingVolume(position, direction, up) {\n    assert(position, 'position is required.');\n    assert(direction, 'direction is required.');\n    assert(up, 'up is required.');\n\n    const planes = this._cullingVolume.planes;\n\n    up = scratchPlaneUpVector.copy(up).normalize();\n    const right = scratchPlaneRightVector\n      .copy(direction)\n      .cross(up)\n      .normalize();\n\n    const nearCenter = scratchPlaneNearCenter\n      .copy(direction)\n      .multiplyByScalar(this.near)\n      .add(position);\n\n    const farCenter = scratchPlaneFarCenter\n      .copy(direction)\n      .multiplyByScalar(this.far)\n      .add(position);\n\n    let normal = scratchPlaneNormal;\n\n    // Left plane computation\n    normal\n      .copy(right)\n      .multiplyByScalar(this.left)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(up);\n\n    planes[0].fromPointNormal(position, normal);\n\n    // Right plane computation\n    normal\n      .copy(right)\n      .multiplyByScalar(this.right)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(up)\n      .negate();\n\n    planes[1].fromPointNormal(position, normal);\n\n    // Bottom plane computation\n    normal\n      .copy(up)\n      .multiplyByScalar(this.bottom)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(right)\n      .negate();\n\n    planes[2].fromPointNormal(position, normal);\n\n    // Top plane computation\n    normal\n      .copy(up)\n      .multiplyByScalar(this.top)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(right);\n\n    planes[3].fromPointNormal(position, normal);\n\n    normal = new Vector3().copy(direction);\n\n    // Near plane computation\n    planes[4].fromPointNormal(nearCenter, normal);\n\n    // Far plane computation\n    normal.negate();\n\n    planes[5].fromPointNormal(farCenter, normal);\n\n    return this._cullingVolume;\n  }\n\n  /**\n   * Returns the pixel's width and height in meters.\n   *\n   * @param {Number} drawingBufferWidth The width of the drawing buffer.\n   * @param {Number} drawingBufferHeight The height of the drawing buffer.\n   * @param {Number} distance The distance to the near plane in meters.\n   * @param {Vector2} result The object onto which to store the result.\n   * @returns {Vector2} The modified result parameter or a new instance of {@link Vector2} with the pixel's width and height in the x and y properties, respectively.\n   *\n   * @exception {DeveloperError} drawingBufferWidth must be greater than zero.\n   * @exception {DeveloperError} drawingBufferHeight must be greater than zero.\n   *\n   * @example\n   * // Example 1\n   * // Get the width and height of a pixel.\n   * const pixelSize = camera.frustum.getPixelDimensions(scene.drawingBufferWidth, scene.drawingBufferHeight, 1.0, new Vector2());\n   *\n   * @example\n   * // Example 2\n   * // Get the width and height of a pixel if the near plane was set to 'distance'.\n   * // For example, get the size of a pixel of an image on a billboard.\n   * const position = camera.position;\n   * const direction = camera.direction;\n   * const toCenter = Vector3.subtract(primitive.boundingVolume.center, position, new Vector3());      // vector from camera to a primitive\n   * const toCenterProj = Vector3.multiplyByScalar(direction, Vector3.dot(direction, toCenter), new Vector3()); // project vector onto camera direction vector\n   * const distance = Vector3.magnitude(toCenterProj);\n   * const pixelSize = camera.frustum.getPixelDimensions(scene.drawingBufferWidth, scene.drawingBufferHeight, distance, new Vector2());\n   */\n  getPixelDimensions(drawingBufferWidth, drawingBufferHeight, distance, result) {\n    update(this);\n\n    assert(Number.isFinite(drawingBufferWidth) && Number.isFinite(drawingBufferHeight));\n    // 'Both drawingBufferWidth and drawingBufferHeight are required.'\n    assert(drawingBufferWidth > 0);\n    // 'drawingBufferWidth must be greater than zero.'\n    assert(drawingBufferHeight > 0);\n    // 'drawingBufferHeight must be greater than zero.'\n    assert(distance > 0);\n    // 'distance is required.');\n    assert(result);\n    // 'A result object is required.');\n\n    const inverseNear = 1.0 / this.near;\n    let tanTheta = this.top * inverseNear;\n    const pixelHeight = (2.0 * distance * tanTheta) / drawingBufferHeight;\n    tanTheta = this.right * inverseNear;\n    const pixelWidth = (2.0 * distance * tanTheta) / drawingBufferWidth;\n\n    result.x = pixelWidth;\n    result.y = pixelHeight;\n    return result;\n  }\n}\n\n// eslint-disable-next-line complexity, max-statements\nfunction update(frustum) {\n  assert(\n    Number.isFinite(frustum.right) &&\n      Number.isFinite(frustum.left) &&\n      Number.isFinite(frustum.top) &&\n      Number.isFinite(frustum.bottom) &&\n      Number.isFinite(frustum.near) &&\n      Number.isFinite(frustum.far)\n  );\n  // throw new DeveloperError('right, left, top, bottom, near, or far parameters are not set.');\n\n  const {top, bottom, right, left, near, far} = frustum;\n\n  if (\n    top !== frustum._top ||\n    bottom !== frustum._bottom ||\n    left !== frustum._left ||\n    right !== frustum._right ||\n    near !== frustum._near ||\n    far !== frustum._far\n  ) {\n    assert(\n      frustum.near > 0 && frustum.near < frustum.far,\n      'near must be greater than zero and less than far.'\n    );\n\n    frustum._left = left;\n    frustum._right = right;\n    frustum._top = top;\n    frustum._bottom = bottom;\n    frustum._near = near;\n    frustum._far = far;\n    frustum._perspectiveMatrix = new Matrix4().frustum({\n      left,\n      right,\n      bottom,\n      top,\n      near,\n      far\n    });\n    frustum._infinitePerspective = new Matrix4().frustum({\n      left,\n      right,\n      bottom,\n      top,\n      near,\n      far: Infinity\n    });\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3} from '@math.gl/core';\nimport BoundingSphere from '../lib/bounding-sphere';\n\n/* eslint-disable */\nconst fromPointsXMin = new Vector3();\nconst fromPointsYMin = new Vector3();\nconst fromPointsZMin = new Vector3();\nconst fromPointsXMax = new Vector3();\nconst fromPointsYMax = new Vector3();\nconst fromPointsZMax = new Vector3();\nconst fromPointsCurrentPos = new Vector3();\nconst fromPointsScratch = new Vector3();\nconst fromPointsRitterCenter = new Vector3();\nconst fromPointsMinBoxPt = new Vector3();\nconst fromPointsMaxBoxPt = new Vector3();\nconst fromPointsNaiveCenterScratch = new Vector3();\nconst volumeConstant = (4.0 / 3.0) * Math.PI;\n\nexport default function makeBoundingSphereFromPoints(positions, result = new BoundingSphere()) {\n  if (!positions || positions.length === 0) {\n    return result.fromCenterRadius([0, 0, 0], 0);\n  }\n\n  const currentPos = fromPointsCurrentPos.copy(positions[0]);\n\n  const xMin = fromPointsXMin.copy(currentPos);\n  const yMin = fromPointsYMin.copy(currentPos);\n  const zMin = fromPointsZMin.copy(currentPos);\n\n  const xMax = fromPointsXMax.copy(currentPos);\n  const yMax = fromPointsYMax.copy(currentPos);\n  const zMax = fromPointsZMax.copy(currentPos);\n\n  for (const position of positions) {\n    currentPos.copy(position);\n\n    const x = currentPos.x;\n    const y = currentPos.y;\n    const z = currentPos.z;\n\n    // Store points containing the the smallest and largest components\n    if (x < xMin.x) {\n      currentPos.copy(xMin);\n    }\n\n    if (x > xMax.x) {\n      currentPos.copy(xMax);\n    }\n\n    if (y < yMin.y) {\n      currentPos.copy(yMin);\n    }\n\n    if (y > yMax.y) {\n      currentPos.copy(yMax);\n    }\n\n    if (z < zMin.z) {\n      currentPos.copy(zMin);\n    }\n\n    if (z > zMax.z) {\n      currentPos.copy(zMax);\n    }\n  }\n\n  // Compute x-, y-, and z-spans (Squared distances b/n each component's min. and max.).\n  const xSpan = fromPointsScratch\n    .copy(xMax)\n    .subtract(xMin)\n    .magnitudeSquared();\n  const ySpan = fromPointsScratch\n    .copy(yMax)\n    .subtract(yMin)\n    .magnitudeSquared();\n  const zSpan = fromPointsScratch\n    .copy(zMax)\n    .subtract(zMin)\n    .magnitudeSquared();\n\n  // Set the diameter endpoints to the largest span.\n  let diameter1 = xMin;\n  let diameter2 = xMax;\n  let maxSpan = xSpan;\n  if (ySpan > maxSpan) {\n    maxSpan = ySpan;\n    diameter1 = yMin;\n    diameter2 = yMax;\n  }\n  if (zSpan > maxSpan) {\n    maxSpan = zSpan;\n    diameter1 = zMin;\n    diameter2 = zMax;\n  }\n\n  // Calculate the center of the initial sphere found by Ritter's algorithm\n  const ritterCenter = fromPointsRitterCenter;\n  ritterCenter.x = (diameter1.x + diameter2.x) * 0.5;\n  ritterCenter.y = (diameter1.y + diameter2.y) * 0.5;\n  ritterCenter.z = (diameter1.z + diameter2.z) * 0.5;\n\n  // Calculate the radius of the initial sphere found by Ritter's algorithm\n  let radiusSquared = fromPointsScratch\n    .copy(diameter2)\n    .subtract(ritterCenter)\n    .magnitudeSquared();\n  let ritterRadius = Math.sqrt(radiusSquared);\n\n  // Find the center of the sphere found using the Naive method.\n  const minBoxPt = fromPointsMinBoxPt;\n  minBoxPt.x = xMin.x;\n  minBoxPt.y = yMin.y;\n  minBoxPt.z = zMin.z;\n\n  const maxBoxPt = fromPointsMaxBoxPt;\n  maxBoxPt.x = xMax.x;\n  maxBoxPt.y = yMax.y;\n  maxBoxPt.z = zMax.z;\n\n  const naiveCenter = fromPointsNaiveCenterScratch\n    .copy(minBoxPt)\n    .add(maxBoxPt)\n    .multiplyByScalar(0.5);\n\n  // Begin 2nd pass to find naive radius and modify the ritter sphere.\n  let naiveRadius = 0;\n  for (const position of positions) {\n    currentPos.copy(position);\n\n    // Find the furthest point from the naive center to calculate the naive radius.\n    const r = fromPointsScratch\n      .copy(currentPos)\n      .subtract(naiveCenter)\n      .magnitude();\n    if (r > naiveRadius) {\n      naiveRadius = r;\n    }\n\n    // Make adjustments to the Ritter Sphere to include all points.\n    const oldCenterToPointSquared = fromPointsScratch\n      .copy(currentPos)\n      .subtract(ritterCenter)\n      .magnitudeSquared();\n\n    if (oldCenterToPointSquared > radiusSquared) {\n      const oldCenterToPoint = Math.sqrt(oldCenterToPointSquared);\n      // Calculate new radius to include the point that lies outside\n      ritterRadius = (ritterRadius + oldCenterToPoint) * 0.5;\n      radiusSquared = ritterRadius * ritterRadius;\n      // Calculate center of new Ritter sphere\n      const oldToNew = oldCenterToPoint - ritterRadius;\n      ritterCenter.x = (ritterRadius * ritterCenter.x + oldToNew * currentPos.x) / oldCenterToPoint;\n      ritterCenter.y = (ritterRadius * ritterCenter.y + oldToNew * currentPos.y) / oldCenterToPoint;\n      ritterCenter.z = (ritterRadius * ritterCenter.z + oldToNew * currentPos.z) / oldCenterToPoint;\n    }\n  }\n\n  if (ritterRadius < naiveRadius) {\n    ritterCenter.to(result.center);\n    // @ts-ignore TS2540: Cannot assign to 'radius' because it is a read-only property.\n    result.radius = ritterRadius;\n  } else {\n    naiveCenter.to(result.center);\n    // @ts-ignore TS2540: Cannot assign to 'radius' because it is a read-only property.\n    result.radius = naiveRadius;\n  }\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Matrix4} from '@math.gl/core';\nimport {BoundingSphere, Plane} from '@math.gl/culling';\n\nconst plane = new Plane();\nconst boundingSphere = new BoundingSphere();\nconst transform = new Matrix4();\n\n// @ts-ignore ts6133\n// eslint-disable-next-line\nexport default function cullingBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('BoundingSphere')\n    .add('BoundingSphere#new()', () => new BoundingSphere())\n    .add('BoundingSphere#transform', () => boundingSphere.transform(transform))\n\n    .group('Plane')\n    .add('Plane#new()', () => new Plane())\n    .add('Plane#transform', () => plane.transform(transform));\n\n  return suite;\n}\n","import coreBench from '../modules/core/test/bench';\nimport geospatialBench from '../modules/geospatial/test/bench';\nimport cullingBench from '../modules/culling/test/bench';\n\nexport default function addBenchmarks(suite, addReferenceBenchmarks) {\n  coreBench(suite, addReferenceBenchmarks);\n  geospatialBench(suite, addReferenceBenchmarks);\n  cullingBench(suite, addReferenceBenchmarks);\n  return suite;\n}\n","import React, {PureComponent} from 'react';\nimport {render} from 'react-dom';\n\nimport {BenchResults} from '@probe.gl/react-bench';\nimport {Bench} from '@probe.gl/bench';\n\nimport addBenchmarks from '../../test/modules.bench';\n\nconst addReferenceBenchmarks = false;\n\nconst LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\n\nfunction parseSIPrefix(itersPerSecond) {\n  const value = parseFloat(itersPerSecond);\n  const prefix = itersPerSecond[itersPerSecond.length - 1];\n  switch (prefix) {\n    case 'M':\n      return value * 1000000;\n    case 'K':\n      return value * 1000;\n    default:\n      return value;\n  }\n}\n\nexport default class App extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.suite = new Bench({\n      log: this._logResult.bind(this)\n    });\n    addBenchmarks(this.suite, addReferenceBenchmarks);\n\n    this.state = {\n      log: []\n    };\n  }\n\n  componentDidMount() {\n    this.suite\n      // Calibrate performance\n      .calibrate()\n      .run()\n      // when running in browser, notify test the driver that it's done\n      .then(() => {});\n  }\n\n  _logResult(result) {\n    const {entry, id, itersPerSecond, error} = result;\n\n    const {log} = this.state;\n    switch (entry) {\n      case LOG_ENTRY.GROUP:\n        log.push({id});\n        break;\n      case LOG_ENTRY.TEST:\n        const value = parseSIPrefix(itersPerSecond);\n        // log.push(`├─ ${id}: ${itersPerSecond} iterations/s ±${(error * 100).toFixed(2)}%`);\n        log.push({\n          id,\n          value,\n          formattedValue: itersPerSecond,\n          formattedError: `${(error * 100).toFixed(2)}%`\n        });\n        break;\n      case LOG_ENTRY.COMPLETE:\n        break;\n      default:\n    }\n    this.forceUpdate();\n  }\n\n  render() {\n    const {log} = this.state;\n    return (\n      <div>\n        <BenchResults log={log} />\n      </div>\n    );\n  }\n}\n\nexport function renderToDOM(container) {\n  render(<App />, container);\n}\n","require(\"core-js/modules/es6.array.is-array\");\n\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames[\"default\"] = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && process\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nvar process_ = globals.process || {};\nvar console_ = console;\nexport { self_ as self, window_ as window, global_ as global, document_ as document, process_ as process, console_ as console };","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar runtime = function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n\n  var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  exports.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  }; // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n\n\n  exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    } // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n\n  exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        } // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted; // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  } // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n      context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    } // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n\n\n    context.delegate = null;\n    return ContinueSentinel;\n  } // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse(); // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      } // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    } // Return an iterator with no values.\n\n\n    return {\n      next: doneResult\n    };\n  }\n\n  exports.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0; // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      } // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  }; // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n\n  return exports;\n}( // If this script is executing as a CommonJS module, use module.exports\n// as the regeneratorRuntime namespace. Otherwise create a new empty\n// object. Either way, the resulting object will be used to initialize\n// the regeneratorRuntime variable at the top of this file.\ntypeof module === \"object\" ? module.exports : {});\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","module.exports = require(\"regenerator-runtime\");\n","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport isElectron from './is-electron';\nexport default function isBrowser() {\n  var isNode = (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || isElectron();\n}\nexport function isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n"],"sourceRoot":""}